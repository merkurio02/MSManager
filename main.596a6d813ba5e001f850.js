(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return u});var r=n("mrSG"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),s="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),r=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:s})}catch(h){}try{for(var i=Object(r.g)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=Object(r.e)(o.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(Object(r.f)([],Object(r.e)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),Object(r.e)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=s),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.options,o=void 0===i?{}:i,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(this.name+"("+s+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:s,options:o});try{for(var u=Object(r.g)(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var l=Object(r.e)(c.value,2),h=l[1];s===this.normalizeInstanceIdentifier(l[0])&&h.resolve(a)}}catch(f){e={error:f}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}return this.invokeOnInitCallbacks(a,s),a},t.prototype.onInit=function(t,e){var n,r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);var o=this.instances.has(r);return o&&t(o,r),function(){i.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,i,o=this.onInitCallbacks.get(e);if(o)try{for(var s=Object(r.g)(o),a=s.next();!a.done;a=s.next()){var u=a.value;try{u(t,e)}catch(c){}}}catch(l){n={error:l}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===s?void 0:e),options:i}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t=s),this.component?this.component.multipleInstances?t:s:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>Object(i.a)(t(n,o)).pipe(Object(r.a)((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends o.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.a(this),n=this.destination;n.add(e);const r=Object(o.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>{const i=t[s.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new o.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("3N8a");const i=new(n("IjjT").a)(r.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),s=n("kJWO"),a=n("SpAZ"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a});var i="8.6.7";r.a.registerVersion("firebase",i,"app"),r.a.SDK_VERSION=i},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[s.a])return l=t,t=>{const e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("5+tZ"),i=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return sn}),n.d(e,"b",function(){return $a}),n.d(e,"c",function(){return Ha}),n.d(e,"d",function(){return qa}),n.d(e,"e",function(){return Ba}),n.d(e,"f",function(){return qu}),n.d(e,"g",function(){return ju}),n.d(e,"h",function(){return Ys}),n.d(e,"i",function(){return ou}),n.d(e,"j",function(){return Ss}),n.d(e,"k",function(){return Xa}),n.d(e,"l",function(){return Is}),n.d(e,"m",function(){return br}),n.d(e,"n",function(){return Oa}),n.d(e,"o",function(){return Ji}),n.d(e,"p",function(){return gn}),n.d(e,"q",function(){return on}),n.d(e,"r",function(){return mo}),n.d(e,"s",function(){return zs}),n.d(e,"t",function(){return Ks}),n.d(e,"u",function(){return Ya}),n.d(e,"v",function(){return aa}),n.d(e,"w",function(){return Du}),n.d(e,"x",function(){return sa}),n.d(e,"y",function(){return Tu}),n.d(e,"z",function(){return uu}),n.d(e,"A",function(){return mn}),n.d(e,"B",function(){return Wa}),n.d(e,"C",function(){return Ga}),n.d(e,"D",function(){return xs}),n.d(e,"E",function(){return As}),n.d(e,"F",function(){return Sr}),n.d(e,"G",function(){return js}),n.d(e,"H",function(){return pr}),n.d(e,"I",function(){return vn}),n.d(e,"J",function(){return Lu}),n.d(e,"K",function(){return na}),n.d(e,"L",function(){return gu}),n.d(e,"M",function(){return an}),n.d(e,"N",function(){return Ds}),n.d(e,"O",function(){return Ns}),n.d(e,"P",function(){return ca}),n.d(e,"Q",function(){return M}),n.d(e,"R",function(){return Iu}),n.d(e,"S",function(){return Ou}),n.d(e,"T",function(){return w}),n.d(e,"U",function(){return Su}),n.d(e,"V",function(){return Fu}),n.d(e,"W",function(){return vu}),n.d(e,"X",function(){return Qa}),n.d(e,"Y",function(){return eo}),n.d(e,"Z",function(){return cs}),n.d(e,"ab",function(){return fr}),n.d(e,"bb",function(){return Qn}),n.d(e,"cb",function(){return Mn}),n.d(e,"db",function(){return Un}),n.d(e,"eb",function(){return zn}),n.d(e,"fb",function(){return Bn}),n.d(e,"gb",function(){return qn}),n.d(e,"hb",function(){return Hn}),n.d(e,"ib",function(){return os}),n.d(e,"jb",function(){return Mu}),n.d(e,"kb",function(){return ss}),n.d(e,"lb",function(){return as}),n.d(e,"mb",function(){return Fn}),n.d(e,"nb",function(){return H}),n.d(e,"ob",function(){return Co}),n.d(e,"pb",function(){return Mo}),n.d(e,"qb",function(){return Vo}),n.d(e,"rb",function(){return is}),n.d(e,"sb",function(){return jt}),n.d(e,"tb",function(){return y}),n.d(e,"ub",function(){return Vn}),n.d(e,"vb",function(){return vo}),n.d(e,"wb",function(){return Ct}),n.d(e,"xb",function(){return ws}),n.d(e,"yb",function(){return oi}),n.d(e,"zb",function(){return Ao}),n.d(e,"Ab",function(){return Go}),n.d(e,"Bb",function(){return Va}),n.d(e,"Cb",function(){return tt}),n.d(e,"Db",function(){return at}),n.d(e,"Eb",function(){return S}),n.d(e,"Fb",function(){return O}),n.d(e,"Gb",function(){return it}),n.d(e,"Hb",function(){return ut}),n.d(e,"Ib",function(){return ko}),n.d(e,"Jb",function(){return Po}),n.d(e,"Kb",function(){return Ro}),n.d(e,"Lb",function(){return Do}),n.d(e,"Mb",function(){return Lo}),n.d(e,"Nb",function(){return tn}),n.d(e,"Ob",function(){return ts}),n.d(e,"Pb",function(){return An}),n.d(e,"Qb",function(){return en}),n.d(e,"Rb",function(){return Ua}),n.d(e,"Sb",function(){return Fo}),n.d(e,"Tb",function(){return Ma}),n.d(e,"Ub",function(){return Bo}),n.d(e,"Vb",function(){return jo}),n.d(e,"Wb",function(){return La}),n.d(e,"Xb",function(){return Qt}),n.d(e,"Yb",function(){return gr}),n.d(e,"Zb",function(){return ot}),n.d(e,"ac",function(){return xo}),n.d(e,"bc",function(){return Xo}),n.d(e,"cc",function(){return Zo}),n.d(e,"dc",function(){return Jo});var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),a=n("7o/Q");function u(){return function(t){return t.lift(new c(t))}}class c{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new l(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class l extends a.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class h extends o.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new i.a,t.add(this.source.subscribe(new d(this.getSubject(),this))),t.closed&&(this._connection=null,t=i.a.EMPTY)),t}refCount(){return u()(this)}}const f=(()=>{const t=h.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class d extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function p(){return new r.a}function g(t){for(let e in t)if(t[e]===g)return e;throw Error("Could not find renamed property on target object.")}function m(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function y(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(y).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function v(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const b=g({__forward_ref__:g});function w(t){return t.__forward_ref__=w,t.toString=function(){return y(this())},t}function _(t){return E(t)?t():t}function E(t){return"function"==typeof t&&t.hasOwnProperty(b)&&t.__forward_ref__===w}function S(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function O(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function C(t){return T(t,A)||T(t,k)}function T(t,e){return t.hasOwnProperty(e)?t[e]:null}function I(t){return t&&(t.hasOwnProperty(x)||t.hasOwnProperty(j))?t[x]:null}const A=g({"\u0275prov":g}),x=g({"\u0275inj":g}),k=g({ngInjectableDef:g}),j=g({ngInjectorDef:g});var N=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let D;function R(t){const e=D;return D=t,e}function P(t,e,n){const r=C(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&N.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${y(t)}]`)}function L(t){return{toString:t}.toString()}var V=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),M=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const F="undefined"!=typeof globalThis&&globalThis,U="undefined"!=typeof window&&window,q="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,B="undefined"!=typeof global&&global,H=F||B||U||q,z={},K=[],G=g({"\u0275cmp":g}),W=g({"\u0275dir":g}),$=g({"\u0275pipe":g}),Q=g({"\u0275mod":g}),Y=g({"\u0275loc":g}),X=g({"\u0275fac":g}),Z=g({__NG_ELEMENT_ID__:g});let J=0;function tt(t){return L(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===V.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||K,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||M.Emulated,id:"c",styles:t.styles||K,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=J++,n.inputs=st(t.inputs,e),n.outputs=st(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(et):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(nt):null,n})}function et(t){return ct(t)||function(t){return t[W]||null}(t)}function nt(t){return function(t){return t[$]||null}(t)}const rt={};function it(t){const e={type:t.type,bootstrap:t.bootstrap||K,declarations:t.declarations||K,imports:t.imports||K,exports:t.exports||K,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&L(()=>{rt[t.id]=t.type}),e}function ot(t,e){return L(()=>{const n=lt(t,!0);n.declarations=e.declarations||K,n.imports=e.imports||K,n.exports=e.exports||K})}function st(t,e){if(null==t)return z;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const at=tt;function ut(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ct(t){return t[G]||null}function lt(t,e){const n=t[Q]||null;if(!n&&!0===e)throw new Error(`Type ${y(t)} does not have '\u0275mod' property.`);return n}const ht=20,ft=10;function dt(t){return Array.isArray(t)&&"object"==typeof t[1]}function pt(t){return Array.isArray(t)&&!0===t[1]}function gt(t){return 0!=(8&t.flags)}function mt(t){return 2==(2&t.flags)}function yt(t){return 1==(1&t.flags)}function vt(t){return null!==t.template}function bt(t,e){return t.hasOwnProperty(X)?t[X]:null}class wt extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function _t(t){return"string"==typeof t?t:null==t?"":String(t)}function Et(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():_t(t)}function St(t,e){const n=e?" in "+e:"";throw new wt("201",`No provider for ${Et(t)} found${n}`)}class Ot{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function Ct(){return Tt}function Tt(t){return t.type.prototype.ngOnChanges&&(t.setInput=At),It}function It(){const t=xt(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===z)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function At(t,e,n,r){const i=xt(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:z,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new Ot(u&&u.currentValue,e,s===z),t[r]=e}function xt(t){return t.__ngSimpleChanges__||null}Ct.ngInherit=!0;let kt=void 0;function jt(t){kt=t}function Nt(t){return!!t.listen}const Dt={createRenderer:(t,e)=>void 0!==kt?kt:"undefined"!=typeof document?document:void 0};function Rt(t){for(;Array.isArray(t);)t=t[0];return t}function Pt(t,e){return Rt(e[t])}function Lt(t,e){return Rt(e[t.index])}function Vt(t,e){return t.data[e]}function Mt(t,e){const n=e[t];return dt(n)?n:n[0]}function Ft(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Ut(t){return 4==(4&t[2])}function qt(t){return 128==(128&t[2])}function Bt(t,e){return null==e?null:t[e]}function Ht(t){t[18]=0}function zt(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Kt={lFrame:he(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Gt(){return Kt.bindingsEnabled}function Wt(){return Kt.lFrame.lView}function $t(){return Kt.lFrame.tView}function Qt(t){Kt.lFrame.contextLView=t}function Yt(){let t=Xt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Xt(){return Kt.lFrame.currentTNode}function Zt(t,e){const n=Kt.lFrame;n.currentTNode=t,n.isParent=e}function Jt(){return Kt.lFrame.isParent}function te(){return Kt.isInCheckNoChangesMode}function ee(t){Kt.isInCheckNoChangesMode=t}function ne(){return Kt.lFrame.bindingIndex++}function re(t,e){const n=Kt.lFrame;n.bindingIndex=n.bindingRootIndex=t,ie(e)}function ie(t){Kt.lFrame.currentDirectiveIndex=t}function oe(){return Kt.lFrame.currentQueryIndex}function se(t){Kt.lFrame.currentQueryIndex=t}function ae(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function ue(t,e,n){if(n&N.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&N.Host||(r=ae(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Kt.lFrame=le();return r.currentTNode=e,r.lView=t,!0}function ce(t){const e=le(),n=t[1];Kt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function le(){const t=Kt.lFrame,e=null===t?null:t.child;return null===e?he(t):e}function he(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function fe(){const t=Kt.lFrame;return Kt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const de=fe;function pe(){const t=fe();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ge(){return Kt.lFrame.selectedIndex}function me(t){Kt.lFrame.selectedIndex=t}function ye(){const t=Kt.lFrame;return Vt(t.tView,t.selectedIndex)}function ve(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function be(t,e,n){Ee(t,e,3,n)}function we(t,e,n,r){(3&t[2])===n&&Ee(t,e,n,r)}function _e(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Ee(t,e,n,r){const i=null!=r?r:-1,o=e.length-1;let s=0;for(let a=void 0!==r?65535&t[18]:0;a<o;a++)if("number"==typeof e[a+1]){if(s=e[a],null!=r&&s>=r)break}else e[a]<0&&(t[18]+=65536),(s<i||-1==i)&&(Se(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function Se(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}const Oe=-1;class Ce{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Te(t,e,n){const r=Nt(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];Ae(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function Ie(t){return 3===t||4===t||6===t}function Ae(t){return 64===t.charCodeAt(0)}function xe(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||ke(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function ke(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function je(t){return t!==Oe}function Ne(t){return 32767&t}function De(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Re=!0;function Pe(t){const e=Re;return Re=t,e}let Le=0;function Ve(t,e){const n=Fe(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Me(r.data,t),Me(e,null),Me(r.blueprint,null));const i=Ue(t,e),o=t.injectorIndex;if(je(i)){const t=Ne(i),n=De(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function Me(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Fe(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Ue(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return Oe;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Oe}function qe(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Z)&&(r=n[Z]),null==r&&(r=n[Z]=Le++);const i=255&r,o=1<<i,s=64&i,a=32&i,u=e.data;128&i?s?a?u[t+7]|=o:u[t+6]|=o:a?u[t+5]|=o:u[t+4]|=o:s?a?u[t+3]|=o:u[t+2]|=o:a?u[t+1]|=o:u[t]|=o}(t,e,n)}function Be(t,e,n){if(n&N.Optional)return t;St(e,"NodeInjector")}function He(t,e,n,r){if(n&N.Optional&&void 0===r&&(r=null),0==(n&(N.Self|N.Host))){const i=t[9],o=R(void 0);try{return i?i.get(e,r,n&N.Optional):P(e,r,n&N.Optional)}finally{R(o)}}return Be(r,e,n)}function ze(t,e,n,r=N.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Z)?t[Z]:void 0;return"number"==typeof e?e>=0?255&e:Ge:e}(n);if("function"==typeof o){if(!ue(e,t,r))return r&N.Host?Be(i,n,r):He(e,n,r,i);try{const t=o();if(null!=t||r&N.Optional)return t;St(n)}finally{de()}}else if("number"==typeof o){let i=null,s=Fe(t,e),a=Oe,u=r&N.Host?e[16][6]:null;for((-1===s||r&N.SkipSelf)&&(a=-1===s?Ue(t,e):e[s+8],a!==Oe&&Xe(r,!1)?(i=e[1],s=Ne(a),e=De(a,e)):s=-1);-1!==s;){const t=e[1];if(Ye(o,s,t.data)){const t=We(s,e,n,i,r,u);if(t!==Ke)return t}a=e[s+8],a!==Oe&&Xe(r,e[1].data[s+8]===u)&&Ye(o,s,e)?(i=t,s=Ne(a),e=De(a,e)):s=-1}}}return He(e,n,r,i)}const Ke={};function Ge(){return new Ze(Yt(),Wt())}function We(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=$e(a,s,n,null==r?mt(a)&&Re:r!=s&&0!=(3&a.type),i&N.Host&&o===a);return null!==u?Qe(e,s,u,a):Ke}function $e(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,c=o>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=s[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=s[u];if(t&&vt(t)&&t.type===n)return u}return null}function Qe(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof Ce){const s=i;s.resolving&&function(t,e){throw new wt("200","Circular dependency in DI detected for "+t)}(Et(o[n]));const a=Pe(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?R(s.injectImpl):null;ue(t,r,N.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=Tt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==u&&R(u),Pe(a),s.resolving=!1,de()}}return i}function Ye(t,e,n){const r=64&t,i=32&t;let o;return o=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(o&1<<t)}function Xe(t,e){return!(t&N.Self||t&N.Host&&e)}class Ze{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return ze(this._tNode,this._lView,t,void 0,e)}}function Je(t){const e=t;if(E(t))return()=>{const t=Je(_(e));return t?t():null};let n=bt(e);if(null===n){const t=I(e);n=t&&t.factory}return n||null}function tn(t){return L(()=>{const e=t.prototype.constructor,n=e[X]||Je(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[X]||Je(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function en(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Ie(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Yt(),t)}const nn="__parameters__";function rn(t,e,n){return L(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(nn)?t[nn]:Object.defineProperty(t,nn,{value:[]})[nn];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class on{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=S({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const sn=new on("AnalyzeForEntryComponents"),an=Function;function un(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),un(r,e)):e!==t&&e.push(r)}return e}function cn(t,e){t.forEach(t=>Array.isArray(t)?cn(t,e):e(t))}function ln(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function hn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function fn(t,e,n){let r=pn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function dn(t,e){const n=pn(t,e);if(n>=0)return t[1|n]}function pn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}const gn=rn("Inject",t=>({token:t})),mn=rn("Optional"),yn=rn("Self"),vn=rn("SkipSelf"),bn=rn("Host"),wn={},_n=/\n/gm,En="__source",Sn=g({provide:String,useValue:g});let On,Cn=void 0;function Tn(t){const e=Cn;return Cn=t,e}function In(t,e=N.Default){if(void 0===Cn)throw new Error("inject() must be called from an injection context");return null===Cn?P(t,void 0,e):Cn.get(t,e&N.Optional?null:void 0,e)}function An(t,e=N.Default){return(D||In)(_(t),e)}function xn(t){const e=[];for(let n=0;n<t.length;n++){const r=_(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=N.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof mn||"Optional"===i.ngMetadataName||i===mn?n|=N.Optional:i instanceof vn||"SkipSelf"===i.ngMetadataName||i===vn?n|=N.SkipSelf:i instanceof yn||"Self"===i.ngMetadataName||i===yn?n|=N.Self:i instanceof bn||"Host"===i.ngMetadataName||i===bn?n|=N.Host:t=i instanceof gn||i===gn?i.token:i}e.push(An(t,n))}else e.push(An(r))}return e}function kn(t){var e;return(null===(e=function(){if(void 0===On&&(On=null,H.trustedTypes))try{On=H.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return On}())||void 0===e?void 0:e.createHTML(t))||t}class jn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see https://g.co/ng/security#xss)"}}class Nn extends jn{getTypeName(){return"HTML"}}class Dn extends jn{getTypeName(){return"Style"}}class Rn extends jn{getTypeName(){return"Script"}}class Pn extends jn{getTypeName(){return"URL"}}class Ln extends jn{getTypeName(){return"ResourceURL"}}function Vn(t){return t instanceof jn?t.changingThisBreaksApplicationSecurity:t}function Mn(t,e){const n=Fn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Fn(t){return t instanceof jn&&t.getTypeName()||null}function Un(t){return new Nn(t)}function qn(t){return new Dn(t)}function Bn(t){return new Rn(t)}function Hn(t){return new Pn(t)}function zn(t){return new Ln(t)}class Kn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(kn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Gn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=kn(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=kn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Wn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,$n=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Qn(t){return(t=String(t)).match(Wn)||t.match($n)?t:"unsafe:"+t}function Yn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Xn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Zn=Yn("area,br,col,hr,img,wbr"),Jn=Yn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),tr=Yn("rp,rt"),er=Xn(tr,Jn),nr=Xn(Zn,Xn(Jn,Yn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Xn(tr,Yn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),er),rr=Yn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ir=Yn("srcset"),or=Xn(rr,ir,Yn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Yn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),sr=Yn("script,style,template");class ar{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!nr.hasOwnProperty(e))return this.sanitizedSomething=!0,!sr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!or.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;rr[o]&&(s=Qn(s)),ir[o]&&(r=s,s=(r=String(r)).split(",").map(t=>Qn(t.trim())).join(", ")),this.buf.push(" ",e,'="',lr(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();nr.hasOwnProperty(e)&&!Zn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(lr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const ur=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,cr=/([^\#-~ |!])/g;function lr(t){return t.replace(/&/g,"&amp;").replace(ur,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(cr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let hr;function fr(t,e){let n=null;try{hr=hr||function(t){const e=new Gn(t);return function(){try{return!!(new window.DOMParser).parseFromString(kn(""),"text/html")}catch(t){return!1}}()?new Kn(e):e}(t);let r=e?String(e):"";n=hr.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=hr.getInertBodyElement(r)}while(r!==o);return(new ar).sanitizeChildren(dr(n)||n)}finally{if(n){const t=dr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function dr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var pr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function gr(t){const e=function(){const t=Wt();return t&&t[12]}();return e?e.sanitize(pr.URL,t)||"":Mn(t,"URL")?Vn(t):Qn(_t(t))}function mr(t){return t.ngDebugContext}function yr(t){return t.ngOriginalError}function vr(t,...e){t.error(...e)}class br{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||vr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?mr(t)?mr(t):this._findContext(yr(t)):null}_findOriginalError(t){let e=yr(t);for(;e&&yr(e);)e=yr(e);return e}}function wr(t,e){t.__ngContext__=e}const _r=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(H))();function Er(t){return t instanceof Function?t():t}var Sr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function Or(t,e){return(void 0)(t,e)}function Cr(t){const e=t[3];return pt(e)?e[3]:e}function Tr(t){return Ar(t[13])}function Ir(t){return Ar(t[4])}function Ar(t){for(;null!==t&&!pt(t);)t=t[4];return t}function xr(t,e,n,r,i){if(null!=r){let o,s=!1;pt(r)?o=r:dt(r)&&(s=!0,r=r[0]);const a=Rt(r);0===t&&null!==n?null==i?Lr(e,n,a):Pr(e,n,a,i||null,!0):1===t&&null!==n?Pr(e,n,a,i||null,!0):2===t?function(t,e,n){const r=Mr(t,e);r&&function(t,e,n,r){Nt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==Rt(n)&&xr(e,t,r,o,i);for(let s=ft;s<n.length;s++){const i=n[s];Hr(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function kr(t,e,n){return Nt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function jr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,zt(i,-1)),n.splice(r,1)}function Nr(t,e){if(t.length<=ft)return;const n=ft+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&jr(o,r),e>0&&(t[n-1][4]=r[4]);const s=hn(t,ft+e);Hr(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Dr(t,e){if(!(256&e[2])){const n=e[11];Nt(n)&&n.destroyNode&&Hr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Rr(t[1],t);for(;e;){let n=null;if(dt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)dt(e)&&Rr(e[1],e),e=e[3];null===e&&(e=t),dt(e)&&Rr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Rr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Ce)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const t=n[o+1],s="function"==typeof t?t(e):Rt(e[t]),a=r[i=n[o+2]],u=n[o+3];"boolean"==typeof u?s.removeEventListener(n[o],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),o+=2}else{const t=r[i=n[o+1]];n[o].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&Nt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&pt(e[3])){n!==e[3]&&jr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Pr(t,e,n,r,i){Nt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Lr(t,e,n){Nt(t)?t.appendChild(e,n):e.appendChild(n)}function Vr(t,e,n,r,i){null!==r?Pr(t,e,n,r,i):Lr(t,e,n)}function Mr(t,e){return Nt(t)?t.parentNode(e):e.parentNode}function Fr(t,e,n,r){const i=function(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===M.None||e===M.Emulated)return null}return Lt(r,n)}(t,e.parent,n)}(t,r,e),o=e[11],s=function(t,e,n){return function(t,e,n){return 40&t.type?Lt(t,n):null}(t,0,n)}(r.parent||e[6],0,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Vr(o,i,n[a],s,!1);else Vr(o,i,n,s,!1)}function Ur(t,e){if(null!==e){const n=e.type;if(3&n)return Lt(e,t);if(4&n)return qr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Ur(t,n);{const n=t[e.index];return pt(n)?qr(-1,n):Rt(n)}}if(32&n)return Or(e,t)()||Rt(t[e.index]);{const n=t[16],r=n[6],i=Cr(n),o=r.projection[e.projection];return null!=o?Ur(i,o):Ur(t,e.next)}}return null}function qr(t,e){const n=ft+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Ur(t,r)}return e[7]}function Br(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===e&&(a&&wr(Rt(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Br(t,e,n.child,r,i,o,!1),xr(e,t,i,a,o);else if(32&u){const s=Or(n,r);let u;for(;u=s();)xr(e,t,i,u,o);xr(e,t,i,a,o)}else 16&u?zr(t,e,r,n,i,o):xr(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Hr(t,e,n,r,i,o){Br(n,r,t.firstChild,e,i,o,!1)}function zr(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)xr(e,t,i,a[u],o);else Br(t,e,a,s[3],i,o,!0)}function Kr(t,e,n){Nt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Gr(t,e,n){Nt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function Wr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const $r="ng-template";function Qr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Wr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Yr(t){return 4===t.type&&t.value!==$r}function Xr(t,e,n){return e===(4!==t.type||n?t.value:$r)}function Zr(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(Ie(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!Xr(t,u,n)||""===u&&1===e.length){if(Jr(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!Qr(t.attrs,c,n)){if(Jr(r))return!1;s=!0}continue}const l=ti(8&r?"class":u,i,Yr(t),n);if(-1===l){if(Jr(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==Wr(e,c,0)||2&r&&c!==t){if(Jr(r))return!1;s=!0}}}}else{if(!s&&!Jr(r)&&!Jr(u))return!1;if(s&&Jr(u))continue;s=!1,r=u|1&r}}return Jr(r)||s}function Jr(t){return 0==(1&t)}function ti(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function ei(t,e,n=!1){for(let r=0;r<e.length;r++)if(Zr(t,e[r],n))return!0;return!1}function ni(t,e){return t?":not("+e.trim()+")":e}function ri(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||Jr(s)||(e+=ni(o,i),i=""),r=s,o=o||!Jr(r);n++}return""!==i&&(e+=ni(o,i)),e}const ii={};function oi(t){si($t(),Wt(),ge()+t,te())}function si(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&be(e,r,n)}else{const r=t.preOrderHooks;null!==r&&we(e,r,0,n)}me(n)}function ai(t,e){return t<<17|e<<2}function ui(t){return t>>17&32767}function ci(t){return 2|t}function li(t){return(131068&t)>>2}function hi(t,e){return-131069&t|e<<2}function fi(t){return 1|t}function di(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];se(i),n.contentQueries(2,e[o],o)}}}function pi(t,e,n,r,i,o,s,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Ht(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function gi(t,e,n,r,i){let o=t.data[e];if(null===o)o=function(t,e,n,r,i){const o=Xt(),s=Jt(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}(t,e,n,r,i),Kt.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const t=function(){const t=Kt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===t?-1:t.injectorIndex}return Zt(o,!0),o}function mi(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function yi(t,e,n){ce(e);try{const r=t.viewQuery;null!==r&&Gi(1,r,n);const i=t.template;null!==i&&wi(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&di(t,e),t.staticViewQueries&&Gi(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)qi(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,pe()}}function vi(t,e,n,r){const i=e[2];if(256==(256&i))return;ce(e);const o=te();try{Ht(e),Kt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&wi(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&be(e,n,null)}else{const n=t.preOrderHooks;null!==n&&we(e,n,0,null),_e(e,0)}if(function(t){for(let e=Tr(t);null!==e;e=Ir(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&zt(r,1),n[2]|=1024}}}(e),function(t){for(let e=Tr(t);null!==e;e=Ir(e))for(let t=ft;t<e.length;t++){const n=e[t],r=n[1];qt(n)&&vi(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&di(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&be(e,n)}else{const n=t.contentHooks;null!==n&&we(e,n,1),_e(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)me(~r);else{const i=r,o=n[++t],s=n[++t];re(o,i),s(2,e[i])}}}finally{me(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Fi(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Gi(2,u,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&be(e,n)}else{const n=t.viewHooks;null!==n&&we(e,n,2),_e(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,zt(e[3],-1))}finally{pe()}}function bi(t,e,n,r){const i=e[10],o=!te(),s=Ut(e);try{o&&!s&&i.begin&&i.begin(),s&&yi(t,e,r),vi(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function wi(t,e,n,r,i){const o=ge();try{me(-1),2&r&&e.length>ht&&si(t,e,ht,te()),n(r,i)}finally{me(o)}}function _i(t,e,n){Gt()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Ve(n,e),wr(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=vt(r);o&&Pi(e,n,r);const u=Qe(e,t,a,n);wr(u,e),null!==s&&Li(0,a-i,u,r,0,s),o&&(Mt(n.index,e)[8]=u)}}(t,e,n,Lt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Kt.lFrame.currentDirectiveIndex;try{me(o);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];ie(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||ki(r,i)}}finally{me(-1),ie(s)}}(t,e,n))}function Ei(t,e,n=Lt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function Si(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Oi(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Oi(t,e,n,r,i,o,s,a,u,c){const l=ht+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:ii);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function Ci(t,e,n,r){const i=$i(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&Qi(t).push(r,i.length-1))}function Ti(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Ii(t,e,n,r,i,o,s,a){const u=Lt(e,n);let c,l=e.inputs;var h;!a&&null!=l&&(c=l[r])?(Xi(t,n,c,r,i),mt(e)&&function(t,e){const n=Mt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=s?s(i,e.value||"",r):i,Nt(o)?o.setProperty(u,r,i):Ae(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Ai(t,e,n,r){let i=!1;if(Gt()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];ei(n,s.selectors,!1)&&(i||(i=[]),qe(Ve(n,e),t,s.type),vt(s)?(ji(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,Di(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=mi(t,e,o.length,null);for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=xe(n.mergedAttrs,c.hostAttrs),Ri(t,n,e,u,c),Ni(u,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||Yr(e)?null:Vi(n,i);o.push(c),s=Ti(n,u,s),a=Ti(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new wt("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=xe(n.mergedAttrs,n.attrs),i}function xi(t,e,n,r,i,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,s)}}function ki(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function ji(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Ni(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;vt(e)&&(n[""]=t)}}function Di(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Ri(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=bt(i.type)),s=new Ce(o,vt(i),null);t.blueprint[r]=s,n[r]=s,xi(t,e,0,r,mi(t,n,i.hostVars,ii),i)}function Pi(t,e,n){const r=Lt(e,t),i=Si(n),o=t[10],s=Bi(t,pi(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function Li(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function Vi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Mi(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Fi(t,e){const n=Mt(e,t);if(qt(n)){const t=n[1];80&n[2]?vi(t,n,t.template,n[8]):n[5]>0&&Ui(n)}}function Ui(t){for(let n=Tr(t);null!==n;n=Ir(n))for(let t=ft;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];vi(t,e,t.template,e[8])}else e[5]>0&&Ui(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Mt(e[n],t);qt(r)&&r[5]>0&&Ui(r)}}function qi(t,e){const n=Mt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),yi(r,n,n[8])}function Bi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Hi(t){for(;t;){t[2]|=64;const e=Cr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function zi(t,e,n){const r=e[10];r.begin&&r.begin();try{vi(t,e,t.template,n)}catch(i){throw Yi(e,i),i}finally{r.end&&r.end()}}function Ki(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Ft(n),i=r[1];bi(i,r,i.template,n)}}(t[8])}function Gi(t,e,n){se(0),e(t,n)}const Wi=(()=>Promise.resolve(null))();function $i(t){return t[7]||(t[7]=[])}function Qi(t){return t.cleanup||(t.cleanup=[])}function Yi(t,e){const n=t[9],r=n?n.get(br,null):null;r&&r.handleError(e)}function Xi(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Zi(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=v(i,t):2==o&&(r=v(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const Ji=new on("INJECTOR",-1);class to{get(t,e=wn){if(e===wn){const e=new Error(`NullInjectorError: No provider for ${y(t)}!`);throw e.name="NullInjectorError",e}return e}}const eo=new on("Set Injector scope."),no={},ro={},io=[];let oo=void 0;function so(){return void 0===oo&&(oo=new to),oo}function ao(t,e=null,n=null,r){return new uo(t,n,e||so(),r)}class uo{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&cn(e,n=>this.processProvider(n,t,e)),cn([t],t=>this.processInjectorType(t,[],i)),this.records.set(Ji,ho(void 0,this));const o=this.records.get(eo);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:y(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=wn,n=N.Default){this.assertNotDestroyed();const r=Tn(this);try{if(!(n&N.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof on)&&C(t);e=n&&this.injectableDefInScope(n)?ho(co(t),no):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&N.Self?so():this.parent).get(t,e=n&N.Optional&&e===wn?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(y(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[En]&&i.unshift(e[En]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=y(e);if(Array.isArray(e))i=e.map(y).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):y(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(_n,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{Tn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(y(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=_(t)))return!1;let r=I(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=I(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{cn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];cn(r,t=>this.processProvider(t,n,r||io))}}this.injectorDefTypes.add(o),this.records.set(o,ho(r.factory,no));const a=r.providers;if(null!=a&&!s){const e=t;cn(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=po(t=_(t))?t:_(t&&t.provide);const i=function(t,e,n){return fo(t)?ho(void 0,t.useValue):ho(lo(t),no)}(t);if(po(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=ho(void 0,no,!0),e.factory=()=>xn(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===no&&(e.value=ro,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function co(t){const e=C(t),n=null!==e?e.factory:bt(t);if(null!==n)return n;const r=I(t);if(null!==r)return r.factory;if(t instanceof on)throw new Error(`Token ${y(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=function(t,e){const n=[];for(let r=0;r<t;r++)n.push("?");return n}(e);throw new Error(`Can't resolve all parameters for ${y(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[A]||t[k]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function lo(t,e,n){let r=void 0;if(po(t)){const e=_(t);return bt(e)||co(e)}if(fo(t))r=()=>_(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...xn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>An(_(t.useExisting));else{const e=_(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return bt(e)||co(e);r=()=>new e(...xn(t.deps))}var i;return r}function ho(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function fo(t){return null!==t&&"object"==typeof t&&Sn in t}function po(t){return"function"==typeof t}const go=function(t,e,n){return function(t,e=null,n=null,r){const i=ao(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let mo=(()=>{class t{static create(t,e){return Array.isArray(t)?go(t,e,""):go(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=wn,t.NULL=new to,t.\u0275prov=S({token:t,providedIn:"any",factory:()=>An(Ji)}),t.__NG_ELEMENT_ID__=-1,t})();function yo(t,e){ve(Ft(t)[1],Yt())}function vo(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(vt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=bo(t.inputs),e.declaredInputs=bo(t.declaredInputs),e.outputs=bo(t.outputs);const n=i.hostBindings;n&&Eo(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&wo(t,o),s&&_o(t,s),m(t.inputs,i.inputs),m(t.declaredInputs,i.declaredInputs),m(t.outputs,i.outputs),vt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===vo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=xe(i.hostAttrs,n=xe(n,i.hostAttrs))}}(r)}function bo(t){return t===z?{}:t===K?[]:t}function wo(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function _o(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Eo(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let So=null;function Oo(){if(!So){const t=H.Symbol;if(t&&t.iterator)So=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(So=n)}}}return So}function Co(t){return!!To(t)&&(Array.isArray(t)||!(t instanceof Map)&&Oo()in t)}function To(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Io(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Ao(t,e,n,r){const i=Wt();return Io(i,ne(),e)&&($t(),function(t,e,n,r,i,o){const s=Lt(t,e);!function(t,e,n,r,i,o,s){if(null==o)Nt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==s?_t(o):s(o,r||"",i);Nt(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],s,o,t.value,n,r,i)}(ye(),i,t,e,n,r)),Ao}function xo(t,e,n,r,i,o,s,a){const u=Wt(),c=$t(),l=t+ht,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){const c=e.consts,l=gi(e,t,4,s||null,Bt(c,a));Ai(e,n,l,Bt(c,u)),ve(e,l);const h=l.tViews=Oi(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,s):c.data[l];Zt(h,!1);const f=u[11].createComment("");Fr(c,u,f,h),wr(f,u),Bi(u,u[l]=Mi(f,u,f,h)),yt(h)&&_i(c,u,h),null!=s&&Ei(u,h,a)}function ko(t,e=N.Default){const n=Wt();return null===n?An(t,e):ze(Yt(),n,_(t),e)}function jo(t,e,n){const r=Wt();return Io(r,ne(),e)&&Ii($t(),ye(),r,t,e,r[11],n,!1),jo}function No(t,e,n,r,i){const o=i?"class":"style";Xi(t,n,e.inputs[o],o,r)}function Do(t,e,n,r){const i=Wt(),o=$t(),s=ht+t,a=i[11],u=i[s]=kr(a,e,Kt.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,u=gi(e,t,2,i,Bt(a,o));return Ai(e,n,u,Bt(a,s)),null!==u.attrs&&Zi(u,u.attrs,!1),null!==u.mergedAttrs&&Zi(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,0,e,n,r):o.data[s];Zt(c,!0);const l=c.mergedAttrs;null!==l&&Te(a,u,l);const h=c.classes;null!==h&&Gr(a,u,h);const f=c.styles;null!==f&&Kr(a,u,f),64!=(64&c.flags)&&Fr(o,i,u,c),0===Kt.lFrame.elementDepthCount&&wr(u,i),Kt.lFrame.elementDepthCount++,yt(c)&&(_i(o,i,c),function(t,e,n){if(gt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(o,c,i)),null!==r&&Ei(i,c)}function Ro(){let t=Yt();Jt()?Kt.lFrame.isParent=!1:(t=t.parent,Zt(t,!1));const e=t;Kt.lFrame.elementDepthCount--;const n=$t();n.firstCreatePass&&(ve(n,t),gt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&No(n,e,Wt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&No(n,e,Wt(),e.stylesWithoutHost,!1)}function Po(t,e,n,r){Do(t,e,n,r),Ro()}function Lo(){return Wt()}function Vo(t){return!!t&&"function"==typeof t.then}function Mo(t){return!!t&&"function"==typeof t.subscribe}function Fo(t,e,n=!1,r){const i=Wt(),o=$t(),s=Yt();return function(t,e,n,r,i,o,s=!1,a){const u=yt(r),c=t.firstCreatePass&&Qi(t),l=$i(e);let h=!0;if(3&r.type){const f=Lt(r,e),d=a?a(f):z,p=d.target||f,g=l.length,m=a?t=>a(Rt(t[r.index])).target:r.index;if(Nt(n)){let s=null;if(!a&&u&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=qo(r,e,o,!1);const t=n.listen(d.name||p,i,o);l.push(o,t),c&&c.push(i,m,g,g+1)}}else o=qo(r,e,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,m,g,s)}else o=qo(r,e,o,!1);const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),Fo}function Uo(t,e,n){try{return!1!==e(n)}catch(r){return Yi(t,r),!1}}function qo(t,e,n,r){return function i(o){if(o===Function)return n;const s=2&t.flags?Mt(t.index,e):e;0==(32&e[2])&&Hi(s);let a=Uo(e,n,o),u=i.__ngNextListenerFn__;for(;u;)a=Uo(e,u,o)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function Bo(t=1){return function(t){return(Kt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Kt.lFrame.contextLView))[8]}(t)}const Ho=[];function zo(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?ui(o):li(o),u=!1;for(;0!==a&&(!1===u||s);){const n=t[a+1];Ko(t[a],e)&&(u=!0,t[a+1]=r?fi(n):ci(n)),a=r?ui(n):li(n)}u&&(t[n+1]=r?ci(o):fi(o))}function Ko(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&pn(t,e)>=0}function Go(t,e){return function(t,e,n,r){const i=Wt(),o=$t(),s=function(t){const e=Kt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+2,n}();o.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[ge()],s=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(16&t.flags)})(o)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=Kt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=e.residualClasses;if(null===i)0===e.classBindings&&(n=$o(n=Wo(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=Wo(i,t,e,n,r),null===o){let n=function(t,e,n){const r=e.classBindings;if(0!==li(r))return t[ui(r)]}(t,e);void 0!==n&&Array.isArray(n)&&(n=Wo(null,t,e,n[1],r),n=$o(n,e.attrs,r),function(t,e,n,r){t[ui(e.classBindings)]=r}(t,e,0,n))}else o=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=$o(r,t[o].hostAttrs,true);return $o(r,e.attrs,true)}(t,e)}return void 0!==o&&(e.residualClasses=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=e.classBindings,a=ui(s),u=li(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||pn(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=ui(t[a+1]);t[r+1]=ai(e,a),0!==e&&(t[e+1]=hi(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=ai(a,0),0!==a&&(t[a+1]=hi(t[a+1],r)),a=r;else t[r+1]=ai(u,0),0===a?a=r:t[u+1]=hi(t[u+1],r),u=r;l&&(t[r+1]=ci(t[r+1])),zo(t,c,r,!0),zo(t,c,r,!1),function(t,e,n,r,i){const o=t.residualClasses;null!=o&&"string"==typeof e&&pn(o,e)>=0&&(n[r+1]=fi(n[r+1]))}(e,c,t,r),s=ai(a,u),e.classBindings=s}(i,o,e,n,s)}}(o,t,s,true),e!==ii&&Io(i,s,e)&&function(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];Yo(1==(1&c)?Qo(u,e,n,i,li(c),s):void 0)||(Yo(o)||function(t){return 2==(2&t)}(c)&&(o=Qo(u,null,n,i,a,s)),function(t,e,n,r,i){const o=Nt(t);i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r)}(r,0,Pt(ge(),n),i,o))}(o,o.data[ge()],i,i[11],t,i[s+1]=function(t,e){return null==t||"object"==typeof t&&(t=y(Vn(t))),t}(e),true,s)}(t,e),Go}function Wo(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=$o(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function $o(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),fn(t,s,!!n||e[++o]))}return void 0===t?null:t}function Qo(t,e,n,r,i,o){const s=null===e;let a=void 0;for(;i>0;){const e=t[i],o=Array.isArray(e),u=o?e[1]:e,c=null===u;let l=n[i+1];l===ii&&(l=c?Ho:void 0);let h=c?dn(l,r):u===r?l:void 0;if(o&&!Yo(h)&&(h=dn(e,r)),Yo(h)&&(a=h,s))return a;const f=t[i+1];i=s?ui(f):li(f)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=dn(t,r))}return a}function Yo(t){return void 0!==t}function Xo(t,e=""){const n=Wt(),r=$t(),i=t+ht,o=r.firstCreatePass?gi(r,i,1,e,null):r.data[i],s=n[i]=function(t,e){return Nt(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Fr(r,n,s,o),Zt(o,!1)}function Zo(t){return Jo("",t,""),Zo}function Jo(t,e,n){const r=Wt(),i=function(t,e,n,r){return Io(t,ne(),n)?e+_t(n)+r:ii}(r,t,e,n);return i!==ii&&function(t,e,n){const r=Pt(e,t);!function(t,e,n){Nt(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}(r,ge(),i),Jo}function ts(t,e,n){const r=Wt();return Io(r,ne(),e)&&Ii($t(),ye(),r,t,e,r[11],n,!0),ts}const es=void 0;var ns=["en",[["a","p"],["AM","PM"],es],[["AM","PM"],es,es],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],es,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],es,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",es,"{1} 'at' {0}",es],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let rs={};function is(t,e,n){"string"!=typeof e&&(n=e,e=t[cs.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),rs[e]=t,n&&(rs[e][cs.ExtraData]=n)}function os(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=us(e);if(n)return n;const r=e.split("-")[0];if(n=us(r),n)return n;if("en"===r)return ns;throw new Error(`Missing locale data for the locale "${t}".`)}function ss(t){return os(t)[cs.CurrencyCode]||null}function as(t){return os(t)[cs.PluralCase]}function us(t){return t in rs||(rs[t]=H.ng&&H.ng.common&&H.ng.common.locales&&H.ng.common.locales[t]),rs[t]}var cs=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const ls="en-US";let hs=ls;function fs(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(hs=t.toLowerCase().replace(/_/g,"-"))}function ds(t,e,n,r,i){if(t=_(t),Array.isArray(t))for(let o=0;o<t.length;o++)ds(t[o],e,n,r,i);else{const o=$t(),s=Wt();let a=po(t)?t:_(t.provide),u=lo(t);const c=Yt(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(po(t)||!t.multi){const r=new Ce(u,i,ko),d=ms(a,e,i?l:l+f,h);-1===d?(qe(Ve(c,s),o,a),ps(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[d]=r,s[d]=r)}else{const d=ms(a,e,l+f,h),p=ms(a,e,l,l+f),g=d>=0&&n[d],m=p>=0&&n[p];if(i&&!m||!i&&!g){qe(Ve(c,s),o,a);const l=function(t,e,n,r,i){const o=new Ce(t,n,ko);return o.multi=[],o.index=e,o.componentProviders=0,gs(o,i,r&&!n),o}(i?vs:ys,n.length,i,r,u);!i&&m&&(n[p].providerFactory=l),ps(o,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else ps(o,t,d>-1?d:p,gs(n[i?p:d],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function ps(t,e,n,r){const i=po(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function gs(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ms(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function ys(t,e,n,r){return bs(this.multi,[])}function vs(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Qe(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),bs(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],bs(i,o);return o}function bs(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function ws(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=$t();if(r.firstCreatePass){const i=vt(t);ds(n,r.data,r.blueprint,i,!0),ds(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class _s{}class Es{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${y(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Ss=(()=>{class t{}return t.NULL=new Es,t})();function Os(...t){}function Cs(t,e){return new Is(Lt(t,e))}const Ts=function(){return Cs(Yt(),Wt())};let Is=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=Ts,t})();class As{}let xs=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ks(),t})();const ks=function(){const t=Wt(),e=Mt(Yt().index,t);return function(t){return t[11]}(dt(e)?e:t)};let js=(()=>{class t{}return t.\u0275prov=S({token:t,providedIn:"root",factory:()=>null}),t})();class Ns{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Ds=new Ns("11.0.9");class Rs{constructor(){}supports(t){return Co(t)}create(t){return new Ls(t)}}const Ps=(t,e)=>e;class Ls{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Ps}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<Us(n,r,i)?e:n,s=Us(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Co(t))throw new Error(`Error trying to diff '${y(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Oo()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Vs(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Fs),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Fs),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Vs{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ms{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Fs{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Ms,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Us(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class qs{constructor(){}supports(t){return t instanceof Map||To(t)}create(){return new Bs}}class Bs{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||To(t)))throw new Error(`Error trying to diff '${y(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Hs(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Hs{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let zs=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new vn,new mn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=S({token:t,providedIn:"root",factory:()=>new t([new Rs])}),t})(),Ks=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new vn,new mn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=S({token:t,providedIn:"root",factory:()=>new t([new qs])}),t})();function Gs(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(Rt(o)),pt(o))for(let t=ft;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&Gs(e[1],e,n,r)}const s=n.type;if(8&s)Gs(t,e,n.child,r);else if(32&s){const t=Or(n,e);let i;for(;i=t();)r.push(i)}else if(16&s){const t=e[16],i=t[6].projection[n.projection];if(Array.isArray(i))r.push(...i);else{const e=Cr(t);Gs(e[1],e,i,r,!0)}}n=i?n.projectionNext:n.next}return r}class Ws{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return Gs(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(pt(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Nr(t,n),hn(e,n))}this._attachedToViewContainer=!1}Dr(this._lView[1],this._lView)}onDestroy(t){Ci(this._lView[1],this._lView,null,t)}markForCheck(){Hi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){zi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){ee(!0);try{zi(t,e,n)}finally{ee(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Hr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class $s extends Ws{constructor(t){super(t),this._view=t}detectChanges(){Ki(this._view)}checkNoChanges(){!function(t){ee(!0);try{Ki(t)}finally{ee(!1)}}(this._view)}get context(){return null}}const Qs=Xs;let Ys=(()=>{class t{}return t.__NG_ELEMENT_ID__=Qs,t.__ChangeDetectorRef__=!0,t})();function Xs(t=!1){return function(t,e,n){if(!n&&mt(t)){const n=Mt(t.index,e);return new Ws(n,n)}return 47&t.type?new Ws(e[16],e):null}(Yt(),Wt(),t)}const Zs=[new qs],Js=new zs([new Rs]),ta=new Ks(Zs),ea=function(){return oa(Yt(),Wt())};let na=(()=>{class t{}return t.__NG_ELEMENT_ID__=ea,t})();const ra=na,ia=class extends ra{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=pi(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),yi(e,n,t),new Ws(n)}};function oa(t,e){return 4&t.type?new ia(e,t,Cs(t,e)):null}class sa{}class aa{}const ua=function(){return pa(Yt(),Wt())};let ca=(()=>{class t{}return t.__NG_ELEMENT_ID__=ua,t})();const la=ca,ha=class extends la{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Cs(this._hostTNode,this._hostLView)}get injector(){return new Ze(this._hostTNode,this._hostLView)}get parentInjector(){const t=Ue(this._hostTNode,this._hostLView);if(je(t)){const e=De(t,this._hostLView),n=Ne(t);return new Ze(e[1].data[n+8],e)}return new Ze(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=fa(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-ft}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(sa,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(pt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new ha(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=ft+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-ft?(e[4]=n[i],ln(n,ft+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,o,i);const s=qr(i,o),a=n[11],u=Mr(a,o[7]);return null!==u&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,Hr(t,r,n,1,i,o)}(r,o[6],a,n,u,s),t.attachToViewContainerRef(),ln(da(o),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=fa(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Nr(this._lContainer,e);n&&(hn(da(this._lContainer),e),Dr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Nr(this._lContainer,e);return n&&null!=hn(da(this._lContainer),e)?new Ws(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function fa(t){return t[8]}function da(t){return t[8]||(t[8]=[])}function pa(t,e){let n;const r=e[t.index];if(pt(r))n=r;else{let i;if(8&t.type)i=Rt(r);else{const n=e[11];i=n.createComment("");const r=Lt(t,e);Pr(n,Mr(n,r),i,function(t,e){return Nt(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=Mi(r,e,i,t),Bi(e,n)}return new ha(n,t,e)}const ga={};class ma extends Ss{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ct(t);return new ba(e,this.ngModule)}}function ya(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const va=new on("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>_r});class ba extends _s{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(ri).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return ya(this.componentDef.inputs)}get outputs(){return ya(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,ga,i);return o!==ga||r===ga?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(As,Dt),s=i.get(js,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(Nt(t))return t.selectRootElement(e,n===M.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):kr(o.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:_r,clean:Wi,playerHandler:null,flags:0},f=Oi(0,null,null,1,0,null,null,null,null,null),d=pi(null,f,h,l,null,null,o,a,s,i);let p,g;ce(d);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=gi(s,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(Zi(a,u,!0),null!==t&&(Te(i,t,u),null!==a.classes&&Gr(i,t,a.classes),null!==a.styles&&Kr(i,t,a.styles)));const c=r.createRenderer(t,e),l=pi(n,Si(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return s.firstCreatePass&&(qe(Ve(a,n),s,e.type),ji(s,a),Di(a,n.length,1)),Bi(n,l),n[20]=l}(c,this.componentDef,d,o,a);if(c)if(n)Te(a,c,["ng-version",Ds.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Jr(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Te(a,c,t),e&&e.length>0&&Gr(a,c,e.join(" "))}if(g=Vt(f,ht),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=Yt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Ri(t,r,e,mi(t,e,1,null),n));const i=Qe(e,t,r.directiveStart,r);wr(i,e);const o=Lt(r,e);return o&&wr(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries){const t=Yt();e.contentQueries(1,s,t.directiveStart)}const a=Yt();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(me(a.index),xi(n[1],a,0,a.directiveStart,a.directiveEnd,e),ki(e,s)),s}(t,this.componentDef,d,h,[yo]),yi(f,d,null)}finally{pe()}return new wa(this.componentType,p,Cs(g,d),d,g)}}class wa extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new $s(r),this.componentType=t}get injector(){return new Ze(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const _a=new Map;class Ea extends sa{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new ma(this);const n=lt(t),r=t[Y]||null;r&&fs(r),this._bootstrapComponents=Er(n.bootstrap),this._r3Injector=ao(t,e,[{provide:sa,useValue:this},{provide:Ss,useValue:this.componentFactoryResolver}],y(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=mo.THROW_IF_NOT_FOUND,n=N.Default){return t===mo||t===sa||t===Ji?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Sa extends aa{constructor(t){super(),this.moduleType=t,null!==lt(t)&&function(t){const e=new Set;!function t(n){const r=lt(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${y(e)} vs ${y(e.name)}`)}(i,_a.get(i),n),_a.set(i,n));const o=Er(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new Ea(this.moduleType,t)}}const Oa=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,o=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(o=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(o=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,o,s);return t instanceof i.a&&t.add(a),a}};function Ca(){return this._results[Oo()]()}class Ta{constructor(){this.dirty=!0,this._results=[],this.changes=new Oa,this.length=0;const t=Oo(),e=Ta.prototype;e[t]||(e[t]=Ca)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=un(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Ia{constructor(t){this.queryList=t,this.matches=null}clone(){return new Ia(this.queryList)}setDirty(){this.queryList.setDirty()}}class Aa{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Aa(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Fa(t,e).matches&&this.queries[e].setDirty()}}class xa{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class ka{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new ka(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class ja{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new ja(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Na(e,i)),this.matchTNodeWithReadOption(t,e,$e(e,t,i,!1,!1))}else n===na?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,$e(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Is||r===ca||r===na&&4&e.type)this.addMatch(e.index,-2);else{const n=$e(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Na(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Da(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Cs(t,e):4&t.type?oa(t,e):null}(e,t):-2===n?function(t,e,n){return n===Is?Cs(e,t):n===na?oa(e,t):n===ca?pa(e,t):void 0}(t,e,r):Qe(t,t[1],n,e)}function Ra(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:Da(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function Pa(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=Ra(t,e,i,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)r.push(s[t/2]);else{const i=o[t+1],s=e[-n];for(let t=ft;t<s.length;t++){const e=s[t];e[17]===e[3]&&Pa(e[1],e,i,r)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];Pa(n[1],n,i,r)}}}}}return r}function La(t){const e=Wt(),n=$t(),r=oe();se(r+1);const i=Fa(n,r);if(t.dirty&&Ut(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?Pa(n,e,r,[]):Ra(n,e,i,r);t.reset(o),t.notifyOnChanges()}return!0}return!1}function Va(t,e,n,r){!function(t,e,n,r,i,o,s,a){t.firstCreatePass&&(function(t,e,n){null===t.queries&&(t.queries=new ka),t.queries.track(new ja(e,n))}(t,new xa(n,r,false,i),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a)),function(t,e){const n=new Ta;Ci(t,e,n,n.destroy),null===e[19]&&(e[19]=new Aa),e[19].queries.push(new Ia(n))}(t,e)}($t(),Wt(),e,n,r,0,Yt(),t)}function Ma(){return t=Wt(),e=oe(),t[19].queries[e].queryList;var t,e}function Fa(t,e){return t.queries.getByIndex(e)}function Ua(t=N.Default){const e=Xs(!0);if(null!=e||t&N.Optional)return e;St("ChangeDetectorRef")}const qa=new on("Application Initializer");let Ba=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Os,this.reject=Os,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Vo(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(An(qa,8))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();const Ha=new on("AppId"),za={provide:Ha,useFactory:function(){return`${Ka()}${Ka()}${Ka()}`},deps:[]};function Ka(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ga=new on("Platform Initializer"),Wa=new on("Platform ID"),$a=new on("appBootstrapListener");let Qa=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();const Ya=new on("LocaleId"),Xa=new on("DefaultCurrencyCode");class Za{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Ja=function(t){return new Sa(t)},tu=Ja,eu=function(t){return Promise.resolve(Ja(t))},nu=function(t){const e=Ja(t),n=Er(lt(t).declarations).reduce((t,e)=>{const n=ct(e);return n&&t.push(new ba(n)),t},[]);return new Za(e,n)},ru=nu,iu=function(t){return Promise.resolve(nu(t))};let ou=(()=>{class t{constructor(){this.compileModuleSync=tu,this.compileModuleAsync=eu,this.compileModuleAndAllComponentsSync=ru,this.compileModuleAndAllComponentsAsync=iu}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();const su=(()=>Promise.resolve(0))();function au(t){"undefined"==typeof Zone?su.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class uu{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Oa(!1),this.onMicrotaskEmpty=new Oa(!1),this.onStable=new Oa(!1),this.onError=new Oa(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=e,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let t=H.requestAnimationFrame,e=H.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(H,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,hu(t),lu(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),hu(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,o,s,a)=>{try{return fu(t),n.invokeTask(i,o,s,a)}finally{e&&"eventTask"===o.type&&e(),du(t)}},onInvoke:(e,n,r,i,o,s,a)=>{try{return fu(t),e.invoke(r,i,o,s,a)}finally{du(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,hu(t),lu(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!uu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(uu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,cu,Os,Os);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const cu={};function lu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function hu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function fu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function du(t){t._nesting--,lu(t)}class pu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Oa,this.onMicrotaskEmpty=new Oa,this.onStable=new Oa,this.onError=new Oa}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let gu=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{uu.assertNotInAngularZone(),au(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())au(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(An(uu))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})(),mu=(()=>{class t{constructor(){this._applications=new Map,wu.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return wu.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();class yu{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function vu(t){wu=t}let bu,wu=new yu,_u=!0,Eu=!1;function Su(){return Eu=!0,_u}function Ou(){if(Eu)throw new Error("Cannot enable prod mode after platform setup.");_u=!1}const Cu=new on("AllowMultipleToken");class Tu{constructor(t,e){this.name=t,this.token=e}}function Iu(t,e,n=[]){const r="Platform: "+e,i=new on(r);return(e=[])=>{let o=Au();if(!o||o.injector.get(Cu,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:eo,useValue:"platform"});!function(t){if(bu&&!bu.destroyed&&!bu.injector.get(Cu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");bu=t.get(xu);const e=t.get(Ga,null);e&&e.forEach(t=>t())}(mo.create({providers:t,name:r}))}return function(t){const e=Au();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Au(){return bu&&!bu.destroyed?bu:null}let xu=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new pu:("zone.js"===t?void 0:t)||new uu({enableLongStackTrace:Su(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:uu,useValue:n}];return n.run(()=>{const e=mo.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(br,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{o.handleError(t)}});i.onDestroy(()=>{Nu(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return Vo(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(Ba);return t.runInitializers(),t.donePromise.then(()=>(fs(i.injector.get(Ya,ls)||ls),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=ku({},e);return function(t,e,n){const r=new Sa(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(ju);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${y(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(An(mo))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();function ku(t,e){return Array.isArray(e)?e.reduce(ku,t):Object.assign(Object.assign({},t),e)}let ju=(()=>{class t{constructor(t,e,n,r,i,a){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{uu.assertNotInAngularZone(),au(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{uu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(c,l.pipe(t=>{return u()((e=p,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,f);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof _s?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(sa),i=n.create(mo.NULL,[],e||n.selector,r),o=i.location.nativeElement,s=i.injector.get(gu,null),a=s&&i.injector.get(mu);return s&&a&&a.registerApplication(o,s),i.onDestroy(()=>{this.detachView(i.hostView),Nu(this.components,i),a&&a.unregisterApplication(o)}),this._loadComponent(i),Su()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Nu(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get($a,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(An(uu),An(Qa),An(mo),An(br),An(Ss),An(Ba))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();function Nu(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Du{}class Ru{}const Pu={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Lu=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Pu}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>Vu(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Vu(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(An(ou),An(Ru,8))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();function Vu(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Mu=function(t){return null},Fu=Iu(null,"core",[{provide:Wa,useValue:"unknown"},{provide:xu,deps:[mo]},{provide:mu,deps:[]},{provide:Qa,deps:[]}]),Uu=[{provide:ju,useClass:ju,deps:[uu,Qa,mo,br,Ss,Ba]},{provide:va,deps:[uu],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Ba,useClass:Ba,deps:[[new mn,qa]]},{provide:ou,useClass:ou,deps:[]},za,{provide:zs,useFactory:function(){return Js},deps:[]},{provide:Ks,useFactory:function(){return ta},deps:[]},{provide:Ya,useFactory:function(t){return fs(t=t||"undefined"!=typeof $localize&&$localize.locale||ls),t},deps:[[new gn(Ya),new mn,new vn]]},{provide:Xa,useValue:"USD"}];let qu=(()=>{class t{constructor(t){}}return t.\u0275mod=it({type:t}),t.\u0275inj=O({factory:function(e){return new(e||t)(An(ju))},providers:Uu}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(n=>{const r=new i.a;let o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mrSG:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s}),n.d(e,"d",function(){return a}),n.d(e,"g",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return l});var r=n("7o/Q"),i=n("EY2u"),o=n("LRne"),s=n("HDdC");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return t=this.error,new s.a(e=>e.error(t));case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function u(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",function(){return s}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return f}),n.d(e,"d",function(){return d});var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function f(t){o.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return b}),n.d(e,"c",function(){return E}),n.d(e,"d",function(){return u}),n.d(e,"e",function(){return S}),n.d(e,"f",function(){return o}),n.d(e,"g",function(){return s}),n.d(e,"h",function(){return T}),n.d(e,"i",function(){return c}),n.d(e,"j",function(){return f}),n.d(e,"k",function(){return d}),n.d(e,"l",function(){return g}),n.d(e,"m",function(){return m}),n.d(e,"n",function(){return l}),n.d(e,"o",function(){return h}),n.d(e,"p",function(){return p}),n.d(e,"q",function(){return y});var r=n("mrSG"),i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&a)<<2|c>>6,h=63&c;u||(h=64,s||(l=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();r.push(o<<2|s>>4),64!==a&&(r.push(s<<4&240|a>>2),64!==u&&r.push(a<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};function o(t){return s(void 0,t)}function s(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=s(t[n],e[n]));return t}var a=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function u(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",o=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object(r.a)({iss:"https://securetoken.google.com/"+n,aud:n,iat:o,exp:o+3600,auth_time:o,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[i.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),i.encodeString(JSON.stringify(a),!1),""].join(".")}function c(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function l(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(c())}function h(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function f(){return"object"==typeof self&&self.self===self}function d(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function p(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function g(){return c().indexOf("Electron/")>=0}function m(){var t=c();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function y(){return c().indexOf("MSAppHost/")>=0}var v=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,b.prototype.create),o}return Object(r.c)(e,t),e}(Error),b=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?w(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new v(i,a,r);return u},t}();function w(t,e){return t.replace(_,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var _=/\{\$([^}]+)}/g;function E(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function S(t,e){var n=new O(t,e);return n.subscribe.bind(n)}var O=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=C),void 0===r.error&&(r.error=C),void 0===r.complete&&(r.complete=C);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function C(){}function T(t){return t&&t._delegate?t._delegate:t}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return u});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}const a=new s(i),u=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof s?u(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return T}),n.d(e,"b",function(){return b}),n.d(e,"c",function(){return v}),n.d(e,"d",function(){return d}),n.d(e,"e",function(){return y}),n.d(e,"f",function(){return O}),n.d(e,"g",function(){return _}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return m}),n.d(e,"j",function(){return E});var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),s=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.a))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=["ngOnDestroy"],m=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(g.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},v=new u.q("angularfire2.app.options"),b=new u.q("angularfire2.app.nameOrConfig"),w=new u.O("6.1.5");function _(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&S("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const E=()=>{S("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},S=(t,...e)=>{Object(u.U)()&&"undefined"!=typeof console&&console[t](...e)};function O(e,n,r,i,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&S("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const C={provide:class{},useFactory:_,deps:[v,u.z,[new u.A,b]]};let T=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",w.full,t.toString()),c.a.registerVersion("angular",u.N.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:v,useValue:e},{provide:b,useValue:n}]}}}return t.\u0275mod=u.Gb({type:t}),t.\u0275inj=u.Fb({factory:function(e){return new(e||t)(u.Pb(u.B))},providers:[C]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return m});var r=n("HDdC");let i=1;const o=(()=>Promise.resolve())(),s={};function a(t){return t in s&&(delete s[t],!0)}const u={setImmediate(t){const e=i++;return s[e]=!0,o.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class f extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new f(l);var p=n("DH7j");class g extends r.a{constructor(t,e=0,n=d){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,r=e,(Object(p.a)(r)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=d)}static create(t,e=0,n=d){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function m(t,e=0){return function(n){return n.lift(new y(t,e))}}class y{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("7o/Q");function i(){}var o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},zIRd:function(t,e,n){"use strict";var r,i,o=n("mrSG"),s=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.b("@firebase/app"),g=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.f)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){var n;void 0===e&&(e=f),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var m=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(s.c)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),u=e.match(/\s|\//);if(s||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.6.7",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||f,!Object(s.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function o(o){var a=o.name;if(n.has(a))return p.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==o.serviceProps&&Object(s.g)(u,o.serviceProps),r[a]=u,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,o.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(o);return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(g);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.g)(e,t)},createSubscribe:s.e,ErrorFactory:s.b,deepExtend:s.g}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(s.j)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var v=self.firebase.SDK_VERSION;v&&v.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=m.initializeApp;m.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.o)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var w=m;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(h,"0.6.26",void 0),t.registerVersion("fire-js","")}(w),e.a=w},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");const i={apiKey:"AIzaSyArgD7WQUA9mGpb68rJY4XTVlGx77UrjDs",authDomain:"makensell.firebaseapp.com",databaseURL:"https://makensell-default-rtdb.firebaseio.com",projectId:"makensell",storageBucket:"makensell.appspot.com",messagingSenderId:"197424589343",appId:"1:197424589343:web:f55939ec3c4016ccaa032a",measurementId:"G-T3LGSFL3L8"};let o=null;function s(){return o}const a=new r.q("DocumentToken");let u=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Eb)({factory:c,token:t,providedIn:"platform"}),t})();function c(){return Object(r.Pb)(h)}const l=new r.q("Location Initialized");let h=(()=>{class t extends u{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=s().getLocation(),this._history=s().getHistory()}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){f()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){f()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(a))},t.\u0275prov=Object(r.Eb)({factory:d,token:t,providedIn:"platform"}),t})();function f(){return!!window.history.pushState}function d(){return new h(Object(r.Pb)(a))}function p(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function g(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function m(t){return t&&"?"!==t[0]?"?"+t:t}let y=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Eb)({factory:v,token:t,providedIn:"root"}),t})();function v(t){const e=Object(r.Pb)(a).location;return new w(Object(r.Pb)(u),e&&e.origin||"")}const b=new r.q("appBaseHref");let w=(()=>{class t extends y{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return p(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+m(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(u),r.Pb(b,8))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t extends y{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=p(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(u),r.Pb(b,8))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),E=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=g(O(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+m(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,O(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(y),r.Pb(u))},t.normalizeQueryParams=m,t.joinWithSlash=p,t.stripTrailingSlash=g,t.\u0275prov=Object(r.Eb)({factory:S,token:t,providedIn:"root"}),t})();function S(){return new E(Object(r.Pb)(y),Object(r.Pb)(u))}function O(t){return t.replace(/\/index.html$/,"")}var C=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const T=r.lb;class I{}let A=(()=>{class t extends I{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(T(e||this.locale)(t)){case C.Zero:return"zero";case C.One:return"one";case C.Two:return"two";case C.Few:return"few";case C.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.u))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();class x{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let k=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new x(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new j(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new j(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.P),r.Ib(r.K),r.Ib(r.s))},t.\u0275dir=r.Db({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class j{constructor(t,e){this.record=t,this.view=e}}let N=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new D,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){R("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){R("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.P),r.Ib(r.K))},t.\u0275dir=r.Db({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class D{constructor(){this.$implicit=null,this.ngIf=null}}function R(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.tb)(e)}'.`)}let P=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[{provide:I,useClass:A}]}),t})();function L(t){return"server"===t}let V=(()=>{class t{}return t.\u0275prov=Object(r.Eb)({token:t,providedIn:"root",factory:()=>new M(Object(r.Pb)(a),window)}),t})();class M{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){var e;if(!this.supportsScrolling())return;const n=null!==(e=this.document.getElementById(t))&&void 0!==e?e:this.document.getElementsByName(t)[0];void 0!==n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=F(this.window.history)||F(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function F(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class U extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new U,o||(o=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=B||(B=document.querySelector("base"),B)?B.getAttribute("href"):null;return null==e?null:(n=e,q||(q=document.createElement("a")),q.setAttribute("href",n),"/"===q.pathname.charAt(0)?q.pathname:"/"+q.pathname);var n}resetBaseElement(){B=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let q,B=null;const H=new r.q("TRANSITION_ID"),z=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[H,a,r.r],multi:!0}];class K{static init(){Object(r.W)(new K)}addToWindow(t){r.nb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.nb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.nb.getAllAngularRootElements=()=>t.getAllRootElements(),r.nb.frameworkStabilizers||(r.nb.frameworkStabilizers=[]),r.nb.frameworkStabilizers.push(t=>{const e=r.nb.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(o)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const G=new r.q("EventManagerPlugins");let W=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(G),r.Pb(r.z))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();class ${constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let Q=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),Y=(()=>{class t extends Q{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>s().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(a))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const X={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Z=/%COMP%/g;function J(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?J(t,i,n):(i=i.replace(Z,t),n.push(i))}return n}function tt(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let et=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new nt(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.Q.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new rt(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.Q.ShadowDom:return new it(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=J(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(W),r.Pb(Y),r.Pb(r.c))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();class nt{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(X[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=X[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=X[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.F.DashCase|r.F.Important)?t.style.setProperty(e,n,i&r.F.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.F.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,tt(n)):this.eventManager.addEventListener(t,e,tt(n))}}class rt extends nt{constructor(t,e,n,r){super(t),this.component=n;const i=J(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(Z,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(Z,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class it extends nt{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=J(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let ot=(()=>{class t extends ${constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(a))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const st=["alt","control","meta","shift"],at={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ut={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ct={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let lt=(()=>{class t extends ${constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(st.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&ut.hasOwnProperty(e)&&(e=ut[e]))}return at[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),st.forEach(r=>{r!=n&&(0,ct[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(a))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const ht=[{provide:r.B,useValue:"browser"},{provide:r.C,useValue:function(){U.makeCurrent(),K.init()},multi:!0},{provide:a,useFactory:function(){return Object(r.sb)(document),document},deps:[]}],ft=Object(r.R)(r.V,"browser",ht),dt=[[],{provide:r.Y,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:G,useClass:ot,multi:!0,deps:[a,r.z,r.B]},{provide:G,useClass:lt,multi:!0,deps:[a]},[],{provide:et,useClass:et,deps:[W,Y,r.c]},{provide:r.E,useExisting:et},{provide:Q,useExisting:Y},{provide:Y,useClass:Y,deps:[a]},{provide:r.L,useClass:r.L,deps:[r.z]},{provide:W,useClass:W,deps:[G,r.z]},[]];let pt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:H,useExisting:r.c},z]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)(r.Pb(t,12))},providers:dt,imports:[P,r.f]}),t})();"undefined"!=typeof window&&window;var gt=n("Cfvw"),mt=n("LRne"),yt=n("XNiG"),vt=n("9ppp");class bt extends yt.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new vt.a;return this._value}next(t){super.next(this._value=t)}}var wt=n("z+Ro"),_t=n("DH7j"),Et=n("7o/Q");class St extends Et.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class Ot extends Et.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Ct=n("SeVD"),Tt=n("HDdC");function It(t,e,n,r,i=new Ot(t,n,r)){if(!i.closed)return e instanceof Tt.a?e.subscribe(i):Object(Ct.a)(e)(i)}var At=n("yCtX");const xt={};class kt{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new jt(t,this.resultSelector))}}class jt extends St{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(xt),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(It(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===xt?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const Nt=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var Dt=n("bHdf");function Rt(...t){return Object(Dt.a)(1)(Object(mt.a)(...t))}var Pt=n("EY2u");function Lt(t){return new Tt.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(gt.a)(n):Object(Pt.b)()).subscribe(e)})}var Vt=n("lJxs"),Mt=n("zx2A");function Ft(t,e){return"function"==typeof e?n=>n.pipe(Ft((n,r)=>Object(gt.a)(t(n,r)).pipe(Object(Vt.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new Ut(t))}class Ut{constructor(t){this.project=t}call(t,e){return e.subscribe(new qt(t,this.project))}}class qt extends Mt.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new Mt.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(Mt.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const Bt=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function Ht(t){return e=>0===t?Object(Pt.b)():e.lift(new zt(t))}class zt{constructor(t){if(this.total=t,this.total<0)throw new Bt}call(t,e){return e.subscribe(new Kt(t,this.total))}}class Kt extends Et.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Gt(...t){const e=t[t.length-1];return Object(wt.a)(e)?(t.pop(),n=>Rt(t,n,e)):e=>Rt(t,e)}function Wt(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new $t(t,e,n))}}class $t{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Qt(t,this.accumulator,this.seed,this.hasSeed))}}class Qt extends Et.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function Yt(t,e){return function(n){return n.lift(new Xt(t,e))}}class Xt{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Zt(t,this.predicate,this.thisArg))}}class Zt extends Et.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function Jt(t){return function(e){const n=new te(t),r=e.lift(n);return n.caught=r}}class te{constructor(t){this.selector=t}call(t,e){return e.subscribe(new ee(t,this.selector,this.caught))}}class ee extends Mt.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new Mt.a(this);this.add(r);const i=Object(Mt.c)(n,r);i!==r&&this.add(i)}}}var ne=n("5+tZ");function re(t,e){return Object(ne.a)(t,e,1)}function ie(t){return function(e){return 0===t?Object(Pt.b)():e.lift(new oe(t))}}class oe{constructor(t){if(this.total=t,this.total<0)throw new Bt}call(t,e){return e.subscribe(new se(t,this.total))}}class se extends Et.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function ae(t=le){return e=>e.lift(new ue(t))}class ue{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new ce(t,this.errorFactory))}}class ce extends Et.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(uw){t=uw}this.destination.error(t)}}}function le(){return new Nt}function he(t=null){return e=>e.lift(new fe(t))}class fe{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new de(t,this.defaultValue))}}class de extends Et.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var pe=n("SpAZ");function ge(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Yt((e,n)=>t(e,n,r)):pe.a,Ht(1),n?he(e):ae(()=>new Nt))}var me=n("vkgz"),ye=n("quSY");class ve{constructor(t){this.callback=t}call(t,e){return e.subscribe(new be(t,this.callback))}}class be extends Et.a{constructor(t,e){super(t),this.add(new ye.a(e))}}class we{constructor(t,e){this.id=t,this.url=e}}class _e extends we{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ee extends we{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Se extends we{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Oe extends we{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ce extends we{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Te extends we{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ie extends we{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ae extends we{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xe extends we{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ke{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class je{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ne{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class De{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Re{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pe{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Le{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Ve="primary";class Me{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Fe(t){return new Me(t)}function Ue(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function qe(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Be(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!He(t[i],e[i]))return!1;return!0}function He(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function ze(t){return Array.prototype.concat.apply([],t)}function Ke(t){return t.length>0?t[t.length-1]:null}function Ge(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function We(t){return Object(r.pb)(t)?t:Object(r.qb)(t)?Object(gt.a)(Promise.resolve(t)):Object(mt.a)(t)}function $e(t,e,n){return n?function(t,e){return Be(t,e)}(t.queryParams,e.queryParams)&&Qe(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>He(t[n],e[n]))}(t.queryParams,e.queryParams)&&Ye(t.root,e.root)}function Qe(t,e){if(!en(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Qe(t.children[n],e.children[n]))return!1}return!0}function Ye(t,e){return Xe(t,e,e.segments)}function Xe(t,e,n){if(t.segments.length>n.length)return!!en(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!en(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Ye(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!en(t.segments,r)&&!!t.children.primary&&Xe(t.children.primary,e,i)}}class Ze{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Fe(this.queryParams)),this._queryParamMap}toString(){return on.serialize(this)}}class Je{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Ge(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return sn(this)}}class tn{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Fe(this.parameters)),this._parameterMap}toString(){return dn(this)}}function en(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class nn{}class rn{parse(t){const e=new vn(t);return new Ze(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+an(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${cn(e)}=${cn(t)}`).join("&"):`${cn(e)}=${cn(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const on=new rn;function sn(t){return t.segments.map(t=>dn(t)).join("/")}function an(t,e){if(!t.hasChildren())return sn(t);if(e){const e=t.children.primary?an(t.children.primary,!1):"",n=[];return Ge(t.children,(t,e)=>{e!==Ve&&n.push(`${e}:${an(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return Ge(t.children,(t,r)=>{r===Ve&&(n=n.concat(e(t,r)))}),Ge(t.children,(t,r)=>{r!==Ve&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===Ve?[an(t.children.primary,!1)]:[`${n}:${an(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${sn(t)}/${e[0]}`:`${sn(t)}/(${e.join("//")})`}}function un(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function cn(t){return un(t).replace(/%3B/gi,";")}function ln(t){return un(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function hn(t){return decodeURIComponent(t)}function fn(t){return hn(t.replace(/\+/g,"%20"))}function dn(t){return`${ln(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${ln(t)}=${ln(e[t])}`).join("")}`;var e}const pn=/^[^\/()?;=#]+/;function gn(t){const e=t.match(pn);return e?e[0]:""}const mn=/^[^=?&#]+/,yn=/^[^?&#]+/;class vn{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Je([],{}):new Je([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Je(t,e)),n}parseSegment(){const t=gn(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new tn(hn(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=gn(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=gn(this.remaining);t&&(n=t,this.capture(n))}t[hn(e)]=hn(n)}parseQueryParam(t){const e=function(t){const e=t.match(mn);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(yn);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=fn(e),i=fn(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=gn(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Ve);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new Je([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class bn{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=wn(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=wn(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=_n(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return _n(t,this._root).map(t=>t.value)}}function wn(t,e){if(t===e.value)return e;for(const n of e.children){const e=wn(t,n);if(e)return e}return null}function _n(t,e){if(t===e.value)return[e];for(const n of e.children){const r=_n(t,n);if(r.length)return r.unshift(e),r}return[]}class En{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Sn(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class On extends bn{constructor(t,e){super(t),this.snapshot=e,kn(this,t)}toString(){return this.snapshot.toString()}}function Cn(t,e){const n=function(t,e){const n=new An([],{},{},"",{},Ve,e,null,t.root,-1,{});return new xn("",new En(n,[]))}(t,e),r=new bt([new tn("",{})]),i=new bt({}),o=new bt({}),s=new bt({}),a=new bt(""),u=new Tn(r,i,s,a,o,Ve,e,n.root);return u.snapshot=n.root,new On(new En(u,[]),n)}class Tn{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(Vt.a)(t=>Fe(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(Vt.a)(t=>Fe(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function In(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class An{constructor(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Fe(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Fe(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class xn extends bn{constructor(t,e){super(e),this.url=t,kn(this,e)}toString(){return jn(this._root)}}function kn(t,e){e.value._routerState=t,e.children.forEach(e=>kn(t,e))}function jn(t){const e=t.children.length>0?` { ${t.children.map(jn).join(", ")} } `:"";return`${t.value}${e}`}function Nn(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Be(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Be(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Be(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Be(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Dn(t,e){return Be(t.params,e.params)&&function(t,e){return en(t,e)&&t.every((t,n)=>Be(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Dn(t.parent,e.parent))}function Rn(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return Rn(t,e,r);return Rn(t,e)})}(t,e,n);return new En(r,i)}{const n=t.retrieve(e.value);if(n){const t=n.route;return Pn(e,t),t}{const n=new Tn(new bt((r=e.value).url),new bt(r.params),new bt(r.queryParams),new bt(r.fragment),new bt(r.data),r.outlet,r.component,r),i=e.children.map(e=>Rn(t,e));return new En(n,i)}}var r}function Pn(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)Pn(t.children[n],e.children[n])}function Ln(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Vn(t){return"object"==typeof t&&null!=t&&t.outlets}function Mn(t,e,n,r,i){let o={};return r&&Ge(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new Ze(n.root===t?e:Fn(n.root,t,e),o,i)}function Fn(t,e,n){const r={};return Ge(t.children,(t,i)=>{r[i]=t===e?n:Fn(t,e,n)}),new Je(t.segments,r)}class Un{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Ln(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(Vn);if(r&&r!==Ke(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class qn{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Bn(t,e,n){if(t||(t=new Je([],{})),0===t.segments.length&&t.hasChildren())return Hn(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=n[r];if(Vn(s))break;const a=""+s,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!Wn(a,u,e))return o;r+=2}else{if(!Wn(a,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Je(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new Je(t.segments.slice(r.pathIndex),t.children),Hn(e,0,i)}return r.match&&0===i.length?new Je(t.segments,{}):r.match&&!t.hasChildren()?zn(t,e,n):r.match?Hn(t,0,i):zn(t,e,n)}function Hn(t,e,n){if(0===n.length)return new Je(t.segments,{});{const r=function(t){return Vn(t[0])?t[0].outlets:{[Ve]:t}}(n),i={};return Ge(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=Bn(t.children[r],e,n))}),Ge(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Je(t.segments,i)}}function zn(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(Vn(o)){const t=Kn(o.outlets);return new Je(r,t)}if(0===i&&Ln(n[0])){r.push(new tn(t.segments[e].path,n[0])),i++;continue}const s=Vn(o)?o.outlets.primary:""+o,a=i<n.length-1?n[i+1]:null;s&&a&&Ln(a)?(r.push(new tn(s,Gn(a))),i+=2):(r.push(new tn(s,{})),i++)}return new Je(r,{})}function Kn(t){const e={};return Ge(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=zn(new Je([],{}),0,t))}),e}function Gn(t){const e={};return Ge(t,(t,n)=>e[n]=""+t),e}function Wn(t,e,n){return t==n.path&&Be(e,n.parameters)}class $n{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Nn(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Sn(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Ge(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=Sn(t);for(const o of Object.keys(i))this.deactivateRouteAndItsChildren(i[o],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}activateChildRoutes(t,e,n){const r=Sn(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new Pe(t.value.snapshot))}),t.children.length&&this.forwardEvent(new De(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Nn(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Qn(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Qn(t){Nn(t.value),t.children.forEach(Qn)}class Yn{constructor(t,e){this.routes=t,this.module=e}}function Xn(t){return"function"==typeof t}function Zn(t){return t instanceof Ze}const Jn=Symbol("INITIAL_VALUE");function tr(){return Ft(t=>function(...t){let e=void 0,n=void 0;return Object(wt.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(_t.a)(t[0])&&(t=t[0]),Object(At.a)(t,n).lift(new kt(e))}(t.map(t=>t.pipe(Ht(1),Gt(Jn)))).pipe(Wt((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==Jn)return t;if(r===Jn&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Zn(r))return r}return t},t)},Jn),Yt(t=>t!==Jn),Object(Vt.a)(t=>Zn(t)?t:!0===t),Ht(1)))}let er=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Jb(0,"router-outlet")},directives:function(){return[$r]},encapsulation:2}),t})();function nr(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];rr(r,ir(e,r))}}function rr(t,e){t.children&&nr(t.children,e)}function ir(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function or(t){const e=t.children&&t.children.map(or),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Ve&&(n.component=er),n}function sr(t){return t.outlet||Ve}function ar(t,e){const n=t.filter(t=>sr(t)===e);return n.push(...t.filter(t=>sr(t)!==e)),n}const ur={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function cr(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},ur):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||qe)(n,t,e);if(!i)return Object.assign({},ur);const o={};Ge(i.posParams,(t,e)=>{o[e]=t.path});const s=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function lr(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>hr(t,e,n)&&sr(n)!==Ve)}(t,n,r)){const i=new Je(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&sr(o)!==Ve){const n=new Je([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[sr(o)]=n}return i}(t,e,r,new Je(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>hr(t,e,n))}(t,n,r)){const o=new Je(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(hr(t,n,a)&&!i[sr(a)]){const n=new Je([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[sr(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new Je(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function hr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function fr(t,e,n,r){return!!(sr(t)===r||r!==Ve&&hr(e,n,t))&&("**"===t.path||cr(e,t,n).matched)}function dr(t,e,n){return 0===e.length&&!t.children[n]}class pr{constructor(t){this.segmentGroup=t||null}}class gr{constructor(t){this.urlTree=t}}function mr(t){return new Tt.a(e=>e.error(new pr(t)))}function yr(t){return new Tt.a(e=>e.error(new gr(t)))}function vr(t){return new Tt.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class br{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.x)}apply(){const t=lr(this.urlTree.root,[],[],this.config).segmentGroup,e=new Je(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Ve).pipe(Object(Vt.a)(t=>this.createUrlTree(wr(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Jt(t=>{if(t instanceof gr)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof pr)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Ve).pipe(Object(Vt.a)(e=>this.createUrlTree(wr(e),t.queryParams,t.fragment))).pipe(Jt(t=>{if(t instanceof pr)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Je([],{[Ve]:t}):t;return new Ze(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(Vt.a)(t=>new Je([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return Object(gt.a)(r).pipe(re(r=>{const i=n.children[r],o=ar(e,r);return this.expandSegmentGroup(t,o,i,r).pipe(Object(Vt.a)(t=>({segment:t,outlet:r})))}),Wt((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Yt((e,n)=>t(e,n,r)):pe.a,ie(1),n?he(e):ae(()=>new Nt))}())}expandSegment(t,e,n,r,i,o){return Object(gt.a)(n).pipe(re(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(Jt(t=>{if(t instanceof pr)return Object(mt.a)(null);throw t}))),ge(t=>!!t),Jt((t,n)=>{if(t instanceof Nt||"EmptyError"===t.name){if(dr(e,r,i))return Object(mt.a)(new Je([],{}));throw new pr(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return fr(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):mr(e):mr(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?yr(i):this.lineralizeSegments(n,i).pipe(Object(ne.a)(n=>{const i=new Je(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=cr(e,r,i);if(!s)return mr(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?yr(l):this.lineralizeSegments(r,l).pipe(Object(ne.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(Vt.a)(t=>(n._loadedConfig=t,new Je(r,{})))):Object(mt.a)(new Je(r,{}));const{matched:o,consumedSegments:s,lastChild:a}=cr(e,n,r);if(!o)return mr(e);const u=r.slice(a);return this.getChildConfig(t,n,r).pipe(Object(ne.a)(t=>{const r=t.module,o=t.routes,{segmentGroup:a,slicedSegments:c}=lr(e,s,u,o),l=new Je(a.segments,a.children);if(0===c.length&&l.hasChildren())return this.expandChildren(r,o,l).pipe(Object(Vt.a)(t=>new Je(s,t)));if(0===o.length&&0===c.length)return Object(mt.a)(new Je(s,{}));const h=sr(n)===i;return this.expandSegment(r,l,o,c,h?Ve:i,!0).pipe(Object(Vt.a)(t=>new Je(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(mt.a)(new Yn(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(mt.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(ne.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(Vt.a)(t=>(e._loadedConfig=t,t))):function(t){return new Tt.a(e=>e.error(Ue(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(mt.a)(new Yn([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(mt.a)(!0);const i=r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&Xn(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!Xn(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return We(o)});return Object(mt.a)(i).pipe(tr(),Object(me.a)(t=>{if(!Zn(t))return;const e=Ue(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(Vt.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(mt.a)(n);if(r.numberOfChildren>1||!r.children.primary)return vr(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Ze(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Ge(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return Ge(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new Je(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function wr(t){const e={};for(const n of Object.keys(t.children)){const r=wr(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Je(t.segments.concat(e.segments),e.children)}return t}(new Je(t.segments,e))}class _r{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Er{constructor(t,e){this.component=t,this.route=e}}function Sr(t,e,n){const r=t._root;return Cr(r,e?e._root:null,n,[r.value])}function Or(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Cr(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Sn(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!en(t.url,e.url);case"pathParamsOrQueryParamsChange":return!en(t.url,e.url)||!Be(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Dn(t,e)||!Be(t.queryParams,e.queryParams);case"paramsChange":default:return!Dn(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new _r(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Cr(t,e,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Er(a.outlet.component,s))}else s&&Tr(e,a,i),i.canActivateChecks.push(new _r(r)),Cr(t,null,o.component?a?a.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),Ge(o,(t,e)=>Tr(t,n.getContext(e),i)),i}function Tr(t,e,n){const r=Sn(t),i=t.value;Ge(r,(t,r)=>{Tr(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Er(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class Ir{}function Ar(t){return new Tt.a(e=>e.error(t))}class xr{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){const t=lr(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Ve);if(null===e)return null;const n=new An([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ve,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new En(n,e),i=new xn(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=In(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],o=ar(t,i),s=this.processSegmentGroup(o,r,i);if(null===s)return null;n.push(...s)}const r=function(t){const e=[];for(const n of t){if(!kr(n)){e.push(n);continue}const t=e.find(t=>n.value.routeConfig===t.value.routeConfig);void 0!==t?t.children.push(...n.children):e.push(n)}return e}(n);return r.sort((t,e)=>t.value.outlet===Ve?-1:e.value.outlet===Ve?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return dr(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!fr(t,e,n,r))return null;let i,o=[],s=[];if("**"===t.path){const r=n.length>0?Ke(n).parameters:{};i=new An(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Dr(t),sr(t),t.component,t,jr(e),Nr(e)+n.length,Rr(t))}else{const r=cr(e,t,n);if(!r.matched)return null;o=r.consumedSegments,s=n.slice(r.lastChild),i=new An(o,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Dr(t),sr(t),t.component,t,jr(e),Nr(e)+o.length,Rr(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=lr(e,o,s,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return null===t?null:[new En(i,t)]}if(0===a.length&&0===c.length)return[new En(i,[])];const l=sr(t)===r,h=this.processSegment(a,u,c,l?Ve:r);return null===h?null:[new En(i,h)]}}function kr(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function jr(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Nr(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Dr(t){return t.data||{}}function Rr(t){return t.resolve||{}}function Pr(t){return Ft(e=>{const n=t(e);return n?Object(gt.a)(n).pipe(Object(Vt.a)(()=>e)):Object(mt.a)(e)})}class Lr extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Vr=new r.q("ROUTES");class Mr{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(Vt.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new Yn(ze(r.injector.get(Vr)).map(or),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(gt.a)(this.loader.load(t)):We(t()).pipe(Object(ne.a)(t=>t instanceof r.v?Object(mt.a)(t):Object(gt.a)(this.compiler.compileModuleAsync(t))))}}class Fr{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ur,this.attachRef=null}}class Ur{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Fr,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class qr{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Br(t){throw t}function Hr(t,e,n){return e.parse("/")}function zr(t,e){return Object(mt.a)(null)}let Kr=(()=>{class t{constructor(t,e,n,i,o,s,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new yt.a,this.errorHandler=Br,this.malformedUriErrorHandler=Hr,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:zr,afterPreactivation:zr},this.urlHandlingStrategy=new qr,this.routeReuseStrategy=new Lr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(r.x),this.console=o.get(r.X);const c=o.get(r.z);this.isNgZoneEnabled=c instanceof r.z&&r.z.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new Ze(new Je([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Mr(s,a,t=>this.triggerEvent(new ke(t)),t=>this.triggerEvent(new je(t))),this.routerState=Cn(this.currentUrlTree,this.rootComponentType),this.transitions=new bt({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Yt(t=>0!==t.id),Object(Vt.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Ft(t=>{let n=!1,r=!1;return Object(mt.a)(t).pipe(Object(me.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Ft(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(mt.a)(t).pipe(Ft(t=>{const n=this.transitions.getValue();return e.next(new _e(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Pt.a:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,Ft(t=>function(t,e,n,r,i){return new br(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(Object(Vt.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),Object(me.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return Object(ne.a)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){try{const s=new xr(t,e,n,r,i,o).recognize();return null===s?Ar(new Ir):Object(mt.a)(s)}catch(uw){return Ar(uw)}}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(Vt.a)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(me.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new Ce(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new _e(n,this.serializeUrl(r),i,o);e.next(a);const u=Cn(r,this.rootComponentType).snapshot;return Object(mt.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Pt.a}),Pr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(me.a)(t=>{const e=new Te(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(Vt.a)(t=>Object.assign(Object.assign({},t),{guards:Sr(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return Object(ne.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Object(mt.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(gt.a)(t).pipe(Object(ne.a)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(mt.a)(!0);const s=o.map(o=>{const s=Or(o,e,i);let a;if(function(t){return t&&Xn(t.canDeactivate)}(s))a=We(s.canDeactivate(t,e,n,r));else{if(!Xn(s))throw new Error("Invalid CanDeactivate guard");a=We(s(t,e,n,r))}return a.pipe(ge())});return Object(mt.a)(s).pipe(tr())}(t.component,t.route,n,e,r)),ge(t=>!0!==t,!0))}(s,r,i,t).pipe(Object(ne.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(gt.a)(e).pipe(re(e=>Rt(function(t,e){return null!==t&&e&&e(new Ne(t)),Object(mt.a)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new Re(t)),Object(mt.a)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Lt(()=>{const i=e.guards.map(i=>{const o=Or(i,e.node,n);let s;if(function(t){return t&&Xn(t.canActivateChild)}(o))s=We(o.canActivateChild(r,t));else{if(!Xn(o))throw new Error("Invalid CanActivateChild guard");s=We(o(r,t))}return s.pipe(ge())});return Object(mt.a)(i).pipe(tr())}));return Object(mt.a)(i).pipe(tr())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(mt.a)(!0);const i=r.map(r=>Lt(()=>{const i=Or(r,e,n);let o;if(function(t){return t&&Xn(t.canActivate)}(i))o=We(i.canActivate(e,t));else{if(!Xn(i))throw new Error("Invalid CanActivate guard");o=We(i(e,t))}return o.pipe(ge())}));return Object(mt.a)(i).pipe(tr())}(t,e.route,n))),ge(t=>!0!==t,!0))}(r,o,t,e):Object(mt.a)(n)),Object(Vt.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(me.a)(t=>{if(Zn(t.guardsResult)){const e=Ue(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new Ie(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Yt(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Se(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Pr(t=>{if(t.guards.canActivateChecks.length)return Object(mt.a)(t).pipe(Object(me.a)(t=>{const e=new Ae(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Ft(t=>{let n=!1;return Object(mt.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,Object(ne.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(mt.a)(t);let o=0;return Object(gt.a)(n).pipe(re(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(mt.a)({});const o={};return Object(gt.a)(i).pipe(Object(ne.a)(i=>function(t,e,n,r){const i=Or(t,e,r);return We(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(me.a)(t=>{o[i]=t}))),ie(1),Object(ne.a)(()=>Object.keys(o).length===i.length?Object(mt.a)(o):Pt.a))}(t._resolve,t,e,r).pipe(Object(Vt.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),In(t,n).resolve),null)))}(t.route,e,r,i)),Object(me.a)(()=>o++),ie(1),Object(ne.a)(e=>o===n.length?Object(mt.a)(t):Pt.a))})),Object(me.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new Se(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(me.a)(t=>{const e=new xe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Pr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(Vt.a)(t=>{const e=function(t,e,n){const r=Rn(t,e._root,n?n._root:void 0);return new On(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(me.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,a=t=>this.triggerEvent(t),Object(Vt.a)(t=>(new $n(s,t.targetRouterState,t.currentRouterState,a).activate(o),t))),Object(me.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Se(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new ve(i))),Jt(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Zn(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Se(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Oe(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(Nh){t.reject(Nh)}}var i;return Pt.a}));var i,o,s,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){nr(t),this.config=t.map(or),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:s}=e,a=n||this.routerState.root,u=s?this.currentUrlTree.fragment:i;let c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return Mn(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Un(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Ge(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Un(n,e,r)}(n);if(o.toRoot())return Mn(e.root,new Je([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new qn(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new qn(t,t===e.root,0)}const r=Ln(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new qn(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?Hn(s.segmentGroup,s.index,o.commands):Bn(s.segmentGroup,s.index,o.commands);return Mn(s.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){const n=Zn(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(uw){e=this.malformedUriErrorHandler(uw,this.urlSerializer,t)}return e}isActive(t,e){if(Zn(t))return $e(this.currentUrlTree,t,e);const n=this.parseUrl(t);return $e(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Ee(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),a=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.M),r.Pb(nn),r.Pb(Ur),r.Pb(E),r.Pb(r.r),r.Pb(r.w),r.Pb(r.i),r.Pb(void 0))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),Gr=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new yt.a,this.subscription=t.events.subscribe(t=>{t instanceof Ee&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const o={skipLocationChange:Wr(this.skipLocationChange),replaceUrl:Wr(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Wr(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Kr),r.Ib(Tn),r.Ib(y))},t.\u0275dir=r.Db({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.Sb("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(r.Ob("href",e.href,r.Yb),r.zb("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.wb]}),t})();function Wr(t){return""===t||!!t}let $r=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||Ve,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Qr(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Ur),r.Ib(r.P),r.Ib(r.j),r.Qb("name"),r.Ib(r.h))},t.\u0275dir=r.Db({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class Qr{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Tn?this.route:t===Ur?this.childContexts:this.parent.get(t,e)}}class Yr{}class Xr{preload(t,e){return Object(mt.a)(null)}}let Zr=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Mr(e,n,e=>t.triggerEvent(new ke(e)),e=>t.triggerEvent(new je(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Yt(t=>t instanceof Ee),re(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.x);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(gt.a)(n).pipe(Object(Dt.a)(),Object(Vt.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(ne.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(Kr),r.Pb(r.w),r.Pb(r.i),r.Pb(r.r),r.Pb(Yr))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),Jr=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof _e?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ee&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Le&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Le(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(Kr),r.Pb(V),r.Pb(void 0))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const ti=new r.q("ROUTER_CONFIGURATION"),ei=new r.q("ROUTER_FORROOT_GUARD"),ni=[E,{provide:nn,useClass:rn},{provide:Kr,useFactory:function(t,e,n,r,i,o,a,u={},c,l){const h=new Kr(null,t,e,n,r,i,o,ze(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(u,h),u.enableTracing){const t=s();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[nn,Ur,E,r.r,r.w,r.i,Vr,ti,[class{},new r.A],[class{},new r.A]]},Ur,{provide:Tn,useFactory:function(t){return t.routerState.root},deps:[Kr]},{provide:r.w,useClass:r.J},Zr,Xr,class{preload(t,e){return e().pipe(Jt(()=>Object(mt.a)(null)))}},{provide:ti,useValue:{enableTracing:!1}}];function ri(){return new r.y("Router",Kr)}let ii=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[ni,ui(e),{provide:ei,useFactory:ai,deps:[[Kr,new r.A,new r.I]]},{provide:ti,useValue:n||{}},{provide:y,useFactory:si,deps:[u,[new r.p(b),new r.A],ti]},{provide:Jr,useFactory:oi,deps:[Kr,V,ti]},{provide:Yr,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Xr},{provide:r.y,multi:!0,useFactory:ri},[ci,{provide:r.d,multi:!0,useFactory:li,deps:[ci]},{provide:fi,useFactory:hi,deps:[ci]},{provide:r.b,multi:!0,useExisting:fi}]]}}static forChild(e){return{ngModule:t,providers:[ui(e)]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)(r.Pb(ei,8),r.Pb(Kr,8))}}),t})();function oi(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Jr(t,e,n)}function si(t,e,n={}){return n.useHash?new _(t,e):new w(t,e)}function ai(t){return"guarded"}function ui(t){return[{provide:r.a,multi:!0,useValue:t},{provide:Vr,multi:!0,useValue:t}]}let ci=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new yt.a}appInitializer(){return this.injector.get(l,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Kr),r=this.injector.get(ti);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(mt.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(ti),n=this.injector.get(Zr),i=this.injector.get(Jr),o=this.injector.get(Kr),s=this.injector.get(r.g);t===s.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||o.initialNavigation(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.r))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();function li(t){return t.appInitializer.bind(t)}function hi(t){return t.bootstrapListener.bind(t)}const fi=new r.q("Router Initializer");var di=n("XoHu");function pi(t,e){return new Tt.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const u=Object(gt.a)(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&c||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const gi=new r.q("NgValueAccessor"),mi={provide:gi,useExisting:Object(r.T)(()=>yi),multi:!0};let yi=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("change",function(t){return e.onChange(t.target.checked)})("blur",function(){return e.onTouched()})},features:[r.xb([mi])]}),t})();const vi={provide:gi,useExisting:Object(r.T)(()=>wi),multi:!0},bi=new r.q("CompositionEventMode");let wi=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=s()?s().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l),r.Ib(bi,8))},t.\u0275dir=r.Db({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Sb("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r.xb([vi])]}),t})();function _i(t){return null==t||0===t.length}function Ei(t){return null!=t&&"number"==typeof t.length}const Si=new r.q("NgValidators"),Oi=new r.q("NgAsyncValidators"),Ci=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ti{static min(t){return e=>{if(_i(e.value)||_i(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(_i(e.value)||_i(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return _i(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return _i(t.value)||Ci.test(t.value)?null:{email:!0}}static minLength(t){return e=>_i(e.value)||!Ei(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>Ei(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return Ti.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(_i(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(Ii);return 0==e.length?null:function(t){return xi(ki(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(Ii);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(_t.a)(e))return pi(e,null);if(Object(di.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return pi(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return pi(t=1===t.length&&Object(_t.a)(t[0])?t[0]:t,null).pipe(Object(Vt.a)(t=>e(...t)))}return pi(t,null)}(ki(t,e).map(Ai)).pipe(Object(Vt.a)(xi))}}}function Ii(t){return null!=t}function Ai(t){const e=Object(r.qb)(t)?Object(gt.a)(t):t;return Object(r.pb)(e),e}function xi(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function ki(t,e){return e.map(e=>e(t))}function ji(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function Ni(t){return null!=t?Ti.compose(ji(t)):null}function Di(t){return null!=t?Ti.composeAsync(ji(t)):null}function Ri(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Pi(t){return t._rawValidators}function Li(t){return t._rawAsyncValidators}let Vi=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Ni(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Di(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Db({type:t}),t})(),Mi=(()=>{class t extends Vi{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return Fi(e||t)},t.\u0275dir=r.Db({type:t,features:[r.vb]}),t})();const Fi=r.Nb(Mi);class Ui extends Vi{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class qi{constructor(t){this._cd=t}get ngClassUntouched(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.untouched)&&void 0!==n&&n}get ngClassTouched(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.touched)&&void 0!==n&&n}get ngClassPristine(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.pristine)&&void 0!==n&&n}get ngClassDirty(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.dirty)&&void 0!==n&&n}get ngClassValid(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.valid)&&void 0!==n&&n}get ngClassInvalid(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.invalid)&&void 0!==n&&n}get ngClassPending(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.pending)&&void 0!==n&&n}}let Bi=(()=>{class t extends qi{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Ui,2))},t.\u0275dir=r.Db({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Ab("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.vb]}),t})(),Hi=(()=>{class t extends qi{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Mi,10))},t.\u0275dir=r.Db({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Ab("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.vb]}),t})();const zi={provide:gi,useExisting:Object(r.T)(()=>Ki),multi:!0};let Ki=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.xb([zi])]}),t})();const Gi={provide:gi,useExisting:Object(r.T)(()=>$i),multi:!0};let Wi=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),$i=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(Ui),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l),r.Ib(Wi),r.Ib(r.r))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("change",function(){return e.onChange()})("blur",function(){return e.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.xb([Gi])]}),t})();const Qi={provide:gi,useExisting:Object(r.T)(()=>Yi),multi:!0};let Yi=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("change",function(t){return e.onChange(t.target.value)})("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.xb([Qi])]}),t})();const Xi={provide:gi,useExisting:Object(r.T)(()=>Zi),multi:!0};let Zi=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.Sb("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.xb([Xi])]}),t})();const Ji={provide:gi,useExisting:Object(r.T)(()=>to),multi:!0};let to=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.xb([Ji])]}),t})();function eo(t,e){ro(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&oo(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&oo(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function no(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function ro(t,e,n){const r=Pi(t);null!==e.validator?t.setValidators(Ri(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=Li(t);if(null!==e.asyncValidator?t.setAsyncValidators(Ri(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){const n=()=>t.updateValueAndValidity();no(e._rawValidators,n),no(e._rawAsyncValidators,n)}}function io(t,e,n){if(null!==t){if(null!==e.validator){const n=Pi(t);Array.isArray(n)&&n.length>0&&t.setValidators(n.filter(t=>t!==e.validator))}if(null!==e.asyncValidator){const n=Li(t);Array.isArray(n)&&n.length>0&&t.setAsyncValidators(n.filter(t=>t!==e.asyncValidator))}}if(n){const t=()=>{};no(e._rawValidators,t),no(e._rawAsyncValidators,t)}}function oo(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function so(t,e){ro(t,e,!1)}const ao=[yi,Yi,Ki,Zi,to,$i];function uo(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const co="VALID",lo="INVALID",ho="PENDING",fo="DISABLED";function po(t){return(vo(t)?t.validators:t)||null}function go(t){return Array.isArray(t)?Ni(t):t||null}function mo(t,e){return(vo(e)?e.asyncValidators:t)||null}function yo(t){return Array.isArray(t)?Di(t):t||null}function vo(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class bo{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=go(this._rawValidators),this._composedAsyncValidatorFn=yo(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===co}get invalid(){return this.status===lo}get pending(){return this.status==ho}get disabled(){return this.status===fo}get enabled(){return this.status!==fo}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=go(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=yo(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=ho,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=fo,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=co,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==co&&this.status!==ho||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?fo:co}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=ho,this._hasOwnPendingAsyncValidator=!0;const e=Ai(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof _o?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Eo&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?fo:this.errors?lo:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ho)?ho:this._anyControlsHaveStatus(lo)?lo:co}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){vo(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class wo extends bo{constructor(t=null,e,n){super(po(e),mo(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){uo(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){uo(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class _o extends bo{constructor(t,e,n){super(po(e),mo(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof wo?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Eo extends bo{constructor(t,e,n){super(po(e),mo(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof wo?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}let So=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Db({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const Oo=new r.q("NgModelWithFormControlWarning"),Co={provide:Mi,useExisting:Object(r.T)(()=>To)};let To=(()=>{class t extends Mi{constructor(t,e){super(),this.validators=t,this.asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new r.n,this._setValidators(t),this._setAsyncValidators(e)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return eo(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){uo(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);so(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);so(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,e=this.directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){const n=()=>{};e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n),io(t,e,!0),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}(t.control||null,t),e&&eo(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ro(this.form,this,!1),this._oldForm&&io(this._oldForm,this,!1)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Si,10),r.Ib(Oi,10))},t.\u0275dir=r.Db({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.Sb("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.xb([Co]),r.vb,r.wb]}),t})();const Io={provide:Ui,useExisting:Object(r.T)(()=>Ao)};let Ao=(()=>{class t extends Ui{constructor(t,e,n,i,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new r.n,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e);let n=void 0,r=void 0,i=void 0;return e.forEach(t=>{var e;t.constructor===wi?n=t:(e=t,ao.some(t=>e.constructor===t)?r=t:i=t)}),i||r||n||null}(0,i)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return t=null==this.name?this.name:this.name.toString(),[...this._parent.path,t];var t}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Mi,13),r.Ib(Si,10),r.Ib(Oi,10),r.Ib(gi,10),r.Ib(Oo,8))},t.\u0275dir=r.Db({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r.xb([Io]),r.vb,r.wb]}),t._ngModelWarningSentOnce=!1,t})(),xo=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)}}),t})(),ko=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let r=null,i=null,o=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,o=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new _o(n,{asyncValidators:i,updateOn:o,validators:r})}control(t,e,n){return new wo(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new Eo(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof wo||t instanceof _o||t instanceof Eo?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),jo=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[Wi],imports:[xo]}),t})(),No=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Oo,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[ko,Wi],imports:[xo]}),t})();class Do{constructor(){this.nombre="",this.codigo="",this.valor=0,this.id=""}}var Ro=n("D0XW");function Po(){return t=>t.lift(new Lo)}class Lo{call(t,e){return e.subscribe(new Vo(t))}}class Vo extends Et.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}class Mo{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new Fo(t,this.compare,this.keySelector))}}class Fo extends Et.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var Uo=n("pxpQ"),qo=n("spgP"),Bo=n("Jgta"),Ho=n("zIRd"),zo=n("qOnz"),Ko=n("q/0M"),Go=function(t,e){return(Go=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Wo(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var $o,Qo="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Yo=Yo||{},Xo=Qo||self;function Zo(){}function Jo(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function ts(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var es="closure_uid_"+(1e9*Math.random()>>>0),ns=0;function rs(t,e,n){return t.call.apply(t.bind,arguments)}function is(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function os(t,e,n){return(os=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?rs:is).apply(null,arguments)}function ss(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function as(){return Date.now()}function us(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Pb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function cs(){this.j=this.j,this.i=this.i}cs.prototype.j=!1,cs.prototype.ka=function(){!this.j&&(this.j=!0,this.H(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,es)&&t[es]||(t[es]=++ns)}(this)},cs.prototype.H=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var ls=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},hs=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function fs(t){return Array.prototype.concat.apply([],arguments)}function ds(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function ps(t){return/^[\s\xa0]*$/.test(t)}var gs,ms=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function ys(t,e){return-1!=t.indexOf(e)}function vs(t,e){return t<e?-1:t>e?1:0}t:{var bs=Xo.navigator;if(bs){var ws=bs.userAgent;if(ws){gs=ws;break t}}gs=""}function _s(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Es(t){var e={};for(var n in t)e[n]=t[n];return e}var Ss="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Os(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Ss.length;o++)n=Ss[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Cs(t){return Cs[" "](t),t}Cs[" "]=Zo;var Ts,Is,As=ys(gs,"Opera"),xs=ys(gs,"Trident")||ys(gs,"MSIE"),ks=ys(gs,"Edge"),js=ks||xs,Ns=ys(gs,"Gecko")&&!(ys(gs.toLowerCase(),"webkit")&&!ys(gs,"Edge"))&&!(ys(gs,"Trident")||ys(gs,"MSIE"))&&!ys(gs,"Edge"),Ds=ys(gs.toLowerCase(),"webkit")&&!ys(gs,"Edge");function Rs(){var t=Xo.document;return t?t.documentMode:void 0}t:{var Ps="",Ls=(Is=gs,Ns?/rv:([^\);]+)(\)|;)/.exec(Is):ks?/Edge\/([\d\.]+)/.exec(Is):xs?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Is):Ds?/WebKit\/(\S+)/.exec(Is):As?/(?:Version)[ \/]?(\S+)/.exec(Is):void 0);if(Ls&&(Ps=Ls?Ls[1]:""),xs){var Vs=Rs();if(null!=Vs&&Vs>parseFloat(Ps)){Ts=String(Vs);break t}}Ts=Ps}var Ms={};function Fs(t){return function(t,e){var n=Ms;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=ms(String(Ts)).split("."),r=ms(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=vs(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||vs(0==s[2].length,0==a[2].length)||vs(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e})}var Us=Xo.document&&xs&&(Rs()||parseInt(Ts,10))||void 0,qs=!xs||9<=Number(Us),Bs=xs&&!Fs("9"),Hs=function(){if(!Xo.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Xo.addEventListener("test",Zo,e),Xo.removeEventListener("test",Zo,e)}catch(n){}return t}();function zs(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Ks(t,e){if(zs.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Ns){t:{try{Cs(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Gs[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}zs.prototype.b=function(){this.defaultPrevented=!0},us(Ks,zs);var Gs={2:"touch",3:"pen",4:"mouse"};Ks.prototype.b=function(){Ks.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Bs)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Ws="closure_listenable_"+(1e6*Math.random()|0),$s=0;function Qs(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.da=i,this.key=++$s,this.Y=this.Z=!1}function Ys(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.da=null}function Xs(t){this.src=t,this.a={},this.b=0}function Zs(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=ls(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Ys(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Js(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.da==r)return i}return-1}Xs.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=Js(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new Qs(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var ta="closure_lm_"+(1e6*Math.random()|0),ea={};function na(t,e,n,r,i){if(r&&r.once)return ia(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)na(t,e[o],n,r,i);return null}return n=fa(n),t&&t[Ws]?t.wa(e,n,ts(r)?!!r.capture:!!r,i):ra(t,e,n,!1,r,i)}function ra(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=ts(i)?!!i.capture:!!i;if(s&&!qs)return null;var a=la(t);if(a||(t[ta]=a=new Xs(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=ca,e=qs?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Hs||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(aa(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function ia(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)ia(t,e[o],n,r,i);return null}return n=fa(n),t&&t[Ws]?t.xa(e,n,ts(r)?!!r.capture:!!r,i):ra(t,e,n,!0,r,i)}function oa(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)oa(t,e[o],n,r,i);else r=ts(r)?!!r.capture:!!r,n=fa(n),t&&t[Ws]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=Js(o=t.a[e],n,r,i))&&(Ys(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=la(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Js(e,n,r,i)),(n=-1<t?e[t]:null)&&sa(n))}function sa(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Ws])Zs(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(aa(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=la(e))?(Zs(n,t),0==n.b&&(n.src=null,e[ta]=null)):Ys(t)}}}function aa(t){return t in ea?ea[t]:ea[t]="on"+t}function ua(t,e){var n=t.listener,r=t.da||t.src;return t.Z&&sa(t),n.call(r,e)}function ca(t,e){if(t.Y)return!0;if(!qs){if(!e)t:{e=["window","event"];for(var n=Xo,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return ua(t,e=new Ks(e,this))}return ua(t,new Ks(e,this))}function la(t){return(t=t[ta])instanceof Xs?t:null}var ha="__closure_events_fn_"+(1e9*Math.random()>>>0);function fa(t){return"function"==typeof t?t:(t[ha]||(t[ha]=function(e){return t.handleEvent(e)}),t[ha])}function da(){cs.call(this),this.c=new Xs(this),this.J=this,this.D=null}function pa(t,e){var n,r=t.D;if(r)for(n=[];r;r=r.D)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new zs(e,t);else if(e instanceof zs)e.target=e.target||t;else{var i=e;Os(e=new zs(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=ga(s,r,!0,e)&&i}if(i=ga(s=e.a=t,r,!0,e)&&i,i=ga(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=ga(s=e.a=n[o],r,!1,e)&&i}function ga(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.da||s.src;s.Z&&Zs(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}us(da,cs),da.prototype[Ws]=!0,($o=da.prototype).addEventListener=function(t,e,n,r){na(this,t,e,n,r)},$o.removeEventListener=function(t,e,n,r){oa(this,t,e,n,r)},$o.H=function(){if(da.X.H.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Ys(n[r]);delete e.a[t],e.b--}}this.D=null},$o.wa=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},$o.xa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var ma=Xo.JSON.stringify;function ya(){this.b=this.a=null}var va,ba=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new _a},function(t){t.reset()});function wa(){var t=Ca,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function _a(){this.next=this.b=this.a=null}function Ea(t){Xo.setTimeout(function(){throw t},0)}function Sa(t,e){va||function(){var t=Xo.Promise.resolve(void 0);va=function(){t.then(Ta)}}(),Oa||(va(),Oa=!0),Ca.add(t,e)}ya.prototype.add=function(t,e){var n=ba.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},_a.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},_a.prototype.reset=function(){this.next=this.b=this.a=null};var Oa=!1,Ca=new ya;function Ta(){for(var t;t=wa();){try{t.a.call(t.b)}catch(n){Ea(n)}var e=ba;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Oa=!1}function Ia(t,e){da.call(this),this.b=t||1,this.a=e||Xo,this.f=os(this.eb,this),this.g=as()}function Aa(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function xa(t,e,n){if("function"==typeof t)n&&(t=os(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=os(t.handleEvent,t)}return 2147483647<Number(e)?-1:Xo.setTimeout(t,e||0)}function ka(t){t.a=xa(function(){t.a=null,t.c&&(t.c=!1,ka(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}us(Ia,da),($o=Ia.prototype).aa=!1,$o.M=null,$o.eb=function(){if(this.aa){var t=as()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),pa(this,"tick"),this.aa&&(Aa(this),this.start()))}},$o.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=as())},$o.H=function(){Ia.X.H.call(this),Aa(this),delete this.a};var ja=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}Go(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:ka(this)},e.prototype.H=function(){t.prototype.H.call(this),this.a&&(Xo.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(cs);function Na(t){cs.call(this),this.b=t,this.a={}}us(Na,cs);var Da=[];function Ra(t,e,n,r){Array.isArray(n)||(n&&(Da[0]=n.toString()),n=Da);for(var i=0;i<n.length;i++){var o=na(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Pa(t){_s(t.a,function(t,e){this.a.hasOwnProperty(e)&&sa(t)},t),t.a={}}function La(){this.a=!0}function Va(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return ma(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}Na.prototype.H=function(){Na.X.H.call(this),Pa(this)},Na.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},La.prototype.info=function(){};var Ma={},Fa=null;function Ua(){return Fa=Fa||new da}function qa(t){zs.call(this,Ma.Ga,t)}function Ba(t){var e=Ua();pa(e,new qa(e,t))}function Ha(t,e){zs.call(this,Ma.STAT_EVENT,t),this.stat=e}function za(t){var e=Ua();pa(e,new Ha(e,t))}function Ka(t){zs.call(this,Ma.Ha,t)}function Ga(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Xo.setTimeout(function(){t()},e)}Ma.Ga="serverreachability",us(qa,zs),Ma.STAT_EVENT="statevent",us(Ha,zs),Ma.Ha="timingevent",us(Ka,zs);var Wa={NO_ERROR:0,fb:1,sb:2,rb:3,mb:4,qb:5,tb:6,Ea:7,TIMEOUT:8,wb:9},$a={kb:"complete",Gb:"success",Fa:"error",Ea:"abort",yb:"ready",zb:"readystatechange",TIMEOUT:"timeout",ub:"incrementaldata",xb:"progress",nb:"downloadprogress",Ob:"uploadprogress"};function Qa(){}function Ya(){}Qa.prototype.b=null;var Xa,Za={OPEN:"a",jb:"b",Fa:"c",vb:"d"};function Ja(){zs.call(this,"d")}function tu(){zs.call(this,"c")}function eu(){}function nu(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new Na(this),this.P=ru,this.R=new Ia(t=js?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.G=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}us(Ja,zs),us(tu,zs),us(eu,Qa),eu.prototype.a=function(){return new XMLHttpRequest},eu.prototype.c=function(){return{}},Xa=new eu;var ru=45e3,iu={},ou={};function su(t,e,n){t.G=1,t.i=Au(Eu(e)),t.j=n,t.I=!0,au(t,null)}function au(t,e){t.u=as(),lu(t),t.l=Eu(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),qu(n.b,"t",r),t.D=0,t.a=Pc(t.g,t.g.C?e:null),0<t.O&&(t.F=new ja(os(t.Da,t,t.a),t.O)),Ra(t.J,t.a,"readystatechange",t.bb),e=t.B?Es(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Ba(1),function(t,e,n,r,i,o){t.info(function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.c,t.m,t.l,t.f,t.S,t.j)}function uu(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=cu(t,n);if(i==ou){4==e&&(t.h=4,za(14),r=!1),Va(t.c,t.f,null,"[Incomplete Response]");break}if(i==iu){t.h=4,za(15),Va(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Va(t.c,t.f,i,null),gu(t,i)}4==e&&0==n.length&&(t.h=1,za(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ic(e),e.F=!0,za(11))):(Va(t.c,t.f,n,"[Invalid Chunked Response]"),pu(t),du(t))}function cu(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?ou:(n=Number(e.substring(n,r)),isNaN(n)?iu:(r+=1)+n>e.length?ou:(e=e.substr(r,n),t.D=r+n,e))}function lu(t){t.T=as()+t.P,hu(t,t.P)}function hu(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Ga(os(t.$a,t),e)}function fu(t){t.o&&(Xo.clearTimeout(t.o),t.o=null)}function du(t){0==t.g.v||t.A||kc(t.g,t)}function pu(t){fu(t);var e=t.F;e&&"function"==typeof e.ka&&e.ka(),t.F=null,Aa(t.R),Pa(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ka())}function gu(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||$u(n.b,t)))if(n.I=t.N,!t.C&&$u(n.b,t)&&3==n.v){try{var r=n.la.a.parse(e)}catch(Mb){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;xc(n),vc(n)}Tc(n),za(18)}}else n.pa=i[1],0<n.pa-n.P&&37500>i[2]&&n.G&&0==n.o&&!n.m&&(n.m=Ga(os(n.Xa,n),6e3));if(1>=Wu(n.b)&&n.fa){try{n.fa()}catch(Mb){}n.fa=void 0}}else Nc(n,11)}else if((t.C||n.a==t)&&xc(n),!ps(e))for(e=r=n.la.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ha=i[2];var o=i[3];null!=o&&(n.ia=o,n.c.info("VER="+n.ia));var s=i[4];null!=s&&(n.qa=s,n.c.info("SVER="+n.qa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(ys(l,"spdy")||ys(l,"quic")||ys(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Qu(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.oa=f,Iu(u.B,u.A,f))}}n.v=3,n.f&&n.f.ua(),n.U&&(n.N=as()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).ma=Rc(u,u.C?u.ha:null,u.ga),d.C){Yu(u.b,d);var p=d,g=u.D;g&&p.setTimeout(g),p.o&&(fu(p),lu(p)),u.a=d}else Cc(u);0<n.g.length&&_c(n)}else"stop"!=i[0]&&"close"!=i[0]||Nc(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Nc(n,7):yc(n):"noop"!=i[0]&&n.f&&n.f.ta(i),n.o=0);Ba(4)}catch(Mb){}}function mu(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Jo(t)||"string"==typeof t)hs(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Jo(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Jo(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function yu(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof yu)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function vu(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];bu(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)bu(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function bu(t,e){return Object.prototype.hasOwnProperty.call(t,e)}($o=nu.prototype).setTimeout=function(t){this.P=t},$o.bb=function(t){t=t.target;var e=this.F;e&&3==dc(t)?e.f():this.Da(t)},$o.Da=function(t){try{if(t==this.a)t:{var e=dc(this.a),n=this.a.va(),r=this.a.W();if(!(3>e||3==e&&!js&&!this.a.$())){this.A||4!=e||7==n||Ba(8==n||0>=r?3:2),fu(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ps(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,za(12),pu(this),du(this);break t}Va(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,gu(this,u)}this.I?(uu(this,e,o),js&&this.b&&3==e&&(Ra(this.J,this.R,"tick",this.ab),this.R.start())):(Va(this.c,this.f,o,null),gu(this,o)),4==e&&pu(this),this.b&&!this.A&&(4==e?kc(this.g,this):(this.b=!1,lu(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,za(12)):(this.h=0,za(13)),pu(this),du(this)}}}catch(c){}},$o.ab=function(){if(this.a){var t=dc(this.a),e=this.a.$();this.D<e.length&&(fu(this),uu(this,t,e),this.b&&4!=t&&lu(this))}},$o.cancel=function(){this.A=!0,pu(this)},$o.$a=function(){this.o=null;var t=as();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.G&&(Ba(3),za(17)),pu(this),this.h=2,du(this)):hu(this,this.T-t)},($o=yu.prototype).K=function(){vu(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},$o.L=function(){return vu(this),this.a.concat()},$o.get=function(t,e){return bu(this.b,t)?this.b[t]:e},$o.set=function(t,e){bu(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},$o.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var wu=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function _u(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof _u){this.a=void 0!==e?e:t.a,Su(this,t.f),this.j=t.j,Ou(this,t.c),Cu(this,t.h),this.g=t.g,e=t.b;var n=new Vu;n.c=e.c,e.a&&(n.a=new yu(e.a),n.b=e.b),Tu(this,n),this.i=t.i}else t&&(n=String(t).match(wu))?(this.a=!!e,Su(this,n[1]||"",!0),this.j=xu(n[2]||""),Ou(this,n[3]||"",!0),Cu(this,n[4]),this.g=xu(n[5]||"",!0),Tu(this,n[6]||"",!0),this.i=xu(n[7]||"")):(this.a=!!e,this.b=new Vu(null,this.a))}function Eu(t){return new _u(t)}function Su(t,e,n){t.f=n?xu(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Ou(t,e,n){t.c=n?xu(e,!0):e}function Cu(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Tu(t,e,n){e instanceof Vu?(t.b=e,function(t,e){e&&!t.f&&(Mu(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Fu(this,e),qu(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=ku(e,Pu)),t.b=new Vu(e,t.a))}function Iu(t,e,n){t.b.set(e,n)}function Au(t){return Iu(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^as()).toString(36)),t}function xu(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ku(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,ju),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ju(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}_u.prototype.toString=function(){var t=[],e=this.f;e&&t.push(ku(e,Nu,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(ku(e,Nu,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(ku(n,"/"==n.charAt(0)?Ru:Du,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",ku(n,Lu)),t.join("")};var Nu=/[#\/\?@]/g,Du=/[#\?:]/g,Ru=/[#\?]/g,Pu=/[#\?@]/g,Lu=/#/g;function Vu(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Mu(t){t.a||(t.a=new yu,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Fu(t,e){Mu(t),e=Bu(t,e),bu(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,bu((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&vu(t)))}function Uu(t,e){return Mu(t),e=Bu(t,e),bu(t.a.b,e)}function qu(t,e,n){Fu(t,e),0<n.length&&(t.c=null,t.a.set(Bu(t,e),ds(n)),t.b+=n.length)}function Bu(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}($o=Vu.prototype).add=function(t,e){Mu(this),this.c=null,t=Bu(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},$o.forEach=function(t,e){Mu(this),this.a.forEach(function(n,r){hs(n,function(n){t.call(e,n,r,this)},this)},this)},$o.L=function(){Mu(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},$o.K=function(t){Mu(this);var e=[];if("string"==typeof t)Uu(this,t)&&(e=fs(e,this.a.get(Bu(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=fs(e,t[n])}return e},$o.set=function(t,e){return Mu(this),this.c=null,Uu(this,t=Bu(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},$o.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},$o.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var Hu=function(){return function(t,e){this.b=t,this.a=e}}();function zu(t){this.g=t||Ku,t=Xo.PerformanceNavigationTiming?0<(t=Xo.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Xo.ja&&Xo.ja.za&&Xo.ja.za()&&Xo.ja.za().Qb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Ku=10;function Gu(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Wu(t){return t.b?1:t.a?t.a.size:0}function $u(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Qu(t,e){t.a?t.a.add(e):t.b=e}function Yu(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Xu(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Wo(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return ds(t.c)}function Zu(){}function Ju(){this.a=new Zu}function tc(t,e,n){var r=n||"";try{mu(t,function(t,n){var i=t;ts(t)&&(i=ma(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(uw){throw e.push(r+"type="+encodeURIComponent("_badmap")),uw}}function ec(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}zu.prototype.cancel=function(){var t,e;if(this.c=Xu(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Wo(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Zu.prototype.stringify=function(t){return Xo.JSON.stringify(t,void 0)},Zu.prototype.parse=function(t){return Xo.JSON.parse(t,void 0)};var nc=Xo.JSON.parse;function rc(t){da.call(this),this.headers=new yu,this.l=t||null,this.b=!1,this.u=this.a=null,this.C="",this.h=0,this.f="",this.g=this.B=this.m=this.A=!1,this.s=0,this.o=null,this.I=ic,this.F=this.G=!1}us(rc,da);var ic="",oc=/^https?$/i,sc=["POST","PUT"];function ac(t){return"content-type"==t.toLowerCase()}function uc(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,cc(t),hc(t)}function cc(t){t.A||(t.A=!0,pa(t,"complete"),pa(t,"error"))}function lc(t){if(t.b&&void 0!==Yo&&(!t.u[1]||4!=dc(t)||2!=t.W()))if(t.m&&4==dc(t))xa(t.Aa,0,t);else if(pa(t,"readystatechange"),4==dc(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.C).match(wu)[1]||null;if(!o&&Xo.self&&Xo.self.location){var s=Xo.self.location.protocol;o=s.substr(0,s.length-1)}i=!oc.test(o?o.toLowerCase():"")}e=i}if(e)pa(t,"complete"),pa(t,"success");else{t.h=6;try{var a=2<dc(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",cc(t)}}finally{hc(t)}}}function hc(t,e){if(t.a){fc(t);var n=t.a,r=t.u[0]?Zo:null;t.a=null,t.u=null,e||pa(t,"ready");try{n.onreadystatechange=r}catch(uw){}}}function fc(t){t.a&&t.F&&(t.a.ontimeout=null),t.o&&(Xo.clearTimeout(t.o),t.o=null)}function dc(t){return t.a?t.a.readyState:0}function pc(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return _s(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Iu(t,e,n))}function gc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function mc(t){this.qa=0,this.g=[],this.c=new La,this.ha=this.ma=this.B=this.ga=this.a=this.oa=this.A=this.V=this.i=this.O=this.l=null,this.Pa=this.R=0,this.Ma=gc("failFast",!1,t),this.G=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.pa=this.P=-1,this.T=this.o=this.u=0,this.Ia=gc("baseRetryDelayMs",5e3,t),this.Sa=gc("retryDelaySeedMs",1e4,t),this.Na=gc("forwardChannelMaxRetries",2,t),this.na=gc("forwardChannelRequestTimeoutMs",2e4,t),this.Oa=t&&t.xmlHttpFactory||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new zu(t&&t.concurrentRequestLimit),this.la=new Ju,this.ea=t&&t.fastHandshake||!1,this.Ja=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.ea&&this.S&&t&&t.detectBufferingProxy||!1,this.fa=void 0,this.N=0,this.F=!1,this.s=null,(this.La=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function yc(t){if(bc(t),3==t.v){var e=t.R++,n=Eu(t.B);Iu(n,"SID",t.J),Iu(n,"RID",e),Iu(n,"TYPE","terminate"),Sc(t,n),(e=new nu(t,t.c,e,void 0)).G=2,e.i=Au(Eu(n)),n=!1,Xo.navigator&&Xo.navigator.sendBeacon&&(n=Xo.navigator.sendBeacon(e.i.toString(),"")),!n&&Xo.Image&&((new Image).src=e.i,n=!0),n||(e.a=Pc(e.g,null),e.a.ba(e.i)),e.u=as(),lu(e)}Dc(t)}function vc(t){t.a&&(Ic(t),t.a.cancel(),t.a=null)}function bc(t){vc(t),t.j&&(Xo.clearTimeout(t.j),t.j=null),xc(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Xo.clearTimeout(t.h),t.h=null)}function wc(t,e){t.g.push(new Hu(t.Pa++,e)),3==t.v&&_c(t)}function _c(t){Gu(t.b)||t.h||(t.h=!0,Sa(t.Ca,t),t.u=0)}function Ec(t,e){var n;n=e?e.f:t.R++;var r=Eu(t.B);Iu(r,"SID",t.J),Iu(r,"RID",n),Iu(r,"AID",t.P),Sc(t,r),t.i&&t.l&&pc(r,t.i,t.l),n=new nu(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Oc(t,n,1e3),n.setTimeout(Math.round(.5*t.na)+Math.round(.5*t.na*Math.random())),Qu(t.b,n),su(n,r,e)}function Sc(t,e){t.f&&mu({},function(t,n){Iu(e,n,t)})}function Oc(t,e,n){n=Math.min(t.g.length,n);var r=t.f?os(t.f.Ka,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{tc(l,s,"req"+c+"_")}catch(vl){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Cc(t){t.a||t.j||(t.T=1,Sa(t.Ba,t),t.o=0)}function Tc(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=Ga(os(t.Ba,t),jc(t,t.o)),t.o++,0))}function Ic(t){null!=t.s&&(Xo.clearTimeout(t.s),t.s=null)}function Ac(t){t.a=new nu(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Eu(t.ma);Iu(e,"RID","rpc"),Iu(e,"SID",t.J),Iu(e,"CI",t.G?"0":"1"),Iu(e,"AID",t.P),Sc(t,e),Iu(e,"TYPE","xmlhttp"),t.i&&t.l&&pc(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ha,n.G=1,n.i=Au(Eu(e)),n.j=null,n.I=!0,au(n,t)}function xc(t){null!=t.m&&(Xo.clearTimeout(t.m),t.m=null)}function kc(t,e){var n=null;if(t.a==e){xc(t),Ic(t),t.a=null;var r=2}else{if(!$u(t.b,e))return;n=e.s,Yu(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=as()-e.u;var i=t.u;pa(r=Ua(),new Ka(r,n,e,i)),_c(t)}else Cc(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Wu(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.Ma?0:t.Na)||(t.h=Ga(os(t.Ca,t,e),jc(t,t.u)),t.u++,0)))}(t,e)||2==r&&Tc(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Nc(t,5);break;case 4:Nc(t,10);break;case 3:Nc(t,6);break;default:Nc(t,2)}}function jc(t,e){var n=t.Ia+Math.floor(Math.random()*t.Sa);return t.f||(n*=2),n*e}function Nc(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=os(t.cb,t);n||(n=new _u("//www.google.com/images/cleardot.gif"),Xo.location&&"http"==Xo.location.protocol||Su(n,"https"),Au(n)),function(t,e){var n=new La;if(Xo.Image){var r=new Image;r.onload=ss(ec,n,r,"TestLoadImage: loaded",!0,e),r.onerror=ss(ec,n,r,"TestLoadImage: error",!1,e),r.onabort=ss(ec,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=ss(ec,n,r,"TestLoadImage: timeout",!1,e),Xo.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else za(2);t.v=0,t.f&&t.f.sa(e),Dc(t),bc(t)}function Dc(t){t.v=0,t.I=-1,t.f&&(0==Xu(t.b).length&&0==t.g.length||(t.b.c.length=0,ds(t.g),t.g.length=0),t.f.ra())}function Rc(t,e,n){var r=function(t){return t instanceof _u?Eu(t):new _u(t,void 0)}(n);if(""!=r.c)e&&Ou(r,e+"."+r.c),Cu(r,r.h);else{var i=Xo.location;r=function(t,e,n,r){var i=new _u(null,void 0);return t&&Su(i,t),e&&Ou(i,e),n&&Cu(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&_s(t.V,function(t,e){Iu(r,e,t)}),n=t.oa,(e=t.A)&&n&&Iu(r,e,n),Iu(r,"VER",t.ia),Sc(t,r),r}function Pc(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new rc(t.Oa)).G=t.C,e}function Lc(){}function Vc(){if(xs&&!(10<=Number(Us)))throw Error("Environmental error: no available transport.")}function Mc(t,e){da.call(this),this.a=new mc(e),this.g=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!ps(t)&&(this.a.i=t),this.o=e&&e.supportsCrossDomainXhr||!1,this.m=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ps(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new qc(this)}function Fc(t){Ja.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Uc(){tu.call(this),this.status=1}function qc(t){this.a=t}function Bc(t){this.f=t}function Hc(t){da.call(this),this.u=t,this.h=void 0,this.readyState=zc,this.status=0,this.responseType=this.responseText=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.o="",this.a=!1,this.m=this.f=this.g=null}($o=rc.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.C+"; newUri="+t);e=e?e.toUpperCase():"GET",this.C=t,this.f="",this.h=0,this.A=!1,this.b=!0,this.a=this.l?this.l.a():Xa.a(),this.u=function(t){return t.b||(t.b=t.c())}(this.l?this.l:Xa),this.a.onreadystatechange=os(this.Aa,this);try{this.B=!0,this.a.open(e,String(t),!0),this.B=!1}catch(o){return void uc(this,o)}t=n||"";var i=new yu(this.headers);r&&mu(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=ac,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Xo.FormData&&t instanceof Xo.FormData,!(0<=ls(sc,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.G&&(this.a.withCredentials=this.G);try{fc(this),0<this.s&&((this.F=function(t){return xs&&Fs(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.s,this.a.ontimeout=os(this.ya,this)):this.o=xa(this.ya,this.s,this)),this.m=!0,this.a.send(t),this.m=!1}catch(o){uc(this,o)}},$o.ya=function(){void 0!==Yo&&this.a&&(this.f="Timed out after "+this.s+"ms, aborting",this.h=8,pa(this,"timeout"),this.abort(8))},$o.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,pa(this,"complete"),pa(this,"abort"),hc(this))},$o.H=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),hc(this,!0)),rc.X.H.call(this)},$o.Aa=function(){this.j||(this.B||this.m||this.g?lc(this):this.Za())},$o.Za=function(){lc(this)},$o.W=function(){try{return 2<dc(this)?this.a.status:-1}catch(Is){return-1}},$o.$=function(){try{return this.a?this.a.responseText:""}catch(Is){return""}},$o.Qa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),nc(e)}},$o.va=function(){return this.h},$o.Ra=function(){return"string"==typeof this.f?this.f:String(this.f)},($o=mc.prototype).ia=8,$o.v=1,$o.Ca=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new nu(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Os(r=Es(r),this.O):r=this.O),null===this.i&&(n.B=r),this.ea)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Oc(this,n,e),Iu(i=Eu(this.B),"RID",t),Iu(i,"CVER",22),this.A&&Iu(i,"X-HTTP-Session-Id",this.A),Sc(this,i),this.i&&r&&pc(i,this.i,r),Qu(this.b,n),this.Ja&&Iu(i,"TYPE","init"),this.ea?(Iu(i,"$req",e),Iu(i,"SID","null"),n.U=!0,su(n,i,null)):su(n,i,e),this.v=2}}else 3==this.v&&(t?Ec(this,t):0==this.g.length||Gu(this.b)||Ec(this))},$o.Ba=function(){if(this.j=null,Ac(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Ga(os(this.Ya,this),t)}},$o.Ya=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.F=!0,za(10),vc(this),Ac(this))},$o.Xa=function(){null!=this.m&&(this.m=null,vc(this),Tc(this),za(19))},$o.cb=function(t){t?(this.c.info("Successfully pinged google.com"),za(2)):(this.c.info("Failed to ping google.com"),za(1))},($o=Lc.prototype).ua=function(){},$o.ta=function(){},$o.sa=function(){},$o.ra=function(){},$o.Ka=function(){},Vc.prototype.a=function(t,e){return new Mc(t,e)},us(Mc,da),Mc.prototype.h=function(){this.a.f=this.f,this.o&&(this.a.C=!0);var t=this.a,e=this.g,n=this.b||void 0;za(0),t.ga=e,t.V=n||{},t.G=t.S,t.B=Rc(t,null,t.ga),_c(t)},Mc.prototype.close=function(){yc(this.a)},Mc.prototype.l=function(t){if("string"==typeof t){var e={};e.__data__=t,wc(this.a,e)}else this.m?((e={}).__data__=ma(t),wc(this.a,e)):wc(this.a,t)},Mc.prototype.H=function(){this.a.f=null,delete this.f,yc(this.a),delete this.a,Mc.X.H.call(this)},us(Fc,Ja),us(Uc,tu),us(qc,Lc),qc.prototype.ua=function(){pa(this.a,"a")},qc.prototype.ta=function(t){pa(this.a,new Fc(t))},qc.prototype.sa=function(t){pa(this.a,new Uc(t))},qc.prototype.ra=function(){pa(this.a,"b")},us(Bc,Qa),Bc.prototype.a=function(){return new Hc(this.f)},Bc.prototype.c=function(t){return function(){return t}}({}),us(Hc,da);var zc=0;function Kc(t){t.f.read().then(t.Ta.bind(t)).catch(t.ca.bind(t))}function Gc(t){t.readyState=4,t.g=null,t.f=null,t.m=null,Wc(t)}function Wc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}($o=Hc.prototype).open=function(t,e){if(this.readyState!=zc)throw this.abort(),Error("Error reopening a connection");this.s=t,this.o=e,this.readyState=1,Wc(this)},$o.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.o,e)).then(this.Wa.bind(this),this.ca.bind(this))},$o.abort=function(){this.responseText="",this.l=new Headers,this.status=0,this.f&&this.f.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,Gc(this)),this.readyState=zc},$o.Wa=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,Wc(this)),this.a&&(this.readyState=3,Wc(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.Ua.bind(this),this.ca.bind(this)):void 0!==Xo.ReadableStream&&"body"in t?(this.responseText="",this.f=t.body.getReader(),this.m=new TextDecoder,Kc(this)):t.text().then(this.Va.bind(this),this.ca.bind(this)))))},$o.Ta=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.responseText+=e),t.done?Gc(this):Wc(this),3==this.readyState&&Kc(this)}},$o.Va=function(t){this.a&&(this.responseText=t,Gc(this))},$o.Ua=function(){this.a&&Gc(this)},$o.ca=function(){this.a&&Gc(this)},$o.setRequestHeader=function(t,e){this.l.append(t,e)},$o.getResponseHeader=function(t){return this.b&&this.b.get(t.toLowerCase())||""},$o.getAllResponseHeaders=function(){if(!this.b)return"";for(var t=[],e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Hc.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),Vc.prototype.createWebChannel=Vc.prototype.a,Mc.prototype.send=Mc.prototype.l,Mc.prototype.open=Mc.prototype.h,Mc.prototype.close=Mc.prototype.close,Wa.NO_ERROR=0,Wa.TIMEOUT=8,Wa.HTTP_ERROR=6,$a.COMPLETE="complete",Ya.EventType=Za,Za.OPEN="a",Za.CLOSE="b",Za.ERROR="c",Za.MESSAGE="d",da.prototype.listen=da.prototype.wa,rc.prototype.listenOnce=rc.prototype.xa,rc.prototype.getLastError=rc.prototype.Ra,rc.prototype.getLastErrorCode=rc.prototype.va,rc.prototype.getStatus=rc.prototype.W,rc.prototype.getResponseJson=rc.prototype.Qa,rc.prototype.getResponseText=rc.prototype.$,rc.prototype.send=rc.prototype.ba;var $c=Wa,Qc=$a,Yc=Ma,Xc=Bc,Zc=Ya,Jc=rc,tl=n("mrSG"),el=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();el.o=-1;var nl={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},rl=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(tl.c)(e,t),e}(Error),il=new Ko.b("@firebase/firestore");function ol(){return il.logLevel}function sl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(il.logLevel<=Ko.a.DEBUG){var r=e.map(cl);il.debug.apply(il,Object(tl.f)(["Firestore (8.6.7): "+t],r))}}function al(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(il.logLevel<=Ko.a.ERROR){var r=e.map(cl);il.error.apply(il,Object(tl.f)(["Firestore (8.6.7): "+t],r))}}function ul(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(il.logLevel<=Ko.a.WARN){var r=e.map(cl);il.warn.apply(il,Object(tl.f)(["Firestore (8.6.7): "+t],r))}}function cl(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(uw){return t}}function ll(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.6.7) INTERNAL ASSERTION FAILED: "+t;throw al(e),new Error(e)}function hl(t,e){t||ll()}function fl(t,e){return t}function dl(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var pl=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=dl(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function gl(t,e){return t<e?-1:t>e?1:0}function ml(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function yl(t){return t+"\0"}var vl=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new rl(nl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new rl(nl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new rl(nl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new rl(nl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?gl(this.nanoseconds,t.nanoseconds):gl(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),bl=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new vl(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function wl(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function _l(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function El(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Sl=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&ll(),void 0===n?n=t.length-e:n>t.length-e&&ll(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Ol=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(tl.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new rl(nl.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(Sl),Cl=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Tl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(tl.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return Cl.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new rl(nl.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new rl(nl.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new rl(nl.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new rl(nl.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(Sl),Il=function(){function t(t){this.fields=t,t.sort(Tl.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return ml(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),Al=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return gl(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();Al.EMPTY_BYTE_STRING=new Al("");var xl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function kl(t){if(hl(!!t),"string"==typeof t){var e=0,n=xl.exec(t);if(hl(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:jl(t.seconds),nanos:jl(t.nanos)}}function jl(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Nl(t){return"string"==typeof t?Al.fromBase64String(t):Al.fromUint8Array(t)}function Dl(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Rl(t){var e=t.mapValue.fields.__previous_value__;return Dl(e)?Rl(e):e}function Pl(t){var e=kl(t.mapValue.fields.__local_write_time__.timestampValue);return new vl(e.seconds,e.nanos)}function Ll(t){return null==t}function Vl(t){return 0===t&&1/t==-1/0}function Ml(t){return"number"==typeof t&&Number.isInteger(t)&&!Vl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Fl=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(Ol.fromString(e))},t.fromName=function(e){return new t(Ol.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Ol.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return Ol.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new Ol(e.slice()))},t}();function Ul(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Dl(t)?4:10:ll()}function ql(t,e){var n=Ul(t);if(n!==Ul(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Pl(t).isEqual(Pl(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=kl(t.timestampValue),r=kl(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Nl(t.bytesValue).isEqual(Nl(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return jl(t.geoPointValue.latitude)===jl(e.geoPointValue.latitude)&&jl(t.geoPointValue.longitude)===jl(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return jl(t.integerValue)===jl(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=jl(t.doubleValue),r=jl(e.doubleValue);return n===r?Vl(n)===Vl(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return ml(t.arrayValue.values||[],e.arrayValue.values||[],ql);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(wl(n)!==wl(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ql(n[i],r[i])))return!1;return!0}(t,e);default:return ll()}}function Bl(t,e){return void 0!==(t.values||[]).find(function(t){return ql(t,e)})}function Hl(t,e){var n=Ul(t),r=Ul(e);if(n!==r)return gl(n,r);switch(n){case 0:return 0;case 1:return gl(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=jl(t.integerValue||t.doubleValue),r=jl(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return zl(t.timestampValue,e.timestampValue);case 4:return zl(Pl(t),Pl(e));case 5:return gl(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Nl(t),r=Nl(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=gl(n[i],r[i]);if(0!==o)return o}return gl(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=gl(jl(t.latitude),jl(e.latitude));return 0!==n?n:gl(jl(t.longitude),jl(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Hl(n[i],r[i]);if(o)return o}return gl(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=gl(r[s],o[s]);if(0!==a)return a;var u=Hl(n[r[s]],i[o[s]]);if(0!==u)return u}return gl(r.length,o.length)}(t.mapValue,e.mapValue);default:throw ll()}}function zl(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return gl(t,e);var n=kl(t),r=kl(e),i=gl(n.seconds,r.seconds);return 0!==i?i:gl(n.nanos,r.nanos)}function Kl(t){return Gl(t)}function Gl(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=kl(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Nl(t.bytesValue).toBase64():"referenceValue"in t?Fl.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Gl(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+Gl(t.fields[o])}return e+"}"}(t.mapValue):ll();var e}function Wl(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function $l(t){return!!t&&"integerValue"in t}function Ql(t){return!!t&&"arrayValue"in t}function Yl(t){return!!t&&"nullValue"in t}function Xl(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Zl(t){return!!t&&"mapValue"in t}function Jl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue)return{timestampValue:Object.assign({},kl(t.timestampValue))};if(t.mapValue){var e={mapValue:{fields:{}}};return _l(t.mapValue.fields,function(t,n){return e.mapValue.fields[t]=Jl(n)}),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Jl(t.arrayValue.values[r]);return n}return Object.assign({},t)}var th=function(){function t(t){this.value=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!Zl(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Jl(e)},t.prototype.setAll=function(t){var e=this,n=Tl.emptyPath(),r={},i=[];t.forEach(function(t,o){if(!n.isImmediateParentOf(o)){var s=e.getFieldsMap(n);e.applyChanges(s,r,i),r={},i=[],n=o.popLast()}t?r[o.lastSegment()]=Jl(t):i.push(o.lastSegment())});var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},t.prototype.delete=function(t){var e=this.field(t.popLast());Zl(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},t.prototype.isEqual=function(t){return ql(this.value,t.value)},t.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var r=e.mapValue.fields[t.get(n)];Zl(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields},t.prototype.applyChanges=function(t,e,n){_l(e,function(e,n){return t[e]=n});for(var r=0,i=n;r<i.length;r++)delete t[i[r]]},t.prototype.clone=function(){return new t(Jl(this.value))},t}();function eh(t){var e=[];return _l(t.fields,function(t,n){var r=new Tl([t]);if(Zl(n)){var i=eh(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)}),new Il(e)}var nh=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,bl.min(),th.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,th.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,th.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=th.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=th.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),rh=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};function ih(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new rh(t,e,n,r,i,o,s)}function oh(t){var e=fl(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+Kl(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),Ll(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=vh(e.startAt)),e.endAt&&(n+="|ub:",n+=vh(e.endAt)),e.h=n}return e.h}function sh(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!wh(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!ql(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Eh(t.startAt,e.startAt)&&Eh(t.endAt,e.endAt)}function ah(t){return Fl.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var uh=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(tl.c)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new ch(t,n,r):"array-contains"===n?new dh(t,r):"in"===n?new ph(t,r):"not-in"===n?new gh(t,r):"array-contains-any"===n?new mh(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new lh(t,n):new hh(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(Hl(e,this.value)):null!==e&&Ul(this.value)===Ul(e)&&this.m(Hl(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return ll()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),ch=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Fl.fromName(r.referenceValue),i}return Object(tl.c)(e,t),e.prototype.matches=function(t){var e=Fl.comparator(t.key,this.key);return this.m(e)},e}(uh),lh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=fh(0,n),r}return Object(tl.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(uh),hh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=fh(0,n),r}return Object(tl.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(uh);function fh(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return Fl.fromName(t.referenceValue)})}var dh=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(tl.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return Ql(e)&&Bl(e.arrayValue,this.value)},e}(uh),ph=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(tl.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&Bl(this.value.arrayValue,e)},e}(uh),gh=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(tl.c)(e,t),e.prototype.matches=function(t){if(Bl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!Bl(this.value.arrayValue,e)},e}(uh),mh=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(tl.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!Ql(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return Bl(e.value.arrayValue,t)})},e}(uh),yh=function(t,e){this.position=t,this.before=e};function vh(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return Kl(t)}).join(",")}var bh=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function wh(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function _h(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.isKeyField()?Fl.comparator(Fl.fromName(s.referenceValue),n.key):Hl(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Eh(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!ql(t.position[n],e.position[n]))return!1;return!0}var Sh=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null};function Oh(t,e,n,r,i,o,s,a){return new Sh(t,e,n,r,i,o,s,a)}function Ch(t){return new Sh(t)}function Th(t){return!Ll(t.limit)&&"F"===t.limitType}function Ih(t){return!Ll(t.limit)&&"L"===t.limitType}function Ah(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function xh(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function kh(t){return null!==t.collectionGroup}function jh(t){var e=fl(t);if(null===e.p){e.p=[];var n=xh(e),r=Ah(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new bh(n)),e.p.push(new bh(Tl.keyField(),"asc"));else{for(var i=!1,o=0,s=e.explicitOrderBy;o<s.length;o++){var a=s[o];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new bh(Tl.keyField(),u))}}}return e.p}function Nh(t){var e=fl(t);if(!e.T)if("F"===e.limitType)e.T=ih(e.path,e.collectionGroup,jh(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=jh(e);r<i.length;r++){var o=i[r];n.push(new bh(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new yh(e.endAt.position,!e.endAt.before):null,a=e.startAt?new yh(e.startAt.position,!e.startAt.before):null;e.T=ih(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.T}function Dh(t,e,n){return new Sh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Rh(t,e){return sh(Nh(t),Nh(e))&&t.limitType===e.limitType}function Ph(t){return oh(Nh(t))+"|lt:"+t.limitType}function Lh(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+Kl(e.value);var e}).join(", ")+"]"),Ll(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+vh(t.startAt)),t.endAt&&(e+=", endAt: "+vh(t.endAt)),"Target("+e+")"}(Nh(t))+"; limitType="+t.limitType+")"}function Vh(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):Fl.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!_h(t.startAt,jh(t),e)||t.endAt&&_h(t.endAt,jh(t),e))}(t,e)}function Mh(t){return function(e,n){for(var r=!1,i=0,o=jh(t);i<o.length;i++){var s=o[i],a=Fh(s,e,n);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function Fh(t,e,n){var r=t.field.isKeyField()?Fl.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?Hl(r,i):ll()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ll()}}function Uh(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vl(e)?"-0":e}}function qh(t){return{integerValue:""+t}}function Bh(t,e){return Ml(e)?qh(e):Uh(t,e)}var Hh=function(){this._=void 0};function zh(t,e,n){return t instanceof Wh?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof $h?Qh(t,e):t instanceof Yh?Xh(t,e):function(t,e){var n=Gh(t,e),r=Jh(n)+Jh(t.A);return $l(n)&&$l(t.A)?qh(r):Uh(t.R,r)}(t,e)}function Kh(t,e,n){return t instanceof $h?Qh(t,e):t instanceof Yh?Xh(t,e):n}function Gh(t,e){return t instanceof Zh?$l(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Wh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(tl.c)(e,t),e}(Hh),$h=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(tl.c)(e,t),e}(Hh);function Qh(t,e){for(var n=tf(e),r=function(t){n.some(function(e){return ql(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Yh=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(tl.c)(e,t),e}(Hh);function Xh(t,e){for(var n=tf(e),r=function(t){n=n.filter(function(e){return!ql(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Zh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return Object(tl.c)(e,t),e}(Hh);function Jh(t){return jl(t.integerValue||t.doubleValue)}function tf(t){return Ql(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var ef=function(t,e){this.field=t,this.transform=e},nf=function(t,e){this.version=t,this.transformResults=e},rf=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function of(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var sf=function(){};function af(t,e,n){t instanceof ff?function(t,e,n){var r=t.value.clone(),i=gf(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof df?function(t,e,n){if(of(t.precondition,e)){var r=gf(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(pf(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function uf(t,e,n){t instanceof ff?function(t,e,n){if(of(t.precondition,e)){var r=t.value.clone(),i=mf(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(hf(e),r).setHasLocalMutations()}}(t,e,n):t instanceof df?function(t,e,n){if(of(t.precondition,e)){var r=mf(t.fieldTransforms,n,e),i=e.data;i.setAll(pf(t)),i.setAll(r),e.convertToFoundDocument(hf(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){of(t.precondition,e)&&e.convertToNoDocument(bl.min())}(t,e)}function cf(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e.data.field(o.field),a=Gh(o.transform,s||null);null!=a&&(null==n&&(n=th.empty()),n.set(o.field,a))}return n||null}function lf(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&ml(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof $h&&e instanceof $h||t instanceof Yh&&e instanceof Yh?ml(t.elements,e.elements,ql):t instanceof Zh&&e instanceof Zh?ql(t.A,e.A):t instanceof Wh&&e instanceof Wh}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function hf(t){return t.isFoundDocument()?t.version:bl.min()}var ff=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return Object(tl.c)(e,t),e}(sf),df=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.fieldMask=r,s.precondition=i,s.fieldTransforms=o,s.type=1,s}return Object(tl.c)(e,t),e}(sf);function pf(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function gf(t,e,n){var r=new Map;hl(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Kh(s,a,n[i]))}return r}function mf(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var s=o[i],a=s.transform,u=n.data.field(s.field);r.set(s.field,zh(a,u,e))}return r}var yf,vf,bf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(tl.c)(e,t),e}(sf),wf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(tl.c)(e,t),e}(sf),_f=function(t){this.count=t};function Ef(t){switch(t){case nl.OK:return ll();case nl.CANCELLED:case nl.UNKNOWN:case nl.DEADLINE_EXCEEDED:case nl.RESOURCE_EXHAUSTED:case nl.INTERNAL:case nl.UNAVAILABLE:case nl.UNAUTHENTICATED:return!1;case nl.INVALID_ARGUMENT:case nl.NOT_FOUND:case nl.ALREADY_EXISTS:case nl.PERMISSION_DENIED:case nl.FAILED_PRECONDITION:case nl.ABORTED:case nl.OUT_OF_RANGE:case nl.UNIMPLEMENTED:case nl.DATA_LOSS:return!0;default:return ll()}}function Sf(t){if(void 0===t)return al("GRPC error has no .code"),nl.UNKNOWN;switch(t){case yf.OK:return nl.OK;case yf.CANCELLED:return nl.CANCELLED;case yf.UNKNOWN:return nl.UNKNOWN;case yf.DEADLINE_EXCEEDED:return nl.DEADLINE_EXCEEDED;case yf.RESOURCE_EXHAUSTED:return nl.RESOURCE_EXHAUSTED;case yf.INTERNAL:return nl.INTERNAL;case yf.UNAVAILABLE:return nl.UNAVAILABLE;case yf.UNAUTHENTICATED:return nl.UNAUTHENTICATED;case yf.INVALID_ARGUMENT:return nl.INVALID_ARGUMENT;case yf.NOT_FOUND:return nl.NOT_FOUND;case yf.ALREADY_EXISTS:return nl.ALREADY_EXISTS;case yf.PERMISSION_DENIED:return nl.PERMISSION_DENIED;case yf.FAILED_PRECONDITION:return nl.FAILED_PRECONDITION;case yf.ABORTED:return nl.ABORTED;case yf.OUT_OF_RANGE:return nl.OUT_OF_RANGE;case yf.UNIMPLEMENTED:return nl.UNIMPLEMENTED;case yf.DATA_LOSS:return nl.DATA_LOSS;default:return ll()}}(vf=yf||(yf={}))[vf.OK=0]="OK",vf[vf.CANCELLED=1]="CANCELLED",vf[vf.UNKNOWN=2]="UNKNOWN",vf[vf.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vf[vf.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vf[vf.NOT_FOUND=5]="NOT_FOUND",vf[vf.ALREADY_EXISTS=6]="ALREADY_EXISTS",vf[vf.PERMISSION_DENIED=7]="PERMISSION_DENIED",vf[vf.UNAUTHENTICATED=16]="UNAUTHENTICATED",vf[vf.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vf[vf.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vf[vf.ABORTED=10]="ABORTED",vf[vf.OUT_OF_RANGE=11]="OUT_OF_RANGE",vf[vf.UNIMPLEMENTED=12]="UNIMPLEMENTED",vf[vf.INTERNAL=13]="INTERNAL",vf[vf.UNAVAILABLE=14]="UNAVAILABLE",vf[vf.DATA_LOSS=15]="DATA_LOSS";var Of=function(){function t(t,e){this.comparator=t,this.root=e||Tf.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Tf.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tf.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new Cf(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new Cf(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Cf(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new Cf(this.root,t,this.comparator,!0)},t}(),Cf=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),Tf=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw ll();if(this.right.isRed())throw ll();var t=this.left.check();if(t!==this.right.check())throw ll();return t+(this.isRed()?0:1)},t}();Tf.EMPTY=null,Tf.RED=!0,Tf.BLACK=!1,Tf.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw ll()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw ll()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw ll()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw ll()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw ll()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Tf(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var If=function(){function t(t){this.comparator=t,this.data=new Of(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new Af(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new Af(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Af=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),xf=new Of(Fl.comparator);function kf(){return xf}var jf=new Of(Fl.comparator);function Nf(){return jf}var Df=new Of(Fl.comparator);function Rf(){return Df}var Pf=new If(Fl.comparator);function Lf(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Pf,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Vf=new If(gl);function Mf(){return Vf}var Ff=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,Uf.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(bl.min(),r,Mf(),kf(),Lf())},t}(),Uf=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Al.EMPTY_BYTE_STRING,n,Lf(),Lf(),Lf())},t}(),qf=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},Bf=function(t,e){this.targetId=t,this.V=e},Hf=function(t,e,n,r){void 0===n&&(n=Al.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},zf=function(){function t(){this.S=0,this.D=Wf(),this.C=Al.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.O=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=Lf(),e=Lf(),n=Lf();return this.D.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:ll()}}),new Uf(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=Wf()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),Kf=function(){function t(t){this.W=t,this.G=new Map,this.H=kf(),this.J=Gf(),this.Y=new If(gl)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.tt(r=o[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.O(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.O(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.O(t.resumeToken));break;default:ll()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(t,r){n.st(r)&&e(r)})},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(ah(i))if(0===n){var o=new Fl(i.path);this.tt(e,o,nh.newNoDocument(o,bl.min()))}else hl(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach(function(r,i){var o=e.ot(i);if(o){if(r.current&&ah(o.target)){var s=new Fl(o.target.path);null!==e.H.get(s)||e.at(i,s)||e.tt(i,s,nh.newNoDocument(s,t))}r.$&&(n.set(i,r.M()),r.L())}});var r=Lf();this.J.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new Ff(t,n,this.Y,this.H,r);return this.H=kf(),this.J=Gf(),this.Y=new If(gl),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new zf,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new If(gl),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||sl("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new zf),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function Gf(){return new Of(Fl.comparator)}function Wf(){return new Of(Fl.comparator)}var $f={asc:"ASCENDING",desc:"DESCENDING"},Qf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Yf=function(t,e){this.databaseId=t,this.I=e};function Xf(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Zf(t,e){return t.I?e.toBase64():e.toUint8Array()}function Jf(t,e){return Xf(t,e.toTimestamp())}function td(t){return hl(!!t),bl.fromTimestamp(function(t){var e=kl(t);return new vl(e.seconds,e.nanos)}(t))}function ed(t,e){return function(t){return new Ol(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function nd(t){var e=Ol.fromString(t);return hl(Td(e)),e}function rd(t,e){return ed(t.databaseId,e.path)}function id(t,e){var n=nd(e);if(n.get(1)!==t.databaseId.projectId)throw new rl(nl.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new rl(nl.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Fl(ud(n))}function od(t,e){return ed(t.databaseId,e)}function sd(t){var e=nd(t);return 4===e.length?Ol.emptyPath():ud(e)}function ad(t){return new Ol(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ud(t){return hl(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function cd(t,e,n){return{name:rd(t,e),fields:n.value.mapValue.fields}}function ld(t,e,n){var r=id(t,e.name),i=td(e.updateTime),o=new th({mapValue:{fields:e.fields}}),s=nh.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function hd(t,e){var n;if(e instanceof ff)n={update:cd(t,e.key,e.value)};else if(e instanceof bf)n={delete:rd(t,e.key)};else if(e instanceof df)n={update:cd(t,e.key,e.data),updateMask:Cd(e.fieldMask)};else{if(!(e instanceof wf))return ll();n={verify:rd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof Wh)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof $h)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Yh)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Zh)return{fieldPath:e.field.canonicalString(),increment:n.A};throw ll()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Jf(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:ll()}(t,e.precondition)),n}function fd(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?rf.updateTime(td(t.updateTime)):void 0!==t.exists?rf.exists(t.exists):rf.none()}(e.currentDocument):rf.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(hl("REQUEST_TIME"===e.setToServerValue),n=new Wh):"appendMissingElements"in e?n=new $h(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Yh(e.removeAllFromArray.values||[]):"increment"in e?n=new Zh(t,e.increment):ll();var r=Tl.fromServerFormat(e.fieldPath);return new ef(r,n)}(t,e)}):[];if(e.update){var i=id(t,e.update.name),o=new th({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new Il((t.fieldPaths||[]).map(function(t){return Tl.fromServerFormat(t)}))}(e.updateMask);return new df(i,o,s,n,r)}return new ff(i,o,n,r)}if(e.delete){var a=id(t,e.delete);return new bf(a,n)}if(e.verify){var u=id(t,e.verify);return new wf(u,n)}return ll()}function dd(t,e){return{documents:[od(t,e.path)]}}function pd(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=od(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=od(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(Xl(t.value))return{unaryFilter:{field:_d(t.field),op:"IS_NAN"}};if(Yl(t.value))return{unaryFilter:{field:_d(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Xl(t.value))return{unaryFilter:{field:_d(t.field),op:"IS_NOT_NAN"}};if(Yl(t.value))return{unaryFilter:{field:_d(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_d(t.field),op:wd(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:_d(t.field),direction:bd(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.I||Ll(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=yd(e.startAt)),e.endAt&&(n.structuredQuery.endAt=yd(e.endAt)),n}function gd(t){var e=sd(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){hl(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=md(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new bh(Ed(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return Ll(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=vd(n.startAt));var l=null;return n.endAt&&(l=vd(n.endAt)),Oh(e,i,a,s,u,"F",c,l)}function md(t){return t?void 0!==t.unaryFilter?[Od(t)]:void 0!==t.fieldFilter?[Sd(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return md(t)}).reduce(function(t,e){return t.concat(e)}):ll():[]}function yd(t){return{before:t.before,values:t.position}}function vd(t){return new yh(t.values||[],!!t.before)}function bd(t){return $f[t]}function wd(t){return Qf[t]}function _d(t){return{fieldPath:t.canonicalString()}}function Ed(t){return Tl.fromServerFormat(t.fieldPath)}function Sd(t){return uh.create(Ed(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return ll()}}(t.fieldFilter.op),t.fieldFilter.value)}function Od(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Ed(t.unaryFilter.field);return uh.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Ed(t.unaryFilter.field);return uh.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Ed(t.unaryFilter.field);return uh.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Ed(t.unaryFilter.field);return uh.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return ll()}}function Cd(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function Td(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Id(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=xd(e)),e=Ad(t.get(n),e);return xd(e)}function Ad(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function xd(t){return t+"\x01\x01"}function kd(t){var e=t.length;if(hl(e>=2),2===e)return hl("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Ol.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&ll(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:ll()}o=s+2}return new Ol(r)}var jd=function(t,e){this.seconds=t,this.nanoseconds=e},Nd=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Nd.store="owner",Nd.key="owner";var Dd=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Dd.store="mutationQueues",Dd.keyPath="userId";var Rd=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Rd.store="mutations",Rd.keyPath="batchId",Rd.userMutationsIndex="userMutationsIndex",Rd.userMutationsKeyPath=["userId","batchId"];var Pd=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Id(e)]},t.key=function(t,e,n){return[t,Id(e),n]},t}();Pd.store="documentMutations",Pd.PLACEHOLDER=new Pd;var Ld=function(t,e){this.path=t,this.readTime=e},Vd=function(t,e){this.path=t,this.version=e},Md=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Md.store="remoteDocuments",Md.readTimeIndex="readTimeIndex",Md.readTimeIndexPath="readTime",Md.collectionReadTimeIndex="collectionReadTimeIndex",Md.collectionReadTimeIndexPath=["parentPath","readTime"];var Fd=function(t){this.byteSize=t};Fd.store="remoteDocumentGlobal",Fd.key="remoteDocumentGlobalKey";var Ud=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};Ud.store="targets",Ud.keyPath="targetId",Ud.queryTargetsIndexName="queryTargetsIndex",Ud.queryTargetsKeyPath=["canonicalId","targetId"];var qd=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};qd.store="targetDocuments",qd.keyPath=["targetId","path"],qd.documentTargetsIndex="documentTargetsIndex",qd.documentTargetsKeyPath=["path","targetId"];var Bd=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Bd.key="targetGlobalKey",Bd.store="targetGlobal";var Hd=function(t,e){this.collectionId=t,this.parent=e};Hd.store="collectionParents",Hd.keyPath=["collectionId","parent"];var zd=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};zd.store="clientMetadata",zd.keyPath="clientId";var Kd=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Kd.store="bundles",Kd.keyPath="bundleId";var Gd=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Gd.store="namedQueries",Gd.keyPath="name";var Wd=Object(tl.f)(Object(tl.f)([],Object(tl.f)(Object(tl.f)([],Object(tl.f)(Object(tl.f)([],Object(tl.f)(Object(tl.f)([],[Dd.store,Rd.store,Pd.store,Md.store,Ud.store,Nd.store,Bd.store,qd.store]),[zd.store])),[Fd.store])),[Hd.store])),[Kd.store,Gd.store]),$d="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Qd=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),Yd=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},Xd=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&ll(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),Zd=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new Yd,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new ep(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=sp(e.target.error);n.ft.reject(new ep(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new ep(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(sl("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new rp(e)},t}(),Jd=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Object(zo.i)())&&al("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return sl("SimpleDb","Removing database:",t),ip(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Object(zo.i)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return Object(tl.b)(this,void 0,void 0,function(){var e,n=this;return Object(tl.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(sl("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new ep(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new rl(nl.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new ep(t,n))},i.onupgradeneeded=function(t){sl("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){sl("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(tl.b)(this,void 0,void 0,function(){var i,o,s,a,u;return Object(tl.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return Object(tl.d)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=Zd.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch(function(t){return e.abort(t),Xd.reject(t)}).toPromise(),u={},s.catch(function(){}),[4,e.dt];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return sl("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),tp=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return ip(this.Pt.delete())},t}(),ep=function(t){function e(e,n){var r=this;return(r=t.call(this,nl.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(tl.c)(e,t),e}(rl);function np(t){return"IndexedDbTransactionError"===t.name}var rp=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(sl("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(sl("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),ip(n)},t.prototype.add=function(t){return sl("SimpleDb","ADD",this.store.name,t,t),ip(this.store.add(t))},t.prototype.get=function(t){var e=this;return ip(this.store.get(t)).next(function(n){return void 0===n&&(n=null),sl("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return sl("SimpleDb","DELETE",this.store.name,t),ip(this.store.delete(t))},t.prototype.count=function(){return sl("SimpleDb","COUNT",this.store.name),ip(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.Ft=function(t,e){sl("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,function(t,e,n){return n.delete()})},t.prototype.$t=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.Ot=function(t){var e=this.cursor({});return new Xd(function(n,r){e.onerror=function(t){var e=sp(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.xt=function(t,e){var n=[];return new Xd(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new tp(i),s=e(i.primaryKey,i.value,o);if(s instanceof Xd){var a=s.catch(function(t){return o.done(),Xd.reject(t)});n.push(a)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}}).next(function(){return Xd.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function ip(t){return new Xd(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=sp(t.target.error);n(e)}})}var op=!1;function sp(t){var e=Jd._t(Object(zo.i)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new rl("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return op||(op=!0,setTimeout(function(){throw r},0)),r}}return t}var ap=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return Object(tl.c)(e,t),e}(Qd);function up(t,e){var n=fl(t);return Jd.It(n.Mt,e)}var cp=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&af(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&uf(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&uf(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(bl.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Lf())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&ml(this.mutations,t.mutations,function(t,e){return lf(t,e)})&&ml(this.baseMutations,t.baseMutations,function(t,e){return lf(t,e)})},t}(),lp=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){hl(e.mutations.length===r.length);for(var i=Rf(),o=e.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),hp=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=bl.min()),void 0===o&&(o=bl.min()),void 0===s&&(s=Al.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),fp=function(t){this.Lt=t};function dp(t,e){if(e.document)return ld(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Fl.fromSegments(e.noDocument.path),r=vp(e.noDocument.readTime),i=nh.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=Fl.fromSegments(e.unknownDocument.path);return r=vp(e.unknownDocument.version),nh.newUnknownDocument(o,r)}return ll()}function pp(t,e,n){var r=gp(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:rd(t,e.key),fields:e.data.value.mapValue.fields,updateTime:Xf(t,e.version.toTimestamp())}}(t.Lt,e),s=e.hasCommittedMutations;return new Md(null,null,o,s,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),u=yp(e.version);return s=e.hasCommittedMutations,new Md(null,new Ld(a,u),null,s,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=yp(e.version);return new Md(new Vd(c,l),null,null,!0,r,i)}return ll()}function gp(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function mp(t){var e=new vl(t[0],t[1]);return bl.fromTimestamp(e)}function yp(t){var e=t.toTimestamp();return new jd(e.seconds,e.nanoseconds)}function vp(t){var e=new vl(t.seconds,t.nanoseconds);return bl.fromTimestamp(e)}function bp(t,e){for(var n=(e.baseMutations||[]).map(function(e){return fd(t.Lt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return fd(t.Lt,e)}),o=vl.fromMillis(e.localWriteTimeMs);return new cp(e.batchId,o,n,i)}function wp(t){var e,n,r=vp(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?vp(t.lastLimboFreeSnapshotVersion):bl.min();return void 0!==t.query.documents?(hl(1===(n=t.query).documents.length),e=Nh(Ch(sd(n.documents[0])))):e=function(t){return Nh(gd(t))}(t.query),new hp(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Al.fromBase64String(t.resumeToken))}function _p(t,e){var n,r=yp(e.snapshotVersion),i=yp(e.lastLimboFreeSnapshotVersion);n=ah(e.target)?dd(t.Lt,e.target):pd(t.Lt,e.target);var o=e.resumeToken.toBase64();return new Ud(e.targetId,oh(e.target),r,o,e.sequenceNumber,i,n)}function Ep(t){var e=gd({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Dh(e,e.limit,"L"):e}var Sp=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return Op(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:vp(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return Op(t).put({bundleId:(n=e).id,createTime:yp(td(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return Cp(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:Ep(e.bundledQuery),readTime:vp(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return Cp(t).put(function(t){return{name:t.name,readTime:yp(td(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Op(t){return up(t,Kd.store)}function Cp(t){return up(t,Gd.store)}var Tp=function(){function t(){this.Bt=new Ip}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),Xd.resolve()},t.prototype.getCollectionParents=function(t,e){return Xd.resolve(this.Bt.getEntries(e))},t}(),Ip=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new If(Ol.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new If(Ol.comparator)).toArray()},t}(),Ap=function(){function t(){this.qt=new Ip}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});var o={collectionId:r,parent:Id(i)};return xp(t).put(o)}return Xd.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[yl(e),""],!1,!0);return xp(t).Nt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(kd(o.parent))}return n})},t}();function xp(t){return up(t,Hd.store)}var kp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},jp=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function Np(t,e,n){var r=t.store(Rd.store),i=t.store(Pd.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.$t({range:s},function(t,e,n){return a++,n.delete()});o.push(u.next(function(){hl(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=Pd.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return Xd.waitFor(o).next(function(){return c})}function Dp(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ll();e=t.noDocument}return JSON.stringify(e).length}jp.DEFAULT_COLLECTION_PERCENTILE=10,jp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jp.DEFAULT=new jp(41943040,jp.DEFAULT_COLLECTION_PERCENTILE,jp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jp.DISABLED=new jp(-1,0,0);var Rp=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return t.Kt=function(e,n,r,i){return hl(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Lp(t).$t({index:Rd.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=Vp(t),s=Lp(t);return s.add({}).next(function(a){hl("number"==typeof a);for(var u=new cp(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return hd(t.Lt,e)}),i=n.mutations.map(function(e){return hd(t.Lt,e)});return new Rd(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new If(function(t,e){return gl(t.canonicalString(),e.canonicalString())}),f=0,d=r;f<d.length;f++){var p=d[f],g=Pd.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(s.put(c)),l.push(o.put(g,Pd.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.Qt[a]=u.keys()}),Xd.waitFor(l).next(function(){return u})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Lp(t).get(e).next(function(t){return t?(hl(t.userId===n.userId),bp(n.R,t)):null})},t.prototype.jt=function(t,e){var n=this;return this.Qt[e]?Xd.resolve(this.Qt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.Qt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Lp(t).$t({index:Rd.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(hl(e.batchId>=r),o=bp(n.R,e)),i.done()}).next(function(){return o})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Lp(t).$t({index:Rd.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Lp(t).Nt(Rd.userMutationsIndex,n).next(function(t){return t.map(function(t){return bp(e.R,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=Pd.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Vp(t).$t({range:i},function(r,i,s){var a=r[0],u=r[2],c=kd(r[1]);if(a===n.userId&&e.path.isEqual(c))return Lp(t).get(u).next(function(t){if(!t)throw ll();hl(t.userId===n.userId),o.push(bp(n.R,t))});s.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new If(gl),i=[];return e.forEach(function(e){var o=Pd.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=Vp(t).$t({range:s},function(t,i,o){var s=t[0],a=t[2],u=kd(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()});i.push(a)}),Xd.waitFor(i).next(function(){return n.Wt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=Pd.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new If(gl);return Vp(t).$t({range:s},function(t,e,o){var s=t[0],u=t[2],c=kd(t[1]);s===n.userId&&r.isPrefixOf(c)?c.length===i&&(a=a.add(u)):o.done()}).next(function(){return n.Wt(t,a)})},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(Lp(t).get(e).next(function(t){if(null===t)throw ll();hl(t.userId===n.userId),r.push(bp(n.R,t))}))}),Xd.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return Np(t.Mt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),Xd.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Gt=function(t){delete this.Qt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return Xd.resolve();var r=IDBKeyRange.lowerBound(Pd.prefixForUser(e.userId)),i=[];return Vp(t).$t({range:r},function(t,n,r){if(t[0]===e.userId){var o=kd(t[1]);i.push(o)}else r.done()}).next(function(){hl(0===i.length)})})},t.prototype.containsKey=function(t,e){return Pp(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return Mp(t).get(this.userId).next(function(t){return t||new Dd(e.userId,-1,"")})},t}();function Pp(t,e,n){var r=Pd.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Vp(t).$t({range:o,kt:!0},function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()}).next(function(){return s})}function Lp(t){return up(t,Rd.store)}function Vp(t){return up(t,Pd.store)}function Mp(t){return up(t,Dd.store)}var Fp=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),Up=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var r=new Fp(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return bl.fromTimestamp(new vl(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return qp(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return hl(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return qp(t).$t(function(s,a){var u=wp(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))}).next(function(){return Xd.waitFor(o)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return qp(t).$t(function(t,n){var r=wp(n);e(r)})},t.prototype.Xt=function(t){return Bp(t).get(Bd.key).next(function(t){return hl(null!==t),t})},t.prototype.Zt=function(t,e){return Bp(t).put(Bd.key,e)},t.prototype.te=function(t,e){return qp(t).put(_p(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=oh(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return qp(t).$t({range:r,index:Ud.queryTargetsIndexName},function(t,n,r){var o=wp(n);sh(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=Hp(t);return e.forEach(function(e){var s=Id(e.path);i.push(o.put(new qd(n,s))),i.push(r.referenceDelegate.addReference(t,n,e))}),Xd.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=Hp(t);return Xd.forEach(e,function(e){var o=Id(e.path);return Xd.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=Hp(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Hp(t),i=Lf();return r.$t({range:n,kt:!0},function(t,e,n){var r=kd(t[1]),o=new Fl(r);i=i.add(o)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=Id(e.path),r=IDBKeyRange.bound([n],[yl(n)],!1,!0),i=0;return Hp(t).$t({index:qd.documentTargetsIndex,kt:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.lt=function(t,e){return qp(t).get(e).next(function(t){return t?wp(t):null})},t}();function qp(t){return up(t,Ud.store)}function Bp(t){return up(t,Bd.store)}function Hp(t){return up(t,qd.store)}function zp(t){return Object(tl.b)(this,void 0,void 0,function(){return Object(tl.d)(this,function(e){if(t.code!==nl.FAILED_PRECONDITION||t.message!==$d)throw t;return sl("LocalStore","Unexpectedly lost primary lease"),[2]})})}function Kp(t,e){var n=t[1],r=e[1],i=gl(t[0],e[0]);return 0===i?gl(n,r):i}var Gp=function(){function t(t){this.ne=t,this.buffer=new If(Kp),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Kp(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Wp=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;sl("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return Object(tl.b)(e,void 0,void 0,function(){var e;return Object(tl.d)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return np(e=n.sent())?(sl("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,zp(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}})})})},t}(),$p=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Xd.resolve(el.o);var r=new Gp(e);return this.ae.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ae.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(sl("LruGarbageCollector","Garbage collection skipped; disabled"),Xd.resolve(kp)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(sl("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),kp):n.fe(t,e)})},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>c.params.maximumSequenceNumbersToCollect?(sl("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)}).next(function(r){return n=r,s=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return u=Date.now(),ol()<=Ko.a.DEBUG&&sl("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),Xd.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),Qp=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new $p(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return Yp(t,n)},t.prototype.removeReference=function(t,e,n){return Yp(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return Yp(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return Mp(t).Ot(function(r){return Pp(t,r,e).next(function(t){return t&&(n=!0),Xd.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,function(s,a){if(a<=e){var u=n._e(t,s).next(function(e){if(!e)return o++,r.getEntry(t,s).next(function(){return r.removeEntry(s),Hp(t).delete([0,Id(s.path)])})});i.push(u)}}).next(function(){return Xd.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return Yp(t,e)},t.prototype.we=function(t,e){var n,r=Hp(t),i=el.o;return r.$t({index:qd.documentTargetsIndex},function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==el.o&&e(new Fl(kd(n)),i),i=s,n=o):i=el.o}).next(function(){i!==el.o&&e(new Fl(kd(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function Yp(t,e){return Hp(t).put(function(t,e){return new qd(0,Id(t.path),e)}(e,t.currentSequenceNumber))}var Xp=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.equalsFn(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){_l(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.isEmpty=function(){return El(this.inner)},t}(),Zp=function(){function t(){this.changes=new Xp(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:bl.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:nh.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?Xd.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),Jp=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return ng(t).put(rg(e),n)},t.prototype.removeEntry=function(t,e){var n=ng(t),r=rg(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.me(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return ng(t).get(rg(e)).next(function(t){return n.ye(e,t)})},t.prototype.ge=function(t,e){var n=this;return ng(t).get(rg(e)).next(function(t){return{document:n.ye(e,t),size:Dp(t)}})},t.prototype.getEntries=function(t,e){var n=this,r=kf();return this.pe(t,e,function(t,e){var i=n.ye(t,e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.Ee=function(t,e){var n=this,r=kf(),i=new Of(Fl.comparator);return this.pe(t,e,function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,Dp(e))}).next(function(){return{documents:r,Te:i}})},t.prototype.pe=function(t,e,n){if(e.isEmpty())return Xd.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return ng(t).$t({range:r},function(t,e,r){for(var s=Fl.fromSegments(t);o&&Fl.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=kf(),o=e.path.length+1,s={};if(n.isEqual(bl.min())){var a=e.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=gp(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=Md.collectionReadTimeIndex}return ng(t).$t(s,function(t,n,s){if(t.length===o){var a=dp(r.R,n);e.path.isPrefixOf(a.key.path)?Vh(e,a)&&(i=i.insert(a.key,a)):s.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new tg(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return eg(t).get(Fd.key).next(function(t){return hl(!!t),t})},t.prototype.me=function(t,e){return eg(t).put(Fd.key,e)},t.prototype.ye=function(t,e){if(e){var n=dp(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(bl.min()))return n}return nh.newInvalidDocument(t)},t}(),tg=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new Xp(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(tl.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new If(function(t,e){return gl(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(o,s){var a=e.Ae.get(o);if(s.document.isValidDocument()){var u=pp(e.Ie.R,s.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=Dp(u);r+=c-a,n.push(e.Ie.addEntry(t,o,u))}else if(r-=a,e.trackRemovals){var l=pp(e.Ie.R,nh.newNoDocument(o,bl.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))}),i.forEach(function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))}),n.push(this.Ie.updateMetadata(t,r)),Xd.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},e}(Zp);function eg(t){return up(t,Fd.store)}function ng(t){return up(t,Md.store)}function rg(t){return t.path.toArray()}var ig=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;hl(n<r&&n>=0&&r<=11);var o=new Zd("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Nd.store)}(t),function(t){t.createObjectStore(Dd.store,{keyPath:Dd.keyPath}),t.createObjectStore(Rd.store,{keyPath:Rd.keyPath,autoIncrement:!0}).createIndex(Rd.userMutationsIndex,Rd.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Pd.store)}(t),og(t),function(t){t.createObjectStore(Md.store)}(t));var s=Xd.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(qd.store),t.deleteObjectStore(Ud.store),t.deleteObjectStore(Bd.store)}(t),og(t)),s=s.next(function(){return function(t){var e=t.store(Bd.store),n=new Bd(0,0,bl.min().toTimestamp(),0);return e.put(Bd.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store(Rd.store).Nt().next(function(n){t.deleteObjectStore(Rd.store),t.createObjectStore(Rd.store,{keyPath:Rd.keyPath,autoIncrement:!0}).createIndex(Rd.userMutationsIndex,Rd.userMutationsKeyPath,{unique:!0});var r=e.store(Rd.store),i=n.map(function(t){return r.put(t)});return Xd.waitFor(i)})}(t,o)})),s=s.next(function(){!function(t){t.createObjectStore(zd.store,{keyPath:zd.keyPath})}(t)})),n<5&&r>=5&&(s=s.next(function(){return i.Re(o)})),n<6&&r>=6&&(s=s.next(function(){return function(t){t.createObjectStore(Fd.store)}(t),i.be(o)})),n<7&&r>=7&&(s=s.next(function(){return i.ve(o)})),n<8&&r>=8&&(s=s.next(function(){return i.Pe(t,o)})),n<9&&r>=9&&(s=s.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Md.store);e.createIndex(Md.readTimeIndex,Md.readTimeIndexPath,{unique:!1}),e.createIndex(Md.collectionReadTimeIndex,Md.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(s=s.next(function(){return i.Ve(o)})),n<11&&r>=11&&(s=s.next(function(){!function(t){t.createObjectStore(Kd.store,{keyPath:Kd.keyPath})}(t),function(t){t.createObjectStore(Gd.store,{keyPath:Gd.keyPath})}(t)})),s},t.prototype.be=function(t){var e=0;return t.store(Md.store).$t(function(t,n){e+=Dp(n)}).next(function(){var n=new Fd(e);return t.store(Fd.store).put(Fd.key,n)})},t.prototype.Re=function(t){var e=this,n=t.store(Dd.store),r=t.store(Rd.store);return n.Nt().next(function(n){return Xd.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Rd.userMutationsIndex,i).next(function(r){return Xd.forEach(r,function(r){hl(r.userId===n.userId);var i=bp(e.R,r);return Np(t,n.userId,i).next(function(){})})})})})},t.prototype.ve=function(t){var e=t.store(qd.store),n=t.store(Md.store);return t.store(Bd.store).get(Bd.key).next(function(t){var r=[];return n.$t(function(n,i){var o=new Ol(n),s=function(t){return[0,Id(t)]}(o);r.push(e.get(s).next(function(n){return n?Xd.resolve():function(n){return e.put(new qd(0,Id(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return Xd.waitFor(r)})})},t.prototype.Pe=function(t,e){t.createObjectStore(Hd.store,{keyPath:Hd.keyPath});var n=e.store(Hd.store),r=new Ip,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:Id(i)})}};return e.store(Md.store).$t({kt:!0},function(t,e){var n=new Ol(t);return i(n.popLast())}).next(function(){return e.store(Pd.store).$t({kt:!0},function(t,e){var n=kd(t[1]);return i(n.popLast())})})},t.prototype.Ve=function(t){var e=this,n=t.store(Ud.store);return n.$t(function(t,r){var i=wp(r),o=_p(e.R,i);return n.put(o)})},t}();function og(t){t.createObjectStore(qd.store,{keyPath:qd.keyPath}).createIndex(qd.documentTargetsIndex,qd.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Ud.store,{keyPath:Ud.keyPath}).createIndex(Ud.queryTargetsIndexName,Ud.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Bd.store)}var sg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",ag=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=s,this.document=a,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new rl(nl.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Qp(this,i),this.Le=n+"main",this.R=new fp(u),this.Be=new Jd(this.Le,11,new ig(this.R)),this.qe=new Up(this.referenceDelegate,this.R),this.Ut=new Ap,this.Ue=function(t,e){return new Jp(t,e)}(this.R,this.Ut),this.Qe=new Sp,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===l&&al("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new rl(nl.FAILED_PRECONDITION,sg);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new el(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},t.prototype.He=function(t){var e=this;return this.Me=function(n){return Object(tl.b)(e,void 0,void 0,function(){return Object(tl.d)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return Object(tl.b)(e,void 0,void 0,function(){return Object(tl.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return Object(tl.b)(e,void 0,void 0,function(){return Object(tl.d)(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return cg(e).put(new zd(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(np(e))return sl("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return sl("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},t.prototype.Je=function(t){var e=this;return ug(t).get(Nd.key).next(function(t){return Xd.resolve(e.tn(t))})},t.prototype.en=function(t){return cg(t).delete(this.clientId)},t.prototype.nn=function(){return Object(tl.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(tl.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=up(t,zd.store);return e.Nt().next(function(t){var n=r.rn(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return Xd.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Ke)for(e=0,n=t;e<n.length;e++)this.Ke.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?Xd.resolve(!0):ug(t).get(Nd.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new rl(nl.FAILED_PRECONDITION,sg);return!1}}return!(!e.networkEnabled||!e.inForeground)||cg(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&sl("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return Object(tl.b)(this,void 0,void 0,function(){var t=this;return Object(tl.d)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Nd.store,zd.store],function(e){var n=new ap(e,el.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return cg(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return Rp.Kt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r,i=this;return sl("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",Wd,function(o){return r=new ap(o,i.Ne?i.Ne.next():el.o),"readwrite-primary"===e?i.Je(r).next(function(t){return!!t||i.Ye(r)}).next(function(e){if(!e)throw al("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new rl(nl.FAILED_PRECONDITION,$d);return n(r)}).next(function(t){return i.Ze(r).next(function(){return t})}):i.dn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.dn=function(t){var e=this;return ug(t).get(Nd.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new rl(nl.FAILED_PRECONDITION,sg)})},t.prototype.Ze=function(t){var e=new Nd(this.clientId,this.allowTabSynchronization,Date.now());return ug(t).put(Nd.key,e)},t.yt=function(){return Jd.yt()},t.prototype.Xe=function(t){var e=this,n=ug(t);return n.get(Nd.key).next(function(t){return e.tn(t)?(sl("IndexedDbPersistence","Releasing primary lease."),n.delete(Nd.key)):Xd.resolve()})},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(al("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("pagehide",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Ke)||void 0===e?void 0:e.getItem(this.on(t)));return sl("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return al("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){al("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function ug(t){return up(t,Nd.store)}function cg(t){return up(t,zd.store)}function lg(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var hg=function(t,e){this.progress=t,this.wn=e},fg=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.yn(t,e,r)})},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t})},t.prototype.gn=function(t,e){t.forEach(function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)})},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return Fl.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):kh(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new Fl(e)).next(function(t){var e=Nf();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=Nf();return this.Ut.getCollectionParents(t,i).next(function(s){return Xd.forEach(s,function(s){var a=function(t,e){return new Sh(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.An(t,a,n).next(function(t){t.forEach(function(t,e){o=o.insert(t,e)})})}).next(function(){return o})})},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return o.Rn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c);null==l&&(l=nh.newInvalidDocument(c),r=r.insert(c,l)),uf(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}})}).next(function(){return r.forEach(function(t,n){Vh(e,n)||(r=r.remove(t))}),r})},t.prototype.Rn=function(t,e,n){for(var r=Lf(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof df&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))}),c})},t}(),dg=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=Lf(),i=Lf(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),pg=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(bl.min())?this.Dn(t,e):this.Sn.pn(t,r).next(function(o){var s=i.Cn(e,o);return(Th(e)||Ih(e))&&i.Nn(e.limitType,s,r,n)?i.Dn(t,e):(ol()<=Ko.a.DEBUG&&sl("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Lh(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return s.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.Cn=function(t,e){var n=new If(Mh(t));return e.forEach(function(e,r){Vh(t,r)&&(n=n.add(r))}),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return ol()<=Ko.a.DEBUG&&sl("QueryEngine","Using full collection scan to execute query:",Lh(e)),this.Sn.getDocumentsMatchingQuery(t,e,bl.min())},t}(),gg=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new Of(gl),this.kn=new Xp(function(t){return oh(t)},sh),this.$n=bl.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new fg(this.On,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.Fn)})},t}();function mg(t,e,n,r){return new gg(t,e,n,r)}function yg(t,e){return Object(tl.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(tl.d)(this,function(s){switch(s.label){case 0:return n=fl(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n._n.getAllMutationBatches(t).next(function(s){return o=s,r=n.persistence.getMutationQueue(e),i=new fg(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],s=Lf(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)s=s.add(m[g].key)}return i.pn(t,s).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return o=s.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}})})}function vg(t,e){var n=fl(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=Xd.resolve();return o.forEach(function(t){s=s.next(function(){return r.getEntry(e,t)}).next(function(e){var o=n.docVersions.get(t);hl(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))})}),s.next(function(){return t._n.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}function bg(t){var e=fl(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function wg(t,e){var n=fl(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.Fn;var s=[];e.targetChanges.forEach(function(e,o){var a=i.get(o);if(a){s.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next(function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)}));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=a.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return hl(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,e)&&s.push(n.qe.updateTargetData(t,c))}}});var a=kf();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),s.push(_g(t,o,e.documentUpdates,r,void 0).next(function(t){a=t})),!r.isEqual(bl.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next(function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)});s.push(u)}return Xd.waitFor(s).next(function(){return o.apply(t)}).next(function(){return n.Mn.En(t,a)}).next(function(){return a})}).then(function(t){return n.Fn=i,t})}function _g(t,e,n,r,i){var o=Lf();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=kf();return n.forEach(function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual(bl.min())?(e.removeEntry(n,u),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(s,u),o=o.insert(n,s)):sl("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),o})}function Eg(t,e){var n=fl(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)})}function Sg(t,e){var n=fl(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.qe.getTargetData(t,e).next(function(i){return i?Xd.resolve(r=i):n.qe.allocateTargetId(t).next(function(i){return r=new hp(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t})}function Og(t,e,n){return Object(tl.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(tl.d)(this,function(a){switch(a.label){case 0:r=fl(t),i=r.Fn.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!np(s=a.sent()))throw s;return sl("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}})})}function Cg(t,e,n){var r=fl(t),i=bl.min(),o=Lf();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=fl(t),i=r.kn.get(n);return void 0!==i?Xd.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,Nh(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next(function(t){o=t})}).next(function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:bl.min(),n?o:Lf())}).next(function(t){return{documents:t,Bn:o}})})}function Tg(t,e){var n=fl(t),r=fl(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.lt(t,e).next(function(t){return t?t.target:null})})}function Ig(t){var e=fl(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=fl(t),i=kf(),o=gp(n),s=ng(e),a=IDBKeyRange.lowerBound(o,!0);return s.$t({index:Md.readTimeIndex,range:a},function(t,e){var n=dp(r.R,e);i=i.insert(n.key,n),o=e.readTime}).next(function(){return{wn:i,readTime:mp(o)}})}(e.On,t,e.$n)}).then(function(t){var n=t.wn;return e.$n=t.readTime,n})}function Ag(t){return Object(tl.b)(this,void 0,void 0,function(){var e;return Object(tl.d)(this,function(n){return[2,(e=fl(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=ng(t),n=bl.min();return e.$t({index:Md.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=mp(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.$n=t})]})})}function xg(t,e,n,r){return Object(tl.b)(this,void 0,void 0,function(){var i,o,s,a,u,c,l,h,f,d;return Object(tl.d)(this,function(p){switch(p.label){case 0:for(i=fl(t),o=Lf(),s=kf(),a=Rf(),u=0,c=n;u<c.length;u++)h=e.qn((l=c[u]).metadata.name),l.document&&(o=o.add(h)),s=s.insert(h,e.Un(l)),a=a.insert(h,e.Qn(l.metadata.readTime));return f=i.On.newChangeBuffer({trackRemovals:!0}),[4,Sg(i,function(t){return Nh(Ch(Ol.fromString("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return _g(t,f,s,bl.min(),a).next(function(e){return f.apply(t),e}).next(function(e){return i.qe.removeMatchingKeysForTargetId(t,d.targetId).next(function(){return i.qe.addMatchingKeys(t,o,d.targetId)}).next(function(){return i.Mn.En(t,e)}).next(function(){return e})})})]}})})}function kg(t,e,n){return void 0===n&&(n=Lf()),Object(tl.b)(this,void 0,void 0,function(){var r,i;return Object(tl.d)(this,function(o){switch(o.label){case 0:return[4,Sg(t,Nh(Ep(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=fl(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=td(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Qe.saveNamedQuery(t,e);var s=r.withResumeToken(Al.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(s.targetId,s),i.qe.updateTargetData(t,s).next(function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.qe.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.Qe.saveNamedQuery(t,e)})})]}})})}var jg=function(){function t(t){this.R=t,this.Kn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return Xd.resolve(this.Kn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Kn.set(e.id,{id:(n=e).id,version:n.version,createTime:td(n.createTime)}),Xd.resolve()},t.prototype.getNamedQuery=function(t,e){return Xd.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:Ep(t.bundledQuery),readTime:td(t.readTime)}}(e)),Xd.resolve()},t}(),Ng=function(){function t(){this.Wn=new If(Dg.Gn),this.zn=new If(Dg.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new Dg(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.Yn(new Dg(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.Zn=function(t){var e=this,n=new Fl(new Ol([])),r=new Dg(n,t),i=new Dg(n,t+1),o=[];return this.zn.forEachInRange([r,i],function(t){e.Yn(t),o.push(t.key)}),o},t.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new Fl(new Ol([])),n=new Dg(e,t),r=new Dg(e,t+1),i=Lf();return this.zn.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new Dg(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Dg=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return Fl.comparator(t.key,e.key)||gl(t.ns,e.ns)},t.Hn=function(t,e){return gl(t.ns,e.ns)||Fl.comparator(t.key,e.key)},t}(),Rg=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new If(Dg.Gn)}return t.prototype.checkEmpty=function(t){return Xd.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var o=new cp(i,e,n,r);this._n.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.rs=this.rs.add(new Dg(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return Xd.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return Xd.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return Xd.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Xd.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return Xd.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Dg(e,0),i=new Dg(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],function(t){var e=n.os(t.ns);o.push(e)}),Xd.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new If(gl);return e.forEach(function(t){var e=new Dg(t,0),i=new Dg(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],function(t){r=r.add(t.ns)})}),Xd.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;Fl.isDocumentKey(i)||(i=i.child(""));var o=new Dg(new Fl(i),0),s=new If(gl);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.ns)),!0)},o),Xd.resolve(this.us(s))},t.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.os(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;hl(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return Xd.forEach(e.mutations,function(i){var o=new Dg(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.rs=r})},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new Dg(e,0),r=this.rs.firstAfterOrEqual(n);return Xd.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return Xd.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),Pg=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new Of(Fl.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:s,readTime:n}),this.size+=s-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Xd.resolve(n?n.document.clone():nh.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=kf();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():nh.newInvalidDocument(t))}),Xd.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=kf(),i=new Fl(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),a=s.value,u=a.document,c=a.readTime;if(!e.path.isPrefixOf(s.key.path))break;c.compareTo(n)<=0||Vh(e,u)&&(r=r.insert(u.key,u.clone()))}return Xd.resolve(r)},t.prototype.fs=function(t,e){return Xd.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new Lg(this)},t.prototype.getSize=function(t){return Xd.resolve(this.size)},t}(),Lg=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return Object(tl.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)}),Xd.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(Zp),Vg=function(){function t(t){this.persistence=t,this.ds=new Xp(function(t){return oh(t)},sh),this.lastRemoteSnapshotVersion=bl.min(),this.highestTargetId=0,this.ws=0,this._s=new Ng,this.targetCount=0,this.ys=Fp.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),Xd.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Xd.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Xd.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),Xd.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),Xd.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new Fp(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,Xd.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),Xd.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,Xd.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach(function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(s),o.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),Xd.waitFor(o).next(function(){return i})},t.prototype.getTargetCount=function(t){return Xd.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return Xd.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),Xd.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),Xd.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),Xd.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return Xd.resolve(n)},t.prototype.containsKey=function(t,e){return Xd.resolve(this._s.containsKey(e))},t}(),Mg=function(){function t(t,e){var n=this;this.gs={},this.Ne=new el(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new Vg(this),this.Ut=new Tp,this.Ue=function(t,e){return new Pg(t,function(t){return n.referenceDelegate.ps(t)})}(this.Ut),this.R=new fp(e),this.Qe=new jg(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new Rg(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;sl("MemoryPersistence","Starting transaction:",t);var i=new Fg(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Is=function(t,e){return Xd.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),Fg=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Object(tl.c)(e,t),e}(Qd),Ug=function(){function t(t){this.persistence=t,this.As=new Ng,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw ll()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),Xd.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),Xd.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),Xd.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Xd.forEach(this.vs,function(r){var i=Fl.fromPath(r);return e.Ps(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Rs=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return Xd.or([function(){return Xd.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),qg=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function Bg(t,e){return"firestore_clients_"+t+"_"+e}function Hg(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function zg(t,e){return"firestore_targets_"+t+"_"+e}qg.UNAUTHENTICATED=new qg(null),qg.GOOGLE_CREDENTIALS=new qg("google-credentials-uid"),qg.FIRST_PARTY=new qg("first-party-uid");var Kg=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new rl(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(al("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Gg=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new rl(i.error.code,i.error.message)),o?new t(e,i.state,r):(al("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Wg=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Mf(),s=0;i&&s<r.activeTargetIds.length;++s)i=Ml(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(al("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),$g=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(al("SharedClientState","Failed to parse online state: "+e),null)},t}(),Qg=function(){function t(){this.activeTargetIds=Mf()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Yg=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Of(gl),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=Bg(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new Qg),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Qs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(tl.b)(this,void 0,void 0,function(){var t,e,n,r,i,o,s,a,u,c,l=this;return Object(tl.d)(this,function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(Bg(this.persistenceKey,r)))&&(o=Wg.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Ks(),(s=this.storage.getItem(this.Us))&&(a=this.js(s))&&this.Ws(a),u=0,c=this.$s;u<c.length;u++)this.Fs(c[u]);return this.$s=[],this.window.addEventListener("pagehide",function(){return l.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(zg(this.persistenceKey,t));if(n){var r=Gg.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Ks(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(zg(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return sl("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){sl("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){sl("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(sl("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void al("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return Object(tl.b)(e,void 0,void 0,function(){var t,e,r,i,o,s;return Object(tl.d)(this,function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(s=function(t){var e=el.o;if(null!=t)try{var n=JSON.parse(t);hl("number"==typeof n),e=n}catch(t){al("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==el.o&&this.sequenceNumberHandler(s);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Ks=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new Kg(this.currentUser,t,e,n),i=Hg(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=Hg(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=zg(this.persistenceKey,t),i=new Gg(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return Wg.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return Kg.Vs(new qg(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return Gg.Vs(r,e)},t.prototype.js=function(t){return $g.Vs(t)},t.prototype.ii=function(t){return Object(tl.b)(this,void 0,void 0,function(){return Object(tl.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(sl("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),o=this.Gs(r),s=[],a=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||a.push(t)}),this.syncEngine.hi(s,a).then(function(){n.ks=r})},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=Mf();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),Xg=function(){function t(){this.li=new Qg,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new Qg,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),Zg=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),Jg=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){sl("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){sl("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),tm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},em=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),nm=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n}return Object(tl.c)(e,t),e.prototype.ki=function(t,e,n,r){return new Promise(function(i,o){var s=new Jc;s.listenOnce(Qc.COMPLETE,function(){try{switch(s.getLastErrorCode()){case $c.NO_ERROR:var e=s.getResponseJson();sl("Connection","XHR received:",JSON.stringify(e)),i(e);break;case $c.TIMEOUT:sl("Connection",'RPC "'+t+'" timed out'),o(new rl(nl.DEADLINE_EXCEEDED,"Request time out"));break;case $c.HTTP_ERROR:var n=s.getStatus();if(sl("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(nl).indexOf(e)>=0?e:nl.UNKNOWN}(r.status);o(new rl(a,r.message))}else o(new rl(nl.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new rl(nl.UNAVAILABLE,"Connection failed."));break;default:ll()}}finally{sl("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);s.send(e,"POST",a,n,15)})},e.prototype.Oi=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Vc,i=Ua(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Xc({})),this.Fi(o.initMessageHeaders,e),Object(zo.n)()||Object(zo.p)()||Object(zo.l)()||Object(zo.m)()||Object(zo.q)()||Object(zo.k)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");sl("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),u=!1,c=!1,l=new em({Ei:function(t){c?sl("Connection","Not sending because WebChannel is closed:",t):(u||(sl("Connection","Opening WebChannel transport."),a.open(),u=!0),sl("Connection","WebChannel sending:",t),a.send(t))},Ti:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,Zc.EventType.OPEN,function(){c||sl("Connection","WebChannel transport opened.")}),h(a,Zc.EventType.CLOSE,function(){c||(c=!0,sl("Connection","WebChannel transport closed"),l.Vi())}),h(a,Zc.EventType.ERROR,function(t){c||(c=!0,ul("Connection","WebChannel transport errored:",t),l.Vi(new rl(nl.UNAVAILABLE,"The operation could not be completed")))}),h(a,Zc.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];hl(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){sl("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=yf[t];if(void 0!==e)return Sf(e)}(i),s=r.message;void 0===o&&(o=nl.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.Vi(new rl(o,s)),a.close()}else sl("Connection","WebChannel received:",n),l.Si(n)}}),h(i,Yc.STAT_EVENT,function(t){10===t.stat?sl("Connection","Detected buffering proxy"):11===t.stat&&sl("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Pi()},0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);sl("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(t,i,o,n).then(function(t){return sl("RestConnection","Received: ",t),t},function(e){throw ul("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.$i=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.6.7",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+tm[t]},t}());function rm(){return"undefined"!=typeof window?window:null}function im(){return"undefined"!=typeof document?document:null}function om(t){return new Yf(t,!0)}var sm=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Ki=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&sl("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Qi=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),am=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new sm(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return Object(tl.b)(this,void 0,void 0,function(){return Object(tl.d)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return Object(tl.b)(this,void 0,void 0,function(){return Object(tl.d)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return Object(tl.b)(this,void 0,void 0,function(){return Object(tl.d)(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===nl.RESOURCE_EXHAUSTED?(al(e.toString()),al("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):e&&e.code===nl.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new rl(nl.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return Object(tl.b)(t,void 0,void 0,function(){return Object(tl.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(t){return sl("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():(sl("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),um=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,s}return Object(tl.c)(e,t),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:ll()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(hl(void 0===e||"string"==typeof e),Al.fromBase64String(e||"")):(hl(void 0===e||e instanceof Uint8Array),Al.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?nl.UNKNOWN:Sf(t.code);return new rl(e,t.message||"")}(a);n=new Hf(r,i,o,s||null)}else if("documentChange"in e){i=id(t,(r=e.documentChange).document.name),o=td(r.document.updateTime);var a=new th({mapValue:{fields:r.document.fields}}),u=(s=nh.newFoundDocument(i,o,a),r.targetIds||[]);n=new qf(u,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=id(t,(r=e.documentDelete).document),o=r.readTime?td(r.readTime):bl.min(),a=nh.newNoDocument(i,o),n=new qf([],s=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=id(t,(r=e.documentRemove).document),n=new qf([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return ll();var c=e.filter;i=new _f(r=c.count||0),n=new Bf(o=c.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return bl.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?bl.min():e.readTime?td(e.readTime):bl.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=ad(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=ah(r)?{documents:dd(t,r)}:{query:pd(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=Zf(t,e.resumeToken):e.snapshotVersion.compareTo(bl.min())>0&&(n.readTime=Xf(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ll()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=ad(this.R),e.removeTarget=t,this.cr(e)},e}(am),cm=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,s.gr=!1,s}return Object(tl.c)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(hl(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(hl(void 0!==e),t.map(function(t){return function(t,e){var n=td(t.updateTime?t.updateTime:e);return n.isEqual(bl.min())&&(n=td(e)),new nf(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=td(t.commitTime);return this.listener.Tr(n,e)}return hl(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=ad(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return hd(e.R,t)})};this.cr(n)},e}(am),lm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return Object(tl.c)(e,t),e.prototype.br=function(){if(this.Rr)throw new rl(nl.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===nl.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new rl(nl.UNKNOWN,t.toString())})},e.prototype.$i=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.$i(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===nl.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new rl(nl.UNKNOWN,t.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),hm=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(al(e),this.Vr=!1):sl("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),fm=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(t){n.enqueueAndForget(function(){return Object(tl.b)(o,void 0,void 0,function(){return Object(tl.d)(this,function(t){switch(t.label){case 0:return _m(this)?(sl("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(tl.b)(this,void 0,void 0,function(){var e;return Object(tl.d)(this,function(n){switch(n.label){case 0:return(e=fl(t)).Or.add(4),[4,pm(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,dm(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new hm(n,r)};function dm(t){return Object(tl.b)(this,void 0,void 0,function(){var e,n;return Object(tl.d)(this,function(r){switch(r.label){case 0:if(!_m(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function pm(t){return Object(tl.b)(this,void 0,void 0,function(){var e,n;return Object(tl.d)(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function gm(t,e){var n=fl(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),wm(n)?bm(n):Lm(n).er()&&ym(n,e))}function mm(t,e){var n=fl(t),r=Lm(n);n.$r.delete(e),r.er()&&vm(n,e),0===n.$r.size&&(r.er()?r.ir():_m(n)&&n.Br.set("Unknown"))}function ym(t,e){t.qr.U(e.targetId),Lm(t).mr(e)}function vm(t,e){t.qr.U(e),Lm(t).yr(e)}function bm(t){t.qr=new Kf({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),Lm(t).start(),t.Br.Sr()}function wm(t){return _m(t)&&!Lm(t).tr()&&t.$r.size>0}function _m(t){return 0===fl(t).Or.size}function Em(t){t.qr=void 0}function Sm(t){return Object(tl.b)(this,void 0,void 0,function(){return Object(tl.d)(this,function(e){return t.$r.forEach(function(e,n){ym(t,e)}),[2]})})}function Om(t,e){return Object(tl.b)(this,void 0,void 0,function(){return Object(tl.d)(this,function(n){return Em(t),wm(t)?(t.Br.Nr(e),bm(t)):t.Br.set("Unknown"),[2]})})}function Cm(t,e,n){return Object(tl.b)(this,void 0,void 0,function(){var r,i,o;return Object(tl.d)(this,function(s){switch(s.label){case 0:if(t.Br.set("Online"),!(e instanceof Hf&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(tl.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(tl.d)(this,function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.$r.has(o=i[r])?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.$r.delete(o),t.qr.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),sl("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Tm(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof qf?t.qr.X(e):e instanceof Bf?t.qr.rt(e):t.qr.et(e),n.isEqual(bl.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,bg(t.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.$r.get(r);i&&t.$r.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.$r.get(e);if(n){t.$r.set(e,n.withResumeToken(Al.EMPTY_BYTE_STRING,n.snapshotVersion)),vm(t,e);var r=new hp(n.target,e,1,n.sequenceNumber);ym(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return sl("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,Tm(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function Tm(t,e,n){return Object(tl.b)(this,void 0,void 0,function(){var r=this;return Object(tl.d)(this,function(i){switch(i.label){case 0:if(!np(e))throw e;return t.Or.add(1),[4,pm(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return bg(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return Object(tl.b)(r,void 0,void 0,function(){return Object(tl.d)(this,function(e){switch(e.label){case 0:return sl("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,dm(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function Im(t,e){return e().catch(function(n){return Tm(t,n,e)})}function Am(t){return Object(tl.b)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(tl.d)(this,function(s){switch(s.label){case 0:e=fl(t),n=Vm(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return _m(t)&&t.kr.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,Eg(e.localStore,r)];case 3:return null===(i=s.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=Vm(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,Tm(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return xm(e)&&km(e),[2]}})})}function xm(t){return _m(t)&&!Vm(t).tr()&&t.kr.length>0}function km(t){Vm(t).start()}function jm(t){return Object(tl.b)(this,void 0,void 0,function(){return Object(tl.d)(this,function(e){return Vm(t).Ar(),[2]})})}function Nm(t){return Object(tl.b)(this,void 0,void 0,function(){var e,n,r;return Object(tl.d)(this,function(i){for(e=Vm(t),n=0,r=t.kr;n<r.length;n++)e.Er(r[n].mutations);return[2]})})}function Dm(t,e,n){return Object(tl.b)(this,void 0,void 0,function(){var r,i;return Object(tl.d)(this,function(o){switch(o.label){case 0:return r=t.kr.shift(),i=lp.from(r,e,n),[4,Im(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,Am(t)];case 2:return o.sent(),[2]}})})}function Rm(t,e){return Object(tl.b)(this,void 0,void 0,function(){return Object(tl.d)(this,function(n){switch(n.label){case 0:return e&&Vm(t).pr?[4,function(t,e){return Object(tl.b)(this,void 0,void 0,function(){var n,r;return Object(tl.d)(this,function(i){switch(i.label){case 0:return Ef(r=e.code)&&r!==nl.ABORTED?(n=t.kr.shift(),Vm(t).sr(),[4,Im(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,Am(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return xm(t)&&km(t),[2]}})})}function Pm(t,e){return Object(tl.b)(this,void 0,void 0,function(){var n;return Object(tl.d)(this,function(r){switch(r.label){case 0:return n=fl(t),e?(n.Or.delete(2),[4,dm(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,pm(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Lm(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=fl(t);return r.br(),new um(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Sm.bind(null,t),Ri:Om.bind(null,t),_r:Cm.bind(null,t)}),t.Mr.push(function(n){return Object(tl.b)(e,void 0,void 0,function(){return Object(tl.d)(this,function(e){switch(e.label){case 0:return n?(t.Ur.sr(),wm(t)?bm(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),Em(t),e.label=3;case 3:return[2]}})})})),t.Ur}function Vm(t){var e=this;return t.Qr||(t.Qr=function(t,e,n){var r=fl(t);return r.br(),new cm(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:jm.bind(null,t),Ri:Rm.bind(null,t),Ir:Nm.bind(null,t),Tr:Dm.bind(null,t)}),t.Mr.push(function(n){return Object(tl.b)(e,void 0,void 0,function(){return Object(tl.d)(this,function(e){switch(e.label){case 0:return n?(t.Qr.sr(),[4,Am(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qr.stop()];case 3:e.sent(),t.kr.length>0&&(sl("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}})})})),t.Qr}var Mm=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Yd,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new rl(nl.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function Fm(t,e){if(al("AsyncQueue",e+": "+t),np(t))return new rl(nl.UNAVAILABLE,e+": "+t);throw t}var Um=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||Fl.comparator(e.key,n.key)}:function(t,e){return Fl.comparator(t.key,e.key)},this.keyedMap=Nf(),this.sortedSet=new Of(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),qm=function(){function t(){this.Kr=new Of(Fl.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Kr.get(e);n?0!==t.type&&3===n.type?this.Kr=this.Kr.insert(e,t):3===t.type&&1!==n.type?this.Kr=this.Kr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Kr=this.Kr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Kr=this.Kr.remove(e):1===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):ll():this.Kr=this.Kr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),Bm=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,Um.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Rh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Hm=function(){this.Wr=void 0,this.listeners=[]},zm=function(){this.queries=new Xp(function(t){return Ph(t)},Rh),this.onlineState="Unknown",this.Gr=new Set};function Km(t,e){return Object(tl.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return Object(tl.d)(this,function(c){switch(c.label){case 0:if(n=fl(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new Hm),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Wr=c.sent(),[3,4];case 3:return a=c.sent(),u=Fm(a,"Initialization of query '"+Lh(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&Qm(n),[2]}})})}function Gm(t,e){return Object(tl.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(tl.d)(this,function(a){return n=fl(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function Wm(t,e){for(var n=fl(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hr(s)&&(r=!0);a.Wr=s}}r&&Qm(n)}function $m(t,e,n){var r=fl(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function Qm(t){t.Gr.forEach(function(t){t.next()})}var Ym=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Bm(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=Bm.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),Xm=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),Zm=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return id(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?ld(this.R,t.document,!1):nh.newNoDocument(this.qn(t.metadata.name),this.Qn(t.metadata.readTime))},t.prototype.Qn=function(t){return td(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new Zm(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.qn(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||Lf()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(tl.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(tl.d)(this,function(o){switch(o.label){case 0:return[4,xg(this.localStore,new Zm(this.R),this.documents,this.ro.id)];case 1:t=o.sent(),e=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,kg(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new hg(Object.assign({},this.progress),t))]}})})}}();var Jm=function(t){this.key=t},ty=function(t){this.key=t},ey=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=Lf(),this.mutatedKeys=Lf(),this.lo=Mh(t),this.fo=new Um(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new qm,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=Th(this.query)&&i.size===this.query.limit?i.last():null,c=Ih(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),h=Vh(n.query,e)?e:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),Th(this.query)||Ih(this.query))for(;s.size>this.query.limit;){var l=Th(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:s,mo:r,Nn:a,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ll()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)}),this.po(n);var s=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.ao;return this.ao=a,0!==o.length||u?{snapshot:new Bm(this.query,t.fo,i,o,t.mutatedKeys,0===a,u,!1),To:s}:{To:s}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new qm,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.uo=e.uo.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.uo=e.uo.delete(t)}),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=Lf(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new ty(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new Jm(t))}),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Lf();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return Bm.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),ny=function(t,e,n){this.query=t,this.targetId=e,this.view=n},ry=function(t){this.key=t,this.bo=!1},iy=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new Xp(function(t){return Ph(t)},Rh),this.Vo=new Map,this.So=new Set,this.Do=new Of(Fl.comparator),this.Co=new Map,this.No=new Ng,this.xo={},this.Fo=new Map,this.ko=Fp.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function oy(t,e){return Object(tl.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(tl.d)(this,function(a){switch(a.label){case 0:return n=Ry(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,Sg(n.localStore,Nh(e))];case 2:return o=a.sent(),s=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,sy(n,e,o.targetId,"current"===s)];case 3:r=a.sent(),n.isPrimaryClient&&gm(n.remoteStore,o),a.label=4;case 4:return[2,r]}})})}function sy(t,e,n,r){return Object(tl.b)(this,void 0,void 0,function(){var i,o,s,a,u,c;return Object(tl.d)(this,function(l){switch(l.label){case 0:return t.Oo=function(e,n,r){return function(t,e,n,r){return Object(tl.b)(this,void 0,void 0,function(){var i,o,s;return Object(tl.d)(this,function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,Cg(t.localStore,e.query,!1).then(function(t){return e.view._o(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),s=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(by(t,e.targetId,s.To),s.snapshot)]}})})}(t,e,n,r)},[4,Cg(t.localStore,e,!0)];case 1:return i=l.sent(),o=new ey(e,i.Bn),s=o._o(i.documents),a=Uf.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(s,t.isPrimaryClient,a),by(t,n,u.To),c=new ny(e,n,o),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}})})}function ay(t,e){return Object(tl.b)(this,void 0,void 0,function(){var n,r,i;return Object(tl.d)(this,function(o){switch(o.label){case 0:return n=fl(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(t){return!Rh(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Og(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),mm(n.remoteStore,r.targetId),yy(n,r.targetId)}).catch(zp)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return yy(n,r.targetId),[4,Og(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function uy(t,e,n){return Object(tl.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(tl.d)(this,function(a){switch(a.label){case 0:r=Py(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=fl(t),i=vl.now(),o=e.reduce(function(t,e){return t.add(e.key)},Lf());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Mn.pn(t,o).next(function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=cf(c,n.get(c.key));null!=l&&s.push(new df(c.key,l,eh(l.value.mapValue),rf.exists(!0)))}return r._n.addMutationBatch(t,i,s,e)})}).then(function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}})}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new Of(gl)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,Ey(r,i.changes)];case 3:return a.sent(),[4,Am(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=Fm(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function cy(t,e){return Object(tl.b)(this,void 0,void 0,function(){var n,r;return Object(tl.d)(this,function(i){switch(i.label){case 0:n=fl(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,wg(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.Co.get(e);r&&(hl(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?hl(r.bo):t.removedDocuments.size>0&&(hl(r.bo),r.bo=!1))}),[4,Ey(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,zp(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function ly(t,e,n){var r=fl(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach(function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=fl(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)}),r&&Qm(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function hy(t,e,n){return Object(tl.b)(this,void 0,void 0,function(){var r,i,o,s,a,u;return Object(tl.d)(this,function(c){switch(c.label){case 0:return(r=fl(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(s=(s=new Of(Fl.comparator)).insert(o,nh.newNoDocument(o,bl.min())),a=Lf().add(o),u=new Ff(bl.min(),new Map,new If(gl),s,a),[4,cy(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),_y(r),[3,4];case 2:return[4,Og(r.localStore,e,!1).then(function(){return yy(r,e,n)}).catch(zp)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function fy(t,e){return Object(tl.b)(this,void 0,void 0,function(){var n,r,i;return Object(tl.d)(this,function(o){switch(o.label){case 0:n=fl(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,vg(n.localStore,e)];case 2:return i=o.sent(),my(n,r,null),gy(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Ey(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,zp(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function dy(t,e,n){return Object(tl.b)(this,void 0,void 0,function(){var r,i;return Object(tl.d)(this,function(o){switch(o.label){case 0:r=fl(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=fl(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n._n.lookupMutationBatch(t,e).next(function(e){return hl(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}(r.localStore,e)];case 2:return i=o.sent(),my(r,e,n),gy(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,Ey(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,zp(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function py(t,e){return Object(tl.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(tl.d)(this,function(a){switch(a.label){case 0:_m((n=fl(t)).remoteStore)||sl("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=fl(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e._n.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return o=a.sent(),s=Fm(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}})})}function gy(t,e){(t.Fo.get(e)||[]).forEach(function(t){t.resolve()}),t.Fo.delete(e)}function my(t,e,n){var r=fl(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function yy(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||vy(t,e)})}function vy(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(mm(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),_y(t))}function by(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Jm?(t.No.addReference(o.key,e),wy(t,o)):o instanceof ty?(sl("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||vy(t,o.key)):ll()}}function wy(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(sl("SyncEngine","New document in limbo: "+n),t.So.add(r),_y(t))}function _y(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new Fl(Ol.fromString(e)),r=t.ko.next();t.Co.set(r,new ry(n)),t.Do=t.Do.insert(n,r),gm(t.remoteStore,new hp(Nh(Ch(n.path)),r,2,el.o))}}function Ey(t,e,n){return Object(tl.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(tl.d)(this,function(a){switch(a.label){case 0:return r=fl(t),i=[],o=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(t,a){s.push(r.Oo(a,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=dg.Pn(a.targetId,t);o.push(e)}}))}),[4,Promise.all(s)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return Object(tl.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c;return Object(tl.d)(this,function(l){switch(l.label){case 0:n=fl(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return Xd.forEach(e,function(e){return Xd.forEach(e.bn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return Xd.forEach(e.vn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!np(r=l.sent()))throw r;return sl("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(u=n.Fn.get(a),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.Fn=n.Fn.insert(a,c));return[2]}})})}(r.localStore,o)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function Sy(t,e){return Object(tl.b)(this,void 0,void 0,function(){var n,r;return Object(tl.d)(this,function(i){switch(i.label){case 0:return(n=fl(t)).currentUser.isEqual(e)?[3,3]:(sl("SyncEngine","User change. New user:",e.toKey()),[4,yg(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach(function(t){t.forEach(function(t){t.reject(new rl(nl.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Ey(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function Oy(t,e){var n=fl(t),r=n.Co.get(e);if(r&&r.bo)return Lf().add(r.key);var i=Lf(),o=n.Vo.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.Po.get(a[s]);i=i.unionWith(u.view.wo)}return i}function Cy(t,e){return Object(tl.b)(this,void 0,void 0,function(){var n,r,i;return Object(tl.d)(this,function(o){switch(o.label){case 0:return[4,Cg((n=fl(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&by(n,e.targetId,i.To),i)]}})})}function Ty(t){return Object(tl.b)(this,void 0,void 0,function(){var e;return Object(tl.d)(this,function(n){return[2,Ig((e=fl(t)).localStore).then(function(t){return Ey(e,t)})]})})}function Iy(t,e,n,r){return Object(tl.b)(this,void 0,void 0,function(){var i,o;return Object(tl.d)(this,function(s){switch(s.label){case 0:return[4,function(t,e){var n=fl(t),r=fl(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.jt(t,e).next(function(e){return e?n.Mn.pn(t,e):Xd.resolve(null)})})}((i=fl(t)).localStore,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,Am(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(my(i,e,r||null),gy(i,e),function(t,e){fl(fl(t)._n).Gt(e)}(i.localStore,e)):ll(),s.label=4;case 4:return[4,Ey(i,o)];case 5:return s.sent(),[3,7];case 6:sl("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}})})}function Ay(t,e){return Object(tl.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return Object(tl.d)(this,function(c){switch(c.label){case 0:return Ry(n=fl(t)),Py(n),!0!==e||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,xy(n,r.toArray())]);case 1:return i=c.sent(),n.$o=!0,[4,Pm(n.remoteStore,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)gm(n.remoteStore,s[o]);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(a=[],u=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):u=u.then(function(){return yy(n,e),Og(n.localStore,e,!0)}),mm(n.remoteStore,e)}),[4,u]);case 4:return c.sent(),[4,xy(n,a)];case 5:return c.sent(),function(t){var e=fl(t);e.Co.forEach(function(t,n){mm(e.remoteStore,n)}),e.No.ts(),e.Co=new Map,e.Do=new Of(Fl.comparator)}(n),n.$o=!1,[4,Pm(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function xy(t,e,n){return Object(tl.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c,l,h,f,d,p;return Object(tl.d)(this,function(g){switch(g.label){case 0:n=fl(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(u=void 0,(c=n.Vo.get(a=s[o]))&&0!==c.length?[4,Sg(n.localStore,Nh(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=n.Po.get(h[l]),[4,Cy(n,f)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Tg(n.localStore,a)];case 8:return p=g.sent(),[4,Sg(n.localStore,p)];case 9:return u=g.sent(),[4,sy(n,ky(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function ky(t){return Oh(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function jy(t){var e=fl(t);return fl(fl(e.localStore).persistence).fn()}function Ny(t,e,n,r){return Object(tl.b)(this,void 0,void 0,function(){var i,o,s;return Object(tl.d)(this,function(a){switch(a.label){case 0:return(i=fl(t)).$o?(sl("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Ig(i.localStore)];case 3:return o=a.sent(),s=Ff.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Ey(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,Og(i.localStore,e,!0)];case 6:return a.sent(),yy(i,e,r),[3,8];case 7:ll(),a.label=8;case 8:return[2]}})})}function Dy(t,e,n){return Object(tl.b)(this,void 0,void 0,function(){var r,i,o,s,a,u,c,l,h;return Object(tl.d)(this,function(f){switch(f.label){case 0:if(!(r=Ry(t)).$o)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Vo.has(s=o[i])?(sl("SyncEngine","Adding an already active target "+s),[3,5]):[4,Tg(r.localStore,s)]:[3,6];case 2:return a=f.sent(),[4,Sg(r.localStore,a)];case 3:return u=f.sent(),[4,sy(r,ky(a),u.targetId,!1)];case 4:f.sent(),gm(r.remoteStore,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(tl.d)(this,function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,Og(r.localStore,t,!1).then(function(){mm(r.remoteStore,t),yy(r,t)}).catch(zp)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function Ry(t){var e=fl(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=cy.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Oy.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hy.bind(null,e),e.vo._r=Wm.bind(null,e.eventManager),e.vo.Mo=$m.bind(null,e.eventManager),e}function Py(t){var e=fl(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fy.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dy.bind(null,e),e}var Ly=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(tl.b)(this,void 0,void 0,function(){return Object(tl.d)(this,function(e){switch(e.label){case 0:return this.R=om(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}})})},t.prototype.Uo=function(t){return null},t.prototype.Qo=function(t){return mg(this.persistence,new pg,t.initialUser,this.R)},t.prototype.qo=function(t){return new Mg(Ug.bs,this.R)},t.prototype.Bo=function(t){return new Xg},t.prototype.terminate=function(){return Object(tl.b)(this,void 0,void 0,function(){return Object(tl.d)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),Vy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Ko=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(tl.c)(e,t),e.prototype.initialize=function(e){return Object(tl.b)(this,void 0,void 0,function(){return Object(tl.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Ag(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,e)];case 3:return n.sent(),[4,Py(this.Ko.syncEngine)];case 4:return n.sent(),[4,Am(this.Ko.remoteStore)];case 5:return n.sent(),[2]}})})},e.prototype.Qo=function(t){return mg(this.persistence,new pg,t.initialUser,this.R)},e.prototype.Uo=function(t){return new Wp(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=lg(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?jp.withCacheSize(this.cacheSizeBytes):jp.DEFAULT;return new ag(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,rm(),im(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new Xg},e}(Ly),My=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Ko=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(tl.c)(e,t),e.prototype.initialize=function(e){return Object(tl.b)(this,void 0,void 0,function(){var n,r=this;return Object(tl.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof Yg?(this.sharedClientState.syncEngine={ui:Iy.bind(null,n),ai:Ny.bind(null,n),hi:Dy.bind(null,n),fn:jy.bind(null,n),ci:Ty.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He(function(t){return Object(tl.b)(r,void 0,void 0,function(){return Object(tl.d)(this,function(e){switch(e.label){case 0:return[4,Ay(this.Ko.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Bo=function(t){var e=rm();if(!Yg.yt(e))throw new rl(nl.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=lg(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Yg(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(Vy),Fy=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(tl.b)(this,void 0,void 0,function(){var n=this;return Object(tl.d)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return ly(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Sy.bind(null,this.syncEngine),[4,Pm(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new zm},t.prototype.createDatastore=function(t){var e=om(t.databaseInfo.databaseId),n=new nm(t.databaseInfo);return function(t,e,n){return new lm(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,s=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return ly(s.syncEngine,t,0)},o=Jg.yt()?new Jg:new Zg,new fm(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,s){var a=new iy(t,e,n,r,i,o);return s&&(a.$o=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Object(tl.b)(this,void 0,void 0,function(){var e;return Object(tl.d)(this,function(n){switch(n.label){case 0:return e=fl(t),sl("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,pm(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),Uy=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),qy=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new Yd,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return Object(tl.b)(this,void 0,void 0,function(){return Object(tl.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return Object(tl.b)(this,void 0,void 0,function(){return Object(tl.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return Object(tl.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(tl.d)(this,function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new Xm(JSON.parse(r),t.length+n)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.Jo=function(){return Object(tl.b)(this,void 0,void 0,function(){var t,e;return Object(tl.d)(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.Xo=function(t){return Object(tl.b)(this,void 0,void 0,function(){var e;return Object(tl.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return Object(tl.b)(this,void 0,void 0,function(){var t,e;return Object(tl.d)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Object(tl.b)(this,void 0,void 0,function(){var e,n=this;return Object(tl.d)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new rl(nl.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(tl.b)(this,void 0,void 0,function(){var n,r,i,o,s,a;return Object(tl.d)(this,function(u){switch(u.label){case 0:return n=fl(t),r=ad(n.R)+"/documents",i={documents:e.map(function(t){return rd(n.R,t)})},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){hl(!!e.found);var n=id(t,e.found.name),r=td(e.found.updateTime),i=new th({mapValue:{fields:e.found.fields}});return nh.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){hl(!!e.missing),hl(!!e.readTime);var n=id(t,e.missing),r=td(e.readTime);return nh.newNoDocument(n,r)}(t,e):ll()}(n.R,t);s.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=s.get(t.toString());hl(!!e),a.push(e)}),a)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new bf(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Object(tl.b)(this,void 0,void 0,function(){var t,e=this;return Object(tl.d)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=Fl.fromPath(n);e.mutations.push(new wf(r,e.precondition(r)))}),[4,function(t,e){return Object(tl.b)(this,void 0,void 0,function(){var n,r,i;return Object(tl.d)(this,function(o){switch(o.label){case 0:return n=fl(t),r=ad(n.R)+"/documents",i={writes:e.map(function(t){return hd(n.R,t)})},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw ll();e=bl.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new rl(nl.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?rf.updateTime(e):rf.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(bl.min()))throw new rl(nl.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return rf.updateTime(e)}return rf.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),By=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new sm(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji(function(){return Object(tl.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(tl.d)(this,function(r){return t=new qy(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!Ll(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Ef(e)}return!1},t}(),Hy=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=qg.UNAUTHENTICATED,this.clientId=pl.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,function(t){return Object(tl.b)(r,void 0,void 0,function(){return Object(tl.d)(this,function(e){switch(e.label){case 0:return sl("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}})})})}return t.prototype.getConfiguration=function(){return Object(tl.b)(this,void 0,void 0,function(){return Object(tl.d)(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new rl(nl.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new Yd;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return Object(tl.b)(t,void 0,void 0,function(){var t,n;return Object(tl.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Fm(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function zy(t,e){return Object(tl.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(tl.d)(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),sl("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener(function(t){return Object(tl.b)(i,void 0,void 0,function(){return Object(tl.d)(this,function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,yg(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function Ky(t,e){return Object(tl.b)(this,void 0,void 0,function(){var n,r;return Object(tl.d)(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,Gy(t)];case 1:return n=i.sent(),sl("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(t){return function(t,e){return Object(tl.b)(this,void 0,void 0,function(){var n,r;return Object(tl.d)(this,function(i){switch(i.label){case 0:return(n=fl(t)).asyncQueue.verifyOperationInProgress(),sl("RemoteStore","RemoteStore received new credentials"),r=_m(n),n.Or.add(3),[4,pm(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Or.delete(3),[4,dm(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,t)}),t.onlineComponents=e,[2]}})})}function Gy(t){return Object(tl.b)(this,void 0,void 0,function(){return Object(tl.d)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(sl("FirestoreClient","Using default OfflineComponentProvider"),[4,zy(t,new Ly)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function Wy(t){return Object(tl.b)(this,void 0,void 0,function(){return Object(tl.d)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(sl("FirestoreClient","Using default OnlineComponentProvider"),[4,Ky(t,new Fy)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function $y(t){return Gy(t).then(function(t){return t.persistence})}function Qy(t){return Gy(t).then(function(t){return t.localStore})}function Yy(t){return Wy(t).then(function(t){return t.remoteStore})}function Xy(t){return Wy(t).then(function(t){return t.syncEngine})}function Zy(t){return Object(tl.b)(this,void 0,void 0,function(){var e,n;return Object(tl.d)(this,function(r){switch(r.label){case 0:return[4,Wy(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=oy.bind(null,e.syncEngine),n.onUnlisten=ay.bind(null,e.syncEngine),n)]}})})}function Jy(t,e,n){var r=this;void 0===n&&(n={});var i=new Yd;return t.asyncQueue.enqueueAndForget(function(){return Object(tl.b)(r,void 0,void 0,function(){var r;return Object(tl.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Uy({next:function(o){e.enqueueAndForget(function(){return Gm(t,s)});var a=o.docs.has(n);!a&&o.fromCache?i.reject(new rl(nl.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new rl(nl.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new Ym(Ch(n.path),o,{includeMetadataChanges:!0,so:!0});return Km(t,s)},[4,Zy(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function tv(t,e,n){var r=this;void 0===n&&(n={});var i=new Yd;return t.asyncQueue.enqueueAndForget(function(){return Object(tl.b)(r,void 0,void 0,function(){var r;return Object(tl.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Uy({next:function(n){e.enqueueAndForget(function(){return Gm(t,s)}),n.fromCache&&"server"===r.source?i.reject(new rl(nl.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new Ym(n,o,{includeMetadataChanges:!0,so:!0});return Km(t,s)},[4,Zy(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var ev=function(t,e,n,r,i,o,s,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=a},nv=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),rv=new Map,iv=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},ov=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable(function(){return e(qg.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),sv=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable(function(){return e(n.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),av=function(){function t(t){var e=this;this.currentUser=qg.UNAUTHENTICATED,this.oc=new Yd,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable(function(){return e.changeListener(e.currentUser)})};var n=function(t){sl("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.auth.addAuthTokenListener(e.uc)};t.onInit(function(t){return n(t)}),setTimeout(function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):(sl("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve())}},0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?(sl("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(hl("string"==typeof n.accessToken),new iv(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){var n=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return Object(tl.b)(n,void 0,void 0,function(){return Object(tl.d)(this,function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,e(this.currentUser)];case 2:return t.sent(),this.changeListener=e,[2]}})})})},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return hl(null===t||"string"==typeof t),new qg(t)},t}(),uv=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n,this.type="FirstParty",this.user=qg.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),t}(),cv=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n}return t.prototype.getToken=function(){return Promise.resolve(new uv(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable(function(){return e(qg.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function lv(t,e,n){if(!n)throw new rl(nl.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function hv(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new rl(nl.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function fv(t,e,n,r){if(!0===e&&!0===r)throw new rl(nl.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function dv(t){if(!Fl.isDocumentKey(t))throw new rl(nl.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function pv(t){if(Fl.isDocumentKey(t))throw new rl(nl.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function gv(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":ll()}function mv(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new rl(nl.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=gv(t);throw new rl(nl.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function yv(t,e){if(e<=0)throw new rl(nl.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var vv=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new rl(nl.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new rl(nl.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,fv("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},t}(),bv=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vv({}),this._settingsFrozen=!1,t instanceof nv?(this._databaseId=t,this._credentials=new ov):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new rl(nl.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nv(t.options.projectId)}(t),this._credentials=new av(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new rl(nl.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new rl(nl.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vv(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new ov;switch(t.type){case"gapi":var e=t.client;return hl(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new cv(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new rl(nl.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=rv.get(this))&&(sl("ComponentProvider","Removing Datastore"),rv.delete(this),t.terminate()),Promise.resolve();var t},t}(),wv=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Ev(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),_v=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Ev=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Ch(r))||this)._path=r,i.type="collection",i}return Object(tl.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new wv(this.firestore,null,new Fl(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(_v);function Sv(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(zo.h)(t),lv("collection","path",e),t instanceof bv)return pv(n=Ol.fromString.apply(Ol,Object(tl.f)([e],r))),new Ev(t,null,n);if(!(t instanceof wv||t instanceof Ev))throw new rl(nl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return pv(n=Ol.fromString.apply(Ol,Object(tl.f)([t.path],r)).child(Ol.fromString(e))),new Ev(t.firestore,null,n)}function Ov(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(zo.h)(t),1===arguments.length&&(e=pl.u()),lv("doc","path",e),t instanceof bv)return dv(n=Ol.fromString.apply(Ol,Object(tl.f)([e],r))),new wv(t,null,new Fl(n));if(!(t instanceof wv||t instanceof Ev))throw new rl(nl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return dv(n=t._path.child(Ol.fromString.apply(Ol,Object(tl.f)([e],r)))),new wv(t.firestore,t instanceof Ev?t.converter:null,new Fl(n))}function Cv(t,e){return t=Object(zo.h)(t),e=Object(zo.h)(e),(t instanceof wv||t instanceof Ev)&&(e instanceof wv||e instanceof Ev)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function Tv(t,e){return t=Object(zo.h)(t),e=Object(zo.h)(e),t instanceof _v&&e instanceof _v&&t.firestore===e.firestore&&Rh(t._query,e._query)&&t.converter===e.converter}var Iv=function(){function t(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=[],this.Zi=new sm(this,"async_queue_retry"),this.Tc=function(){var e=im();e&&sl("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=im();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Tc)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ic(),this.Ac(t)},t.prototype.enterRestrictedMode=function(){if(!this._c){this._c=!0;var t=im();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Tc)}},t.prototype.enqueue=function(t){return this.Ic(),this._c?new Promise(function(t){}):this.Ac(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.wc.push(t),e.Rc()})},t.prototype.Rc=function(){return Object(tl.b)(this,void 0,void 0,function(){var t,e=this;return Object(tl.d)(this,function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!np(t=n.sent()))throw t;return sl("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return e.Rc()}),n.label=5;case 5:return[2]}})})},t.prototype.Ac=function(t){var e=this,n=this.dc.then(function(){return e.gc=!0,t().catch(function(t){throw e.yc=t,e.gc=!1,al("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.gc=!1,t})});return this.dc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Ic(),this.Ec.indexOf(t)>-1&&(e=0);var i=Mm.createAndSchedule(this,t,e,n,function(t){return r.bc(t)});return this.mc.push(i),i},t.prototype.Ic=function(){this.yc&&ll()},t.prototype.verifyOperationInProgress=function(){},t.prototype.vc=function(){return Object(tl.b)(this,void 0,void 0,function(){var t;return Object(tl.d)(this,function(e){switch(e.label){case 0:return[4,t=this.dc];case 1:e.sent(),e.label=2;case 2:if(t!==this.dc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Pc=function(t){for(var e=0,n=this.mc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Vc=function(t){var e=this;return this.vc().then(function(){e.mc.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.vc()})},t.prototype.Sc=function(t){this.Ec.push(t)},t.prototype.bc=function(t){var e=this.mc.indexOf(t);this.mc.splice(e,1)},t}();function Av(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new Yd,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var xv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new Iv,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Object(tl.c)(e,t),e.prototype._terminate=function(){return this._firestoreClient||jv(this),this._firestoreClient.terminate()},e}(bv);function kv(t){return t._firestoreClient||jv(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function jv(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new ev(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new Hy(t._credentials,t._queue,r)}function Nv(t,e,n){var r=this,i=new Yd;return t.asyncQueue.enqueue(function(){return Object(tl.b)(r,void 0,void 0,function(){var r;return Object(tl.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,zy(t,n)];case 1:return o.sent(),[4,Ky(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===nl.FAILED_PRECONDITION||t.code===nl.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function Dv(t){if(t._initialized||t._terminated)throw new rl(nl.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Rv=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new rl(nl.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tl(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),Pv=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(Al.fromBase64String(e))}catch(e){throw new rl(nl.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Al.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),Lv=function(t){this._methodName=t},Vv=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new rl(nl.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new rl(nl.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return gl(this._lat,t._lat)||gl(this._long,t._long)},t}(),Mv=/^__.*__$/,Fv=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new df(t,this.data,this.fieldMask,e,this.fieldTransforms):new ff(t,this.data,e,this.fieldTransforms)},t}(),Uv=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new df(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function qv(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ll()}}var Bv=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Dc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Cc",{get:function(){return this.settings.Cc},enumerable:!1,configurable:!0}),t.prototype.Nc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.xc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Nc({path:n,Fc:!1});return r.kc(t),r},t.prototype.$c=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Nc({path:n,Fc:!1});return r.Dc(),r},t.prototype.Oc=function(t){return this.Nc({path:void 0,Fc:!0})},t.prototype.Mc=function(t){return ub(t,this.settings.methodName,this.settings.Lc||!1,this.path,this.settings.Bc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.Dc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.kc(this.path.get(t))},t.prototype.kc=function(t){if(0===t.length)throw this.Mc("Document fields must not be empty");if(qv(this.Cc)&&Mv.test(t))throw this.Mc('Document fields cannot begin and end with "__"')},t}(),Hv=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||om(t)}return t.prototype.qc=function(t,e,n,r){return void 0===r&&(r=!1),new Bv({Cc:t,methodName:e,Bc:n,path:Tl.emptyPath(),Fc:!1,Lc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function zv(t){var e=t._freezeSettings(),n=om(t._databaseId);return new Hv(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Kv(t,e,n,r,i,o){void 0===o&&(o={});var s=t.qc(o.merge||o.mergeFields?2:0,e,n,i);ib("Data must be an object, but it was:",s,r);var a,u,c=nb(r,s);if(o.merge)a=new Il(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=ob(e,f[h],n);if(!s.contains(d))throw new rl(nl.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");cb(l,d)||l.push(d)}a=new Il(l),u=s.fieldTransforms.filter(function(t){return a.covers(t.field)})}else a=null,u=s.fieldTransforms;return new Fv(new th(c),a,u)}var Gv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(tl.c)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Cc)throw t.Mc(1===t.Cc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Lv);function Wv(t,e,n){return new Bv({Cc:3,Bc:e.settings.Bc,methodName:t._methodName,Fc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var $v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(tl.c)(e,t),e.prototype._toFieldTransform=function(t){return new ef(t.path,new Wh)},e.prototype.isEqual=function(t){return t instanceof e},e}(Lv),Qv=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Uc=n,r}return Object(tl.c)(e,t),e.prototype._toFieldTransform=function(t){var e=Wv(this,t,!0),n=this.Uc.map(function(t){return eb(t,e)}),r=new $h(n);return new ef(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Lv),Yv=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Uc=n,r}return Object(tl.c)(e,t),e.prototype._toFieldTransform=function(t){var e=Wv(this,t,!0),n=this.Uc.map(function(t){return eb(t,e)}),r=new Yh(n);return new ef(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Lv),Xv=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Qc=n,r}return Object(tl.c)(e,t),e.prototype._toFieldTransform=function(t){var e=new Zh(t.R,Bh(t.R,this.Qc));return new ef(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Lv);function Zv(t,e,n,r){var i=t.qc(1,e,n);ib("Data must be an object, but it was:",i,r);var o=[],s=th.empty();_l(r,function(t,r){var a=ab(e,t,n);r=Object(zo.h)(r);var u=i.$c(a);if(r instanceof Gv)o.push(a);else{var c=eb(r,u);null!=c&&(o.push(a),s.set(a,c))}});var a=new Il(o);return new Uv(s,a,i.fieldTransforms)}function Jv(t,e,n,r,i,o){var s=t.qc(1,e,n),a=[ob(e,r,n)],u=[i];if(o.length%2!=0)throw new rl(nl.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(ob(e,o[c])),u.push(o[c+1]);for(var l=[],h=th.empty(),f=a.length-1;f>=0;--f)if(!cb(l,a[f])){var d=a[f],p=u[f];p=Object(zo.h)(p);var g=s.$c(d);if(p instanceof Gv)l.push(d);else{var m=eb(p,g);null!=m&&(l.push(d),h.set(d,m))}}var y=new Il(l);return new Uv(h,y,s.fieldTransforms)}function tb(t,e,n,r){return void 0===r&&(r=!1),eb(n,t.qc(r?4:3,e))}function eb(t,e){if(rb(t=Object(zo.h)(t)))return ib("Unsupported field value:",e,t),nb(t,e);if(t instanceof Lv)return function(t,e){if(!qv(e.Cc))throw e.Mc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Mc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&4!==e.Cc)throw e.Mc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=eb(o[i],e.Oc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Object(zo.h)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Bh(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=vl.fromDate(t);return{timestampValue:Xf(e.R,n)}}if(t instanceof vl)return n=new vl(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Xf(e.R,n)};if(t instanceof Vv)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Pv)return{bytesValue:Zf(e.R,t._byteString)};if(t instanceof wv){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.Mc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:ed(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Mc("Unsupported field value: "+gv(t))}(t,e)}function nb(t,e){var n={};return El(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_l(t,function(t,r){var i=eb(r,e.xc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function rb(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof vl||t instanceof Vv||t instanceof Pv||t instanceof wv||t instanceof Lv)}function ib(t,e,n){if(!rb(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=gv(n);throw e.Mc("an object"===r?t+" a custom object":t+" "+r)}}function ob(t,e,n){if((e=Object(zo.h)(e))instanceof Rv)return e._internalPath;if("string"==typeof e)return ab(t,e);throw ub("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var sb=new RegExp("[~\\*/\\[\\]]");function ab(t,e,n){if(e.search(sb)>=0)throw ub("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Rv.bind.apply(Rv,Object(tl.f)([void 0],e.split(".")))))._internalPath}catch(r){throw ub("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function ub(t,e,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new rl(nl.INVALID_ARGUMENT,(a+=". ")+t+u)}function cb(t,e){return t.some(function(t){return t.isEqual(e)})}var lb=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new wv(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new hb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(fb("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),hb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(tl.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(lb);function fb(t,e){return"string"==typeof e?ab(t,e):e instanceof Rv?e._internalPath:e._delegate._internalPath}var db=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),pb=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this)._firestore=e,a._firestoreImpl=e,a.metadata=o,a}return Object(tl.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new gb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(fb("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(lb),gb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(tl.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(pb),mb=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new db(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new gb(n._firestore,n._userDataWriter,r.key,r,new db(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new rl(nl.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new gb(t._firestore,t._userDataWriter,e.doc.key,e.doc,new db(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new gb(t._firestore,t._userDataWriter,e.doc.key,e.doc,new db(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:yb(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function yb(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ll()}}function vb(t,e){return t instanceof pb&&e instanceof pb?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof mb&&e instanceof mb&&t._firestore===e._firestore&&Tv(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function bb(t){if(Ih(t)&&0===t.explicitOrderBy.length)throw new rl(nl.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var wb=function(){};function _b(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var Eb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Kc=e,i.jc=n,i.Wc=r,i.type="where",i}return Object(tl.c)(e,t),e.prototype._apply=function(t){var e=zv(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new rl(nl.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){xb(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push(Ab(r,t,l[c]));a={arrayValue:{values:u}}}else a=Ab(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||xb(s,o),a=tb(n,"where",s,"in"===o||"not-in"===o);var h=uh.create(i,o,a);return function(t,e){if(e.g()){var n=xh(t);if(null!==n&&!n.isEqual(e.field))throw new rl(nl.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Ah(t);null!==r&&kb(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new rl(nl.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.Kc,this.jc,this.Wc);return new _v(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new Sh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(wb),Sb=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Kc=e,r.Gc=n,r.type="orderBy",r}return Object(tl.c)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new rl(nl.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new rl(nl.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new bh(e,n);return function(t,e){if(null===Ah(t)){var n=xh(t);null!==n&&kb(0,n,e.field)}}(t,r),r}(t._query,this.Kc,this.Gc);return new _v(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new Sh(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(wb),Ob=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.zc=n,i.Hc=r,i}return Object(tl.c)(e,t),e.prototype._apply=function(t){return new _v(t.firestore,t.converter,Dh(t._query,this.zc,this.Hc))},e}(wb),Cb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Jc=n,i.Yc=r,i}return Object(tl.c)(e,t),e.prototype._apply=function(t){var e=Ib(t,this.type,this.Jc,this.Yc);return new _v(t.firestore,t.converter,function(t,e){return new Sh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(wb),Tb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Jc=n,i.Yc=r,i}return Object(tl.c)(e,t),e.prototype._apply=function(t){var e=Ib(t,this.type,this.Jc,this.Yc);return new _v(t.firestore,t.converter,function(t,e){return new Sh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(wb);function Ib(t,e,n,r){if(n[0]=Object(zo.h)(n[0]),n[0]instanceof lb)return function(t,e,n,r,i){if(!r)throw new rl(nl.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=jh(t);s<a.length;s++){var u=a[s];if(u.field.isKeyField())o.push(Wl(e,r.key));else{var c=r.data.field(u.field);if(Dl(c))throw new rl(nl.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new rl(nl.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new yh(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=zv(t.firestore);return function(t,e,n,r,i,o){var s=t.explicitOrderBy;if(i.length>s.length)throw new rl(nl.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.isKeyField()){if("string"!=typeof c)throw new rl(nl.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!kh(t)&&-1!==c.indexOf("/"))throw new rl(nl.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Ol.fromString(c));if(!Fl.isDocumentKey(l))throw new rl(nl.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Fl(l);a.push(Wl(e,h))}else{var f=tb(n,r,c);a.push(f)}}return new yh(a,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function Ab(t,e,n){if("string"==typeof(n=Object(zo.h)(n))){if(""===n)throw new rl(nl.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!kh(e)&&-1!==n.indexOf("/"))throw new rl(nl.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Ol.fromString(n));if(!Fl.isDocumentKey(r))throw new rl(nl.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Wl(t,new Fl(r))}if(n instanceof wv)return Wl(t,n._key);throw new rl(nl.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+gv(n)+".")}function xb(t,e){if(!Array.isArray(t)||0===t.length)throw new rl(nl.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new rl(nl.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function kb(t,e,n){if(!n.isEqual(e))throw new rl(nl.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var jb=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),Ul(t)){case 0:return null;case 1:return t.booleanValue;case 2:return jl(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Nl(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw ll()}},t.prototype.convertObject=function(t,e){var n=this,r={};return _l(t.fields,function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new Vv(jl(t.latitude),jl(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=Rl(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Pl(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=kl(t);return new vl(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=Ol.fromString(t);hl(Td(n));var r=new nv(n.get(1),n.get(3)),i=new Fl(n.popFirst(5));return r.isEqual(e)||al("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function Nb(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Db=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(tl.c)(e,t),e.prototype.convertBytes=function(t){return new Pv(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new wv(this.firestore,null,e)},e}(jb),Rb=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=zv(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=Pb(t,this._firestore),i=Nb(r.converter,e,n),o=Kv(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,rf.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,s=Pb(t,this._firestore);return o="string"==typeof(e=Object(zo.h)(e))||e instanceof Rv?Jv(this._dataReader,"WriteBatch.update",s._key,e,n,r):Zv(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,rf.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=Pb(t,this._firestore);return this._mutations=this._mutations.concat(new bf(e._key,rf.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new rl(nl.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function Pb(t,e){if((t=Object(zo.h)(t)).firestore!==e)throw new rl(nl.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Lb=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(tl.c)(e,t),e.prototype.convertBytes=function(t){return new Pv(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new wv(this.firestore,null,e)},e}(jb);function Vb(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=mv(t,wv);var o=mv(t.firestore,xv),s=zv(o);return Fb(o,[("string"==typeof(e=Object(zo.h)(e))||e instanceof Rv?Jv(s,"updateDoc",t._key,e,n,r):Zv(s,"updateDoc",t._key,e)).toMutation(t._key,rf.exists(!0))])}function Mb(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=Object(zo.h)(t);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||Av(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(Av(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof wv)c=mv(t.firestore,xv),l=Ch(t._key.path),u={next:function(e){i[a]&&i[a](Ub(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=mv(t,_v);c=mv(d.firestore,xv),l=d._query;var p=new Lb(c);u={next:function(t){i[a]&&i[a](new mb(c,p,d,t))},error:i[a+1],complete:i[a+2]},bb(t._query)}return function(t,e,n,r){var i=this,o=new Uy(r),s=new Ym(e,o,n);return t.asyncQueue.enqueueAndForget(function(){return Object(tl.b)(i,void 0,void 0,function(){var e;return Object(tl.d)(this,function(n){switch(n.label){case 0:return e=Km,[4,Zy(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})}),function(){o.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(tl.b)(i,void 0,void 0,function(){var e;return Object(tl.d)(this,function(n){switch(n.label){case 0:return e=Gm,[4,Zy(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})})}}(kv(c),l,h,u)}function Fb(t,e){return function(t,e){var n=this,r=new Yd;return t.asyncQueue.enqueueAndForget(function(){return Object(tl.b)(n,void 0,void 0,function(){var n;return Object(tl.d)(this,function(i){switch(i.label){case 0:return n=uy,[4,Xy(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(kv(t),e)}function Ub(t,e,n){var r=n.docs.get(e._key),i=new Lb(t);return new pb(t,i,e._key,r,new db(n.hasPendingWrites,n.fromCache),e.converter)}var qb=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Object(tl.c)(e,t),e.prototype.get=function(e){var n=this,r=Pb(e,this._firestore),i=new Lb(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new pb(n._firestore,i,r._key,t._document,new db(!1,!1),r.converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=zv(t)}return t.prototype.get=function(t){var e=this,n=Pb(t,this._firestore),r=new Db(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return ll();var i=t[0];if(i.isFoundDocument())return new lb(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new lb(e._firestore,r,n._key,null,n.converter);throw ll()})},t.prototype.set=function(t,e,n){var r=Pb(t,this._firestore),i=Nb(r.converter,e,n),o=Kv(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=Pb(t,this._firestore);return o="string"==typeof(e=Object(zo.h)(e))||e instanceof Rv?Jv(this._dataReader,"Transaction.update",s._key,e,n,r):Zv(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,o),this},t.prototype.delete=function(t){var e=Pb(t,this._firestore);return this._transaction.delete(e._key),this},t}());function Bb(){if("undefined"==typeof Uint8Array)throw new rl(nl.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Hb(){if("undefined"==typeof atob)throw new rl(nl.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var zb=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return Hb(),new t(Pv.fromBase64String(e))},t.fromUint8Array=function(e){return Bb(),new t(Pv.fromUint8Array(e))},t.prototype.toBase64=function(){return Hb(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return Bb(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),Kb=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Dv(t=mv(t,xv));var n=kv(t),r=t._freezeSettings(),i=new Fy;return Nv(n,i,new Vy(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Dv(t=mv(t,xv));var e=kv(t),n=t._freezeSettings(),r=new Fy;return Nv(e,r,new My(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new rl(nl.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Yd;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return Object(tl.b)(e,void 0,void 0,function(){var e;return Object(tl.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(tl.b)(this,void 0,void 0,function(){return Object(tl.d)(this,function(e){switch(e.label){case 0:return Jd.yt()?[4,Jd.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(lg(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),Gb=function(){function t(t,e,n){var r=this;this._delegate=e,this.Xc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof nv||(this.Zc=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||ul("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={});var i=(t=mv(t,bv))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==e&&ul("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:e+":"+n,ssl:!1})),r.mockUserToken){var o=Object(zo.d)(r.mockUserToken),s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new rl(nl.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");t._credentials=new sv(new iv(o,new qg(s)))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(tl.b)(e,void 0,void 0,function(){var e,n;return Object(tl.d)(this,function(r){switch(r.label){case 0:return[4,$y(t)];case 1:return e=r.sent(),[4,Yy(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=fl(t);return e.Or.delete(0),dm(e)}(n))]}})})})}(kv(mv(this._delegate,xv)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(tl.b)(e,void 0,void 0,function(){var e,n;return Object(tl.d)(this,function(r){switch(r.label){case 0:return[4,$y(t)];case 1:return e=r.sent(),[4,Yy(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Object(tl.b)(this,void 0,void 0,function(){var e;return Object(tl.d)(this,function(n){switch(n.label){case 0:return(e=fl(t)).Or.add(0),[4,pm(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(kv(mv(this._delegate,xv)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&fv("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Xc.enableMultiTabIndexedDbPersistence(this):this.Xc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Xc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.Zc&&(this.Zc._removeServiceInstance("firestore"),this.Zc._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Yd;return t.asyncQueue.enqueueAndForget(function(){return Object(tl.b)(e,void 0,void 0,function(){var e;return Object(tl.d)(this,function(r){switch(r.label){case 0:return e=py,[4,Xy(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(kv(mv(this._delegate,xv)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Uy(e);return t.asyncQueue.enqueueAndForget(function(){return Object(tl.b)(n,void 0,void 0,function(){var e;return Object(tl.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){fl(t).Gr.add(e),e.next()},[4,Zy(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(tl.b)(n,void 0,void 0,function(){var e;return Object(tl.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){fl(t).Gr.delete(e)},[4,Zy(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(kv(t=mv(t,xv)),Av(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Zc)throw new rl(nl.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Zc},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new sw(this,Sv(this._delegate,t))}catch(t){throw Zb(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new Xb(this,Ov(this._delegate,t))}catch(t){throw Zb(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new rw(this,function(t,e){if(t=mv(t,bv),lv("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new rl(nl.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new _v(t,null,function(t){return new Sh(Ol.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw Zb(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Yd;return t.asyncQueue.enqueueAndForget(function(){return Object(tl.b)(n,void 0,void 0,function(){var n;return Object(tl.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return Wy(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new By(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(kv(t),function(n){return e(new qb(t,n))})}(this._delegate,function(n){return t(new $b(e,n))})},t.prototype.batch=function(){var t=this;return kv(this._delegate),new Qb(new Rb(this._delegate,function(e){return Fb(t._delegate,e)}))},t.prototype.loadBundle=function(t){throw new rl(nl.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new rl(nl.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),Wb=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(tl.c)(e,t),e.prototype.convertBytes=function(t){return new zb(new Pv(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return Xb.tu(e,this.firestore,null)},e}(jb),$b=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new Wb(t)}return t.prototype.get=function(t){var e=this,n=aw(t);return this._delegate.get(n).then(function(t){return new ew(e._firestore,new pb(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))})},t.prototype.set=function(t,e,n){var r=aw(t);return n?(hv("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=aw(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,Object(tl.f)([s,e,n],i)),this},t.prototype.delete=function(t){var e=aw(t);return this._delegate.delete(e),this},t}(),Qb=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=aw(t);return n?(hv("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=aw(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,Object(tl.f)([s,e,n],i)),this},t.prototype.delete=function(t){var e=aw(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),Yb=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new gb(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new nw(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.eu=function(e,n){var r=t.nu,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new Wb(e),n),i.set(n,o)),o},t}();Yb.nu=new WeakMap;var Xb=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Wb(t)}return t.su=function(e,n,r){if(e.length%2!=0)throw new rl(nl.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new wv(n._delegate,r,new Fl(e)))},t.tu=function(e,n,r){return new t(n,new wv(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new sw(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new sw(this.firestore,Sv(this._delegate,t))}catch(t){throw Zb(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Object(zo.h)(t))instanceof wv&&Cv(this._delegate,t)},t.prototype.set=function(t,e){e=hv("DocumentReference.set",e);try{return function(t,e,n){t=mv(t,wv);var r=mv(t.firestore,xv),i=Nb(t.converter,e,n);return Fb(r,[Kv(zv(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,rf.none())])}(this._delegate,t,e)}catch(t){throw Zb(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Vb(this._delegate,t):Vb.apply(void 0,Object(tl.f)([this._delegate,t,e],n))}catch(t){throw Zb(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return Fb(mv((t=this._delegate).firestore,xv),[new bf(t._key,rf.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Jb(e),i=tw(e,function(e){return new ew(t.firestore,new pb(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))});return Mb(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=mv(t,wv);var e=mv(t.firestore,xv),n=kv(e),r=new Lb(e);return function(t,e){var n=this,r=new Yd;return t.asyncQueue.enqueueAndForget(function(){return Object(tl.b)(n,void 0,void 0,function(){var n;return Object(tl.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(tl.b)(this,void 0,void 0,function(){var r,i;return Object(tl.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=fl(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Mn.mn(t,e)})}(t,e)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new rl(nl.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Fm(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,Qy(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new pb(e,r,t._key,n,new db(null!==n&&n.hasLocalMutations,!0),t.converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=mv(t,wv);var e=mv(t.firestore,xv);return Jy(kv(e),t._key,{source:"server"}).then(function(n){return Ub(e,t,n)})}(this._delegate):function(t){t=mv(t,wv);var e=mv(t.firestore,xv);return Jy(kv(e),t._key).then(function(n){return Ub(e,t,n)})}(this._delegate)).then(function(t){return new ew(e.firestore,new pb(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?Yb.eu(this.firestore,e):null))},t}();function Zb(t,e,n){return t.message=t.message.replace(e,n),t}function Jb(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Av(r))return r}return{}}function tw(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Av(t[0])?t[0]:Av(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var ew=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new Xb(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return vb(this._delegate,t._delegate)},t}(),nw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(tl.c)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(ew),rw=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Wb(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,_b(this._delegate,function(t,e,n){var r=e,i=fb("where",t);return new Eb(i,r,n)}(e,n,r)))}catch(e){throw Zb(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,_b(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=fb("orderBy",t);return new Sb(r,n)}(e,n)))}catch(e){throw Zb(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,_b(this._delegate,function(t){return yv("limit",t),new Ob("limit",t,"F")}(e)))}catch(e){throw Zb(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,_b(this._delegate,function(t){return yv("limitToLast",t),new Ob("limitToLast",t,"L")}(e)))}catch(e){throw Zb(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,_b(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Cb("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw Zb(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,_b(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Cb("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw Zb(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,_b(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Tb("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw Zb(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,_b(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Tb("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw Zb(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return Tv(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=mv(t,_v);var e=mv(t.firestore,xv),n=kv(e),r=new Lb(e);return function(t,e){var n=this,r=new Yd;return t.asyncQueue.enqueueAndForget(function(){return Object(tl.b)(n,void 0,void 0,function(){var n;return Object(tl.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(tl.b)(this,void 0,void 0,function(){var r,i,o,s,a;return Object(tl.d)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Cg(t,e,!0)];case 1:return a=u.sent(),r=new ey(e,a.Bn),i=r._o(a.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=Fm(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,Qy(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new mb(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=mv(t,_v);var e=mv(t.firestore,xv),n=kv(e),r=new Lb(e);return tv(n,t._query,{source:"server"}).then(function(n){return new mb(e,r,t,n)})}(this._delegate):function(t){t=mv(t,_v);var e=mv(t.firestore,xv),n=kv(e),r=new Lb(e);return bb(t._query),tv(n,t._query).then(function(n){return new mb(e,r,t,n)})}(this._delegate)).then(function(t){return new ow(e.firestore,new mb(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Jb(e),i=tw(e,function(e){return new ow(t.firestore,new mb(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return Mb(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?Yb.eu(this.firestore,e):null))},t}(),iw=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new nw(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),ow=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new rw(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new nw(t._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new iw(e._firestore,t)})},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new nw(n._firestore,r))})},t.prototype.isEqual=function(t){return vb(this._delegate,t._delegate)},t}(),sw=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Object(tl.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new Xb(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Xb(this.firestore,void 0===t?Ov(this._delegate):Ov(this._delegate,t))}catch(t){throw Zb(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=mv(t.firestore,xv),r=Ov(t),i=Nb(t.converter,e);return Fb(n,[Kv(zv(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,rf.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new Xb(e.firestore,t)})},e.prototype.isEqual=function(t){return Cv(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?Yb.eu(this.firestore,t):null))},e}(rw);function aw(t){return mv(t,wv)}var uw,cw=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(Rv.bind.apply(Rv,Object(tl.f)([void 0],t)))}return t.documentId=function(){return new t(Tl.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Object(zo.h)(t))instanceof Rv&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),lw=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new $v("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new Gv("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Qv("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Yv("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new Xv("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),hw=n("/6Yf"),fw={Firestore:Gb,GeoPoint:Vv,Timestamp:vl,Blob:zb,Transaction:$b,WriteBatch:Qb,DocumentReference:Xb,DocumentSnapshot:ew,Query:rw,QueryDocumentSnapshot:nw,QuerySnapshot:ow,CollectionReference:sw,FieldPath:cw,FieldValue:lw,setLogLevel:function(t){il.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new hw.a("firestore",function(t){return function(t,e){return new Gb(t,new xv(t,e),new Kb)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},fw)))})(uw=Ho.a),uw.registerVersion("@firebase/firestore","2.3.6");var dw=n("VRyK"),pw=n("qgXg"),gw=n("Ylt2");class mw extends yt.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new yw(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new vt.a;if(this.isStopped||this.hasError?o=ye.a.EMPTY:(this.observers.push(t),o=new gw.a(this,t)),r&&t.add(t=new Uo.a(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||pw.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class yw{constructor(t,e){this.time=t,this.value=e}}function vw(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,a=!1,u=!1;return function(c){let l;s++,!i||a?(a=!1,i=new mw(t,e,r),l=i.subscribe(this),o=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,o=void 0,i.complete()}}),u&&(o=void 0)):l=i.subscribe(this),this.add(()=>{s--,l.unsubscribe(),l=void 0,o&&!u&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}function bw(t,e){return e?Ft(()=>t,e):Ft(()=>t)}var ww=n("tf+s");const _w=new r.q("angularfire2.auth.use-emulator"),Ew=new r.q("angularfire2.auth.settings"),Sw=new r.q("angularfire2.auth.tenant-id"),Ow=new r.q("angularfire2.auth.langugage-code"),Cw=new r.q("angularfire2.auth.use-device-language"),Tw=new r.q("angularfire.auth.persistence");let Iw=(()=>{class t{constructor(t,e,r,i,o,s,a,u,c,l){const h=new qo.d(i),f=Object(qo.h)(h),d=new yt.a,p=Object(mt.a)(void 0).pipe(Object(Uo.b)(h.outsideAngular),Ft(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(Vt.a)(()=>Object(qo.g)(t,i,e)),Object(Vt.a)(t=>i.runOutsideAngular(()=>{const e=o,n=s;return Object(qo.f)(t.name+".auth","AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());if(e&&r.useEmulator("http://"+e.join(":")),a&&(r.tenantId=a),r.languageCode=u,c&&r.useDeviceLanguage(),n)for(const[t,e]of Object.entries(n))r.settings[t]=e;return l&&r.setPersistence(l),r},[e,a,u,c,n,l])})),vw({bufferSize:1,refCount:!1}));if(L(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(mt.a)(null);else{p.pipe(ge()).subscribe();const t=p.pipe(Ft(t=>t.getRedirectResult().then(t=>t,()=>null)),f,vw({bufferSize:1,refCount:!1})),e=t=>new Tt.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(Ft(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(Ft(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(bw(n),Object(ww.a)(h.outsideAngular),Object(Uo.b)(h.insideAngular)),this.user=t.pipe(bw(r),Object(ww.a)(h.outsideAngular),Object(Uo.b)(h.insideAngular)),this.idToken=this.user.pipe(Ft(t=>t?Object(gt.a)(t.getIdToken()):Object(mt.a)(null))),this.idTokenResult=this.user.pipe(Ft(t=>t?Object(gt.a)(t.getIdTokenResult()):Object(mt.a)(null))),this.credential=Object(dw.a)(t,d,this.authState.pipe(Yt(t=>!t))).pipe(Object(Vt.a)(t=>(null==t?void 0:t.user)?t:null),Object(ww.a)(h.outsideAngular),Object(Uo.b)(h.insideAngular))}return Object(qo.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>d.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(qo.c),r.Pb(qo.b,8),r.Pb(r.B),r.Pb(r.z),r.Pb(_w,8),r.Pb(Ew,8),r.Pb(Sw,8),r.Pb(Ow,8),r.Pb(Cw,8),r.Pb(Tw,8))},t.\u0275prov=r.Eb({factory:function(){return new t(r.Pb(qo.c),r.Pb(qo.b,8),r.Pb(r.B),r.Pb(r.z),r.Pb(_w,8),r.Pb(Ew,8),r.Pb(Sw,8),r.Pb(Ow,8),r.Pb(Cw,8),r.Pb(Tw,8))},token:t,providedIn:"any"}),t})();function Aw(t,e){return function(t,e=Ro.a){return new Tt.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function xw(t,e){return Aw(t,e).pipe(Object(Vt.a)(t=>({payload:t,type:"query"})))}function kw(t,e){return xw(t,e).pipe(Gt(void 0),Po(),Object(Vt.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function jw(t,e,n){return kw(t,n).pipe(Wt((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return Nw(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return Nw(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Nw(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new Mo(void 0,void 0)),Object(Vt.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function Nw(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function Dw(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}Object(qo.e)(Iw,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);class Rw{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=kw(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(Vt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(Gt(void 0),Po(),Yt(([t,e])=>e.length>0||!t),Object(Vt.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Wt((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Dw(t);return jw(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return xw(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Vt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(gt.a)(this.query.get(t)).pipe(Object(Uo.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new Pw(this.ref.doc(t),this.afs)}}class Pw{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=qw(n,e);return new Rw(r,i,this.afs)}snapshotChanges(){return Aw(this.ref,this.afs.schedulers.outsideAngular).pipe(Gt(void 0),Po(),Object(Vt.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(Vt.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(gt.a)(this.ref.get(t)).pipe(Object(Uo.b)(this.afs.schedulers.insideAngular))}}class Lw{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?kw(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Vt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Yt(t=>t.length>0),this.afs.keepUnstableUntilFirst):kw(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Wt((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Dw(t);return jw(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return xw(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Vt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(gt.a)(this.query.get(t)).pipe(Object(Uo.b)(this.afs.schedulers.insideAngular))}}const Vw=new r.q("angularfire2.enableFirestorePersistence"),Mw=new r.q("angularfire2.firestore.persistenceSettings"),Fw=new r.q("angularfire2.firestore.settings"),Uw=new r.q("angularfire2.firestore.use-emulator");function qw(t,e=(t=>t)){return{query:e(t),ref:t}}let Bw=(()=>{class t{constructor(t,e,n,r,i,o,s,a,u){this.schedulers=new qo.d(o),this.keepUnstableUntilFirst=Object(qo.h)(this.schedulers);const c=Object(qo.g)(t,o,e);!Bo.a.auth&&u&&Object(qo.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(qo.f)(c.name+".firestore","AngularFirestore",c,()=>{const t=o.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!L(i)){const e=()=>{try{return Object(gt.a)(t.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(uw){return"undefined"!=typeof console&&console.warn(uw),Object(mt.a)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,Object(mt.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=qw(n,e),o=this.schedulers.ngZone.run(()=>r);return new Rw(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new Lw(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new Pw(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(qo.c),r.Pb(qo.b,8),r.Pb(Vw,8),r.Pb(Fw,8),r.Pb(r.B),r.Pb(r.z),r.Pb(Mw,8),r.Pb(Uw,8),r.Pb(_w,8))},t.\u0275prov=r.Eb({factory:function(){return new t(r.Pb(qo.c),r.Pb(qo.b,8),r.Pb(Vw,8),r.Pb(Fw,8),r.Pb(r.B),r.Pb(r.z),r.Pb(Mw,8),r.Pb(Uw,8),r.Pb(_w,8))},token:t,providedIn:"any"}),t})(),Hw=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:Vw,useValue:!0},{provide:Mw,useValue:e}]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[Bw]}),t})(),zw=(()=>{class t{constructor(t){this.db=t,this.ingredientes=new Array,this.actualizarIngredientes()}actualizarIngredientes(){this.ingredientes.length=0,this.db.collection("ingredientes").get().subscribe(t=>{t.forEach(t=>{let e=t.data();e.id=t.id,this.ingredientes.push(e)})})}save(t){this.db.collection("ingredientes").add(t).then(t=>{console.log("Ingrediente guardado"),this.actualizarIngredientes()}).catch(t=>{console.log(t)})}getAll(){return this.ingredientes}update(t,e){this.db.doc("ingredientes/"+e).update(t).then(t=>{console.log("logrado"),this.actualizarIngredientes()}).catch(t=>{console.log(t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(Bw))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Kw(t,e){if(1&t){const t=r.Mb();r.Lb(0,"div",15),r.Lb(1,"div",16),r.Lb(2,"div",17),r.bc(3),r.Kb(),r.Lb(4,"ul",18),r.Lb(5,"li",19),r.bc(6),r.Kb(),r.Lb(7,"li",19),r.bc(8),r.Kb(),r.Lb(9,"li",19),r.Lb(10,"button",20),r.Sb("click",function(){r.Xb(t);const n=e.$implicit;return r.Ub().setFormulario(n)}),r.Jb(11,"i",21),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb()}if(2&t){const t=e.$implicit;r.yb(3),r.dc(" ",t.nombre," "),r.yb(3),r.dc("Valor:",t.valor,""),r.yb(2),r.dc("Identificador: ",t.codigo,"")}}function Gw(t,e){if(1&t){const t=r.Mb();r.Lb(0,"button",22),r.Sb("click",function(){return r.Xb(t),r.Ub().guardar()}),r.bc(1,"Guardar"),r.Kb()}if(2&t){const t=r.Ub();r.Vb("disabled",t.formulario.invalid)}}function Ww(t,e){if(1&t){const t=r.Mb();r.Lb(0,"button",23),r.Sb("click",function(){return r.Xb(t),r.Ub().update()}),r.bc(1,"Update"),r.Kb()}if(2&t){const t=r.Ub();r.Vb("disabled",t.formulario.invalid)}}let $w=(()=>{class t{constructor(t,e){this.iService=t,this.fb=e,this.ingredientes=new Array,this.updating=!1}ngOnInit(){this.getAll(),this.formulario=this.fb.group({nombre:["",Ti.required],valor:["0",Ti.required],codigo:["",Ti.required]})}getAll(){this.ingredientes=this.iService.getAll()}guardar(){new Do,this.iService.save(this.formulario.value),this.getAll(),this.formulario.reset()}setFormulario(t){this.updateIngrediente=t,this.updating=!0,this.formulario.setValue({nombre:t.nombre,codigo:t.codigo,valor:t.valor})}update(){this.iService.update(this.formulario.value,this.updateIngrediente.id)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(zw),r.Ib(ko))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-ingrediente"]],decls:22,vars:4,consts:[[1,"container"],[1,"row"],[1,"col-8","row","g-0"],["class","col-4 p-1",4,"ngFor","ngForOf"],[1,"col-4","g-0","border","rounded","mt-1","p-2"],[3,"formGroup"],[1,"mb-3"],["for","nombre",1,"form-label"],["type","text","id","nombre","formControlName","nombre",1,"form-control"],["for","codigo",1,"form-label"],["type","text","id","codigo","formControlName","codigo",1,"form-control"],["for","valor",1,"form-label"],["type","number","id","valor","formControlName","valor",1,"form-control"],["type","button","class","btn btn-primary",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-warning",3,"disabled","click",4,"ngIf"],[1,"col-4","p-1"],[1,"card"],[1,"card-header"],[1,"list-group","list-group-flush"],[1,"list-group-item"],["title","Modificar.",1,"badge","btn","btn-danger",3,"click"],[1,"fas","fa-pen"],["type","button",1,"btn","btn-primary",3,"disabled","click"],["type","button",1,"btn","btn-warning",3,"disabled","click"]],template:function(t,e){1&t&&(r.Lb(0,"div",0),r.Lb(1,"div",1),r.Lb(2,"div",2),r.ac(3,Kw,12,3,"div",3),r.Kb(),r.Lb(4,"div",4),r.Lb(5,"form",5),r.Lb(6,"h5"),r.bc(7,"INGREDIENTESS"),r.Kb(),r.Lb(8,"div",6),r.Lb(9,"label",7),r.bc(10,"Nombre"),r.Kb(),r.Jb(11,"input",8),r.Kb(),r.Lb(12,"div",6),r.Lb(13,"label",9),r.bc(14,"Codigo"),r.Kb(),r.Jb(15,"input",10),r.Kb(),r.Lb(16,"div",6),r.Lb(17,"label",11),r.bc(18,"Valor"),r.Kb(),r.Jb(19,"input",12),r.Kb(),r.ac(20,Gw,2,1,"button",13),r.ac(21,Ww,2,1,"button",14),r.Kb(),r.Kb(),r.Kb(),r.Kb()),2&t&&(r.yb(3),r.Vb("ngForOf",e.ingredientes),r.yb(2),r.Vb("formGroup",e.formulario),r.yb(15),r.Vb("ngIf",!e.updating),r.yb(1),r.Vb("ngIf",e.updating))},directives:[k,So,Hi,To,wi,Bi,Ao,Ki,N],styles:[""]}),t})(),Qw=(()=>{class t{constructor(t){this.db=t,this.productos=new Array,this.getData()}getAll(){return this.productos}getData(){this.productos.length=0,this.db.collection("productos").get().subscribe(t=>{t.forEach(t=>{let e=t.data();e.iddb=t.id,this.productos.push(e)})}),console.log(this.productos)}save(t){this.db.collection("productos").add(t).then(t=>{console.log("Producto gruardado")}).catch(t=>{console.log("Se ha producido un error")}),this.getData()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(Bw))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Yw(t,e){1&t&&(r.Lb(0,"span",33),r.bc(1,"SI"),r.Kb())}function Xw(t,e){1&t&&(r.Lb(0,"span",34),r.bc(1,"NO"),r.Kb())}function Zw(t,e){if(1&t&&(r.Lb(0,"span"),r.bc(1),r.Kb()),2&t){const t=e.$implicit;r.yb(1),r.dc(" ",t,"")}}function Jw(t,e){if(1&t&&(r.Lb(0,"div",23),r.Lb(1,"div",24),r.Lb(2,"div",25),r.bc(3),r.Kb(),r.Lb(4,"ul",26),r.Lb(5,"li",27),r.bc(6),r.Kb(),r.Lb(7,"li",27),r.bc(8),r.Kb(),r.Lb(9,"li",27),r.bc(10,"editable: "),r.ac(11,Yw,2,0,"span",28),r.ac(12,Xw,2,0,"span",29),r.Kb(),r.Lb(13,"li",27),r.bc(14,"ingredientes: "),r.ac(15,Zw,2,1,"span",30),r.Kb(),r.Lb(16,"li",27),r.Lb(17,"button",31),r.Jb(18,"i",32),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb()),2&t){const t=e.$implicit;r.yb(3),r.dc(" ",t.nombre," "),r.yb(3),r.dc("Codigo: ",t.codigo,""),r.yb(2),r.dc("Valor: ",t.valor,""),r.yb(3),r.Vb("ngIf",t.editable),r.yb(1),r.Vb("ngIf",!t.editable),r.yb(3),r.Vb("ngForOf",t.ingredientes)}}function t_(t,e){if(1&t){const t=r.Mb();r.Lb(0,"div",35),r.Lb(1,"input",36),r.Sb("change",function(e){return r.Xb(t),r.Ub().onCheckChange(e)}),r.Kb(),r.Lb(2,"label",37),r.bc(3),r.Kb(),r.Jb(4,"br"),r.Kb()}if(2&t){const t=e.$implicit;r.yb(1),r.Vb("id",t.codigo)("value",t.codigo),r.yb(1),r.Vb("for",t.codigo),r.yb(1),r.cc(t.nombre)}}function e_(t,e){if(1&t){const t=r.Mb();r.Lb(0,"button",38),r.Sb("click",function(){return r.Xb(t),r.Ub().guardar()}),r.bc(1,"Guardar"),r.Kb()}if(2&t){const t=r.Ub();r.Vb("disabled",t.formulario.invalid)}}function n_(t,e){if(1&t){const t=r.Mb();r.Lb(0,"button",39),r.Sb("click",function(){return r.Xb(t),r.Ub().update()}),r.bc(1,"Update"),r.Kb()}if(2&t){const t=r.Ub();r.Vb("disabled",t.formulario.invalid)}}const r_=[{path:"",component:$w},{path:"ingredientes",component:$w},{path:"productos",component:(()=>{class t{constructor(t,e,n){this.fb=t,this.iservice=e,this.pService=n,this.updating=!1}ngOnInit(){this.getProductos(),this.getIngredientes(),this.formulario=this.fb.group({nombre:["",Ti.required],codigo:["",Ti.required],ingredientes:new Eo([]),editable:[!0],valor:["0",Ti.required]})}getProductos(){this.productos=this.pService.getAll()}getIngredientes(){this.ingredientes=this.iservice.getAll()}guardar(){this.pService.save(this.formulario.value),this.formulario.reset()}update(){}umh(){console.log("pressed")}onCheckChange(t){let e=this.formulario.get("ingredientes");if(t.target.checked)e.push(new wo(t.target.value));else{let n=0;e.controls.forEach(r=>{r.value!=t.target.value?n++:e.removeAt(n)})}}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(ko),r.Ib(zw),r.Ib(Qw))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-producto"]],decls:35,vars:5,consts:[[1,"container"],[1,"row"],[1,"col-7","row","g-0"],["class","col-6 col-lg-4  p-1",4,"ngFor","ngForOf"],[1,"col-5","g-0","border","rounded","mt-1","p-2"],[3,"formGroup"],[1,"mb-3"],["for","nombre",1,"form-label"],["type","text","id","nombre","formControlName","nombre",1,"form-control"],["for","codigo",1,"form-label"],["type","text","id","codigo","formControlName","codigo",1,"form-control"],["for","ingredientes",1,"form-label"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseIngredientes","aria-expanded","false","aria-controls","collapseIngredientes",1,"btn","btn-primary","badge","form-control"],[1,"fas","fa-arrows-alt-v"],["id","collapseIngredientes",1,"border","px-3","collapse"],["class","col-3 g-0 ",4,"ngFor","ngForOf"],[1,"form-check","form-switch"],["type","checkbox","id","editable","formControlName","editable",1,"form-check-input"],["for","editable",1,"form-check-label"],["for","valor",1,"form-label"],["type","number","id","valor","formControlName","valor",1,"form-control"],["type","button","class","btn btn-primary",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-warning",3,"disabled","click",4,"ngIf"],[1,"col-6","col-lg-4","p-1"],[1,"card"],[1,"card-header"],[1,"list-group","list-group-flush"],[1,"list-group-item"],["class","bg-success px-2 border rounded-2 ",4,"ngIf"],["class","bg-danger  px-2 border rounded-2",4,"ngIf"],[4,"ngFor","ngForOf"],["title","Modificar.",1,"badge","btn","btn-danger"],[1,"fas","fa-pen"],[1,"bg-success","px-2","border","rounded-2"],[1,"bg-danger","px-2","border","rounded-2"],[1,"col-3","g-0"],["type","checkbox","autocomplete","off",1,"btn-check",3,"id","value","change"],[1,"btn","btn-outline-primary","w-100",3,"for"],["type","button",1,"btn","btn-primary",3,"disabled","click"],["type","button",1,"btn","btn-warning",3,"disabled","click"]],template:function(t,e){1&t&&(r.Lb(0,"div",0),r.Lb(1,"div",1),r.Lb(2,"div",2),r.ac(3,Jw,19,6,"div",3),r.Kb(),r.Lb(4,"div",4),r.Lb(5,"form",5),r.Lb(6,"h5"),r.bc(7,"PRODUCTO"),r.Kb(),r.Lb(8,"div",6),r.Lb(9,"label",7),r.bc(10,"Nombre"),r.Kb(),r.Jb(11,"input",8),r.Kb(),r.Lb(12,"div",6),r.Lb(13,"label",9),r.bc(14,"Codigo"),r.Kb(),r.Jb(15,"input",10),r.Kb(),r.Lb(16,"div",6),r.Lb(17,"label",11),r.bc(18," Ingredientes iniciales "),r.Kb(),r.Lb(19,"button",12),r.Jb(20,"i",13),r.Kb(),r.Lb(21,"div",14),r.Lb(22,"div",1),r.ac(23,t_,5,4,"div",15),r.Kb(),r.Kb(),r.Kb(),r.Lb(24,"div",6),r.Lb(25,"div",16),r.Jb(26,"input",17),r.Lb(27,"label",18),r.bc(28,"Ingredientable"),r.Kb(),r.Kb(),r.Kb(),r.Lb(29,"div",6),r.Lb(30,"label",19),r.bc(31,"Valor"),r.Kb(),r.Jb(32,"input",20),r.Kb(),r.ac(33,e_,2,1,"button",21),r.ac(34,n_,2,1,"button",22),r.Kb(),r.Kb(),r.Kb(),r.Kb()),2&t&&(r.yb(3),r.Vb("ngForOf",e.productos),r.yb(2),r.Vb("formGroup",e.formulario),r.yb(18),r.Vb("ngForOf",e.ingredientes),r.yb(10),r.Vb("ngIf",!e.updating),r.yb(1),r.Vb("ngIf",e.updating))},directives:[k,So,Hi,To,wi,Bi,Ao,yi,Ki,N],styles:[""]}),t})()}];let i_=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},imports:[[ii.forRoot(r_)],ii]}),t})(),o_=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["app-header"]],decls:8,vars:0,consts:[[1,"container","mt-1"],[1,"nav","nav-tabs"],[1,"nav-item"],["routerLink","/ingredientes",1,"nav-link"],["routerLink","/productos",1,"nav-link"]],template:function(t,e){1&t&&(r.Lb(0,"div",0),r.Lb(1,"ul",1),r.Lb(2,"li",2),r.Lb(3,"a",3),r.bc(4,"Ingredientes"),r.Kb(),r.Kb(),r.Lb(5,"li",2),r.Lb(6,"a",4),r.bc(7,"Productos"),r.Kb(),r.Kb(),r.Kb(),r.Kb())},directives:[Gr],styles:[""]}),t})(),s_=(()=>{class t{constructor(){this.title="MSManager"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Jb(0,"app-header"),r.Jb(1,"router-outlet"))},directives:[o_,$r],styles:[""]}),t})(),a_=(()=>{class t{}return t.\u0275mod=r.Gb({type:t,bootstrap:[s_]}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[zw],imports:[[pt,i_,No,jo,qo.a.initializeApp(i),Hw]]}),t})();Object(r.S)(),ft().bootstrapModule(a_).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return u});var r=n("7o/Q"),i=n("HDdC"),o=n("SeVD");class s extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(e.closed)return;if(t instanceof i.a)return t.subscribe(e);let n;try{n=Object(o.a)(t)(e)}catch(r){e.error(r)}return n}}},[[0,0]]]);